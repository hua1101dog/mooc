(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb9179c8","chunk-48c739d6","chunk-735e9382","chunk-1892e786","chunk-87555638","chunk-4f66c8f9","chunk-7a91951d","chunk-2380b104","chunk-2e9266f1","chunk-42e1ef01","chunk-676edc3d"],{"000d":function(t,e,i){"use strict";var a=i("61db"),s=i.n(a);s.a},"018d":function(t,e,i){"use strict";var a=i("e195"),s=i.n(a);s.a},"022b":function(t,e,i){t.exports=i.p+"static/img/u5811.6c0cfe54.png"},"037f":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"editor"},[i("div",{ref:"toolbar",staticClass:"toolbar"}),i("div",{ref:"editor",staticClass:"text"})])},s=[],r=i("49f2"),n=i.n(r),o=(i("422c"),{name:"Editoritem",model:{prop:"value",event:"change",isChange:!1},props:{value:{type:String,default:""},isClear:{type:Boolean,default:!1}},data:function(){return{editor:null,info_:null}},watch:{isClear:function(t){t&&(this.editor.txt.clear(),this.info_=null)},value:function(t){this.isChange||this.editor.txt.html(this.value),this.isChange=!1}},mounted:function(){this.seteditor(),this.editor.txt.html(this.value)},methods:{seteditor:function(){var t=this;this.editor=new n.a(this.$refs.toolbar,this.$refs.editor),this.editor.customConfig.uploadImgShowBase64=!1,this.editor.customConfig.uploadImgServer="",this.editor.customConfig.uploadImgHeaders={},this.editor.customConfig.uploadFileName="file",this.editor.customConfig.uploadImgParams={file_type:"img"},this.editor.customConfig.uploadImgMaxSize=2097152,this.editor.customConfig.uploadImgMaxLength=6,this.editor.customConfig.uploadImgTimeout=18e4,this.editor.customConfig.emotions=[{title:"默认",type:"image",content:[{alt:"[坏笑]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/50/pcmoren_huaixiao_org.png"},{alt:"[舔屏]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/40/pcmoren_tian_org.png"},{alt:"[哈哈]",src:"http://img.t.sinajs.cn/t4/appstyle/expression/ext/normal/8f/2018new_haha_org.png"},{src:"http://img.t.sinajs.cn/t35/style/images/common/face/ext/normal/7a/shenshou_thumb.gif",alt:"[草泥马]"}]}],this.editor.customConfig.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","table","video","code","undo","redo","fullscreen"],this.editor.customConfig.uploadImgHooks={fail:function(t,e,i){},success:function(t,e,i){},timeout:function(t,e){},error:function(t,e){},customInsert:function(e,i,a){if(200==i.code){var s=i.data.image_url;JSON.stringify(s),e(s)}else t.$Message.error(i.msg)}},this.editor.customConfig.onchange=function(e){t.isChange=!0,t.info_=e,t.$emit("change",t.info_)},this.editor.create()}}}),l=o,c=(i("96a3"),i("9ca4")),u=Object(c["a"])(l,a,s,!1,null,null,null);e["a"]=u.exports},"0555":function(t,e,i){},"05cf":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeoAAAFtCAMAAAD/BtloAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEtQTFRF2NjY7e3t7+/v5OTk7u7u29vb5ubm7Ozs2dnZ5+fn3Nzc2tra4eHh4uLi4+Pj6Ojo6+vr6urq6enp5eXl3d3d39/f3t7e4ODg8PDwOiTxYgAACTxJREFUeNrs3Yly2joAQFFJli3vK0b8/5fWG9gmQGmTWAbunXkzfQ1JZziRkbyKE31IgrcAaoKaoCaoCWqCmqAmqAlqghpqgpqgJqgJaoKaoCaoCWqCGmqCmqAmqAlqgpqgJqgJaoIaaoKaoCaoCWqCmqAmqAlqgpqghpqgJqgJaoKaoCaoCWqCmqCGmqAmqAlqgpqgJqgJaoKaoIaaoCaoCWqCmqAmqAlqgpqgJqihJqgJaoKaoCaoCWqCmqAmqKEmqAlqgpqgJqgJaoKaoCaooSaoCWqCmqAmqAlqgpqgJqgJaqgJ6v0lN09BvX0myqyD0qaEetvx7Fln5RLq7aqs0wqot6qwjoug/ogx3VdDvUU6dU9tJdQbFEzvtou5sDn/4x7UGwzq6c12tOgx0zbFQL3VnKxytqB/yVn4S1J7rjegzbi6hvrXS90O6tOpHIe1gvq3cz4DniYLGupfTjl/o9UrLreghhpqqKGGGmqooYYaaqihhhpqqKGGGmqooX4bai3LSkqo3536cjVA2lQK6velNvnqaowa6jelVs31uZ2ZhPodqXV+4zKrEur3o75zingF9btRq/zOCfoG6jejDu5eKqugfitqs831dFC7p350zbWG+o2ozUaXyULtnDp6eGMLqN+IOtvoKlmoXVOrrS5+h9o1tdzqnhZQu6YuH1MH//SPlJWE+hOoq37/al5CvVNq82Mb8PNtdTwJ9S6p9U9Ny6r5mEmgod7jYuvxjY+ePpK5Wp6nhYJ6f9TNQ+onD3h8ObUhq6HeHfXDeVnz3E+/dWrD9fwMaufU6tHusueOWMvbP2I9P4PaOfWjG1I+d0Ok8u7H/XJ+BrV76lP+vT3gj+5dupifQb0Dapl+Z6X1l/sRX04zhnoH1PdmZs/sKVPN3+/5XkK9G+rl7o9/lH7qsQHD/AzqXVDfmkM/czdQ/eyDQLr5GdT7oD6p6NFC6U7m+VuMp4WGeh/U3Qidn9Xz5PNzyn+663sG9V6o+814VQRBUJfP7Q39v0eBQL0L6n8qsFB/BLX63yd2Qf1i1Dq3UH8Etfz/py1C/VLU5Tee4wT1K1HXn/OkrQ+njizUH0H9xPENqN+C+v+n3lDviVoHmfWqX5p6Q70f6vMRj+D+flHz/UeoQu2eej5mnd0b2D/xWGSoXVOvb0aY3wT5kUedQ+2WWgePzvWcCizUr06tivThuZ7jizwL9atTl3dm1dny/ASdWahfnFp6fzn9b3xVaqF+bWr1l72c0bgVL39MGmpH1PVfCYcz9gtroX5p6vKpnZx5GVioX5paN9ZFUG9NrQprof4E6iqzUH8CtcythfoDqHVgLdSfQF2kFupPoC4za6H+BOrcWqg/g9pCDTXUUEMNNdRQQw011FBDDTXUUEMNNdRQQw011FBDDTXUUEO9TEP92+2FWkH92+X7kE5PUP920T6oA6h/PbMP6grqD9mCZwrq3+/y+IXU27z0RQf1i1KfAveD2jtBvcnSOmfz/SHU374T7HfL9QnqrXJ6vVakTlBvl44cYaeBfsX364Wp+wX28DCtTYuq8kXfrNemJqgJaqgJaoKaoCaoCWqCmqBeJc31sQf18/uolYLaeSr2zdrZNOnPnCGizfmkft1EGmqXaSllFCaVHOpoTFnkRyHC6cQBWZkbnY9X1OZm5eWijUgcJ+BahBJql9nEj0OR+H2JL3PRl8RZPW1uA3GrZPo9EXdKZ+rD9IOM8BXULst8/yzt+wedC9960WJzXkxf8hMR+peO01cTYbO0r23TbCxNs1hczhorxPmlUO+gVETd5/MkL67Owr/w1OLw9VsTMW6ejd8uts4e1PusCmN9OohyovbUufXLitvUg7A6iri1bV8/m8uh3ue8rBWN1rGodFdH3Tae5/X/XT0asRDtPWplRTIUCtHP5qDeZ7EQh8MhFPHh4CfTtGxofUGsau5Sd78soh7ncOHBfBnVeqwSvhz/JCXUjqbgSRh2wzHsM7nI6qJuRVoH9WoQqu4rN6lV7Ys2Ed02QEVJPEzoVtSP5udQb7v/ZBrbZvhzK4rhEzu6LLunD25pRa7m5GValoehd5LdpLv7ZRil19ThIb7Kz6F26B2LUsm60sdhUzxTB3cWzv48qodH4JqDSMRhWqTd/Kx+h16bOkrzflkcDoDHKPbLFXUUTo3C5/8L49UMvOftXnG+XmNF3UK9k4LwvAPsaLM6HydjM/XlsEcpDqWIr5fbE7UOuiGd+SIZsRfUDdS7yURFXZrps9rEo/FMvZiAW72gXszAdWFDEXr6pL2km817FdQ7X3L1G+4iHCdWX/aZnWQrAnmLuum3/XGU2UD2z78+9h8Dhwt1N1UL43l/aqyhdj4JL4Jhk1yO+8wqz1y9pOxWxeYWtYn9rFSqJ449eVKmiYN5VOv01mQOandD+rKuPnd9kXtHlp5uUks97EFVMhg248MvzkxtjmFwWaDVUDvP73eVzR27zfLVKwrhmzvU/UagHDYJOoqLqxl4lfj15cUV1DugLtWy7Jra+P2usgV1MG7vR+oo6RZfbV5fPohn6kIcJNS7ovaiRcXxiloehhMMFtQ2LGZqE2St3y+647xeU+tM2BPUu6K+bkVdxuPYnKnVcTq+MR3ZUkrLumk77aRZHtnqvrOBesejul6P6iAR8TAxX4zqRJjlLpRpb4ussyRajupmuf2GehfU68OKy8/q8hiK4/hlc6bSkQjP5OrLum0+C6VMVkfDoN4DdeIvCy/UZTcbF9403zLdwvj8gvRM7d8oHKnNcTWood4F9Uoqnql1K9rqPHBVv+NzOOiRZPoBdZyM1FUSRusVWwK121Qoarmsnbe75fI8fSWn87zl9JdaiEp+LR0HvZp2wS0W5+wYdVx9dRqZKczT33nrby/fv/6xyhhGNUFNUBPUBDVBTVAT1FAT1AQ1QU1QE9QENUFNUBPUUPMWQE1QE9QENUFNUBPUBDVBTVBDTVAT1AQ1QU1QE9QENUFNUENNUBPUBDVBTVAT1AQ1QU1QQ01QE9QENUFNUBPUBDVBTVAT1FAT1AQ1QU1QE9QENUFNUBPUUBPUBDVBTVAT1AQ1QU1QE9RQE9QENUFNUBPUBDVBTVAT1AQ11AQ1QU1QE9QENUFNUBPUBDXUBDVBTVAT1AQ1QU0/1B8BBgAbMLOYZP4gbwAAAABJRU5ErkJggg=="},"0a43":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAATCAYAAACZZ43PAAACHUlEQVQ4T53S32vOYRjH8ffnvp/HNizDxvbsWdmaSAkjWpqiNjmURlJEohQ2tvlRW8uJlRRFDvAP+A/kVPkXnDhyImw2zLI93/uj72qiWOY6v1/XdV+fSxND5RPgo8B+oyJQEWTGUQhgDhgH1hqqhTPQe0y9EXrbX15TW1Rb5nRbsB94Z3gpaUoQDMliJkCt7Z02bUF6kWCToH2+RV5TQ+XdGdy3aSb4HmTPg5i2Q/IcTgWWR4eziMM4DRPCXszxn8CzXmJPa9OOROzDbEOM234HzAhNg2sRW0EbsF8StBG75SeQT2HQ14H1DbOhsE+ox3aHpFbgO2YNcgE0i3kj0WSo+Q1Y+E4+TWe5vKq6mLVFhzuWSoKV4HWgfKrr2F1IvX8EFqDJwaYOKz6SeWxcQYwZZiyfCISDTr7wV8C9xKnW5sOGcyFquFJJXZJG5iN1OonCQcH5vwIfhupri1TdyNDpYF4leYtQYw5krpyJit2LAp+vluqzQrybnPZgXkl6nR8P4lBKvhQCBxYF3F+u+RK9fTakyaroj9Nz/lYdCocSGrHTgKR9iwLzsY4SNEpaWOqHoZZd0X4qeGIoSz61aAoLD38BShE/BAfMJAr5Hv69fLG9arx65lgQlzENllYvCchbvR9saIxaNiZ0HEhLBvJzn7hW6gwODwyblwzML7eXONHWfETm1n8BOTJ+pdSigm7+N/Cpr65OxRXdPwCxV9hDiqxJNAAAAABJRU5ErkJggg=="},"0a55":function(t,e,i){},"0ad8":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"form",staticStyle:{"margin-top":"15px"},attrs:{"label-width":"120px"}},[a("div",[a("el-row",{attrs:{gutter:20}},t._l(t.teachers,(function(e,s){return a("el-col",{key:e.id,attrs:{span:8}},[a("el-card",{staticClass:"box-card teacher_card"},[a("div",{staticClass:"inline-block"},[e.icon?a("img",{staticStyle:{width:"50px",display:"inline-block",height:"40px"},attrs:{src:t.processImgUrl(e.icon)}}):t._e(),e.icon?t._e():a("img",{staticStyle:{wwidth:"50px",display:"inline-block",height:"40px"},attrs:{src:i("e3ef9")}})]),a("div",{staticClass:"inline-block"},[a("span",{staticClass:"teacher_name"},[t._v(t._s(e.teachername))]),a("el-checkbox",{staticClass:"teacher_checkbox",on:{change:t.checkedShow},nativeOn:{click:function(i){return t.handleClick(e)}},model:{value:e.isShow,callback:function(i){t.$set(e,"isShow",i)},expression:"item.isShow"}}),a("span",[t._v("显示")]),a("span",{staticClass:"el-icon-close delete_teacher",on:{click:function(i){return t.deleteTeacher(e)}}})],1)])],1)})),1)],1),a("el-select",{staticStyle:{width:"235px"},attrs:{filterable:"",placeholder:"输入讲师名称/下拉框选择","value-key":"id","no-match-text":"无此讲师"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.teacher,(function(t){return a("el-option",{key:t.id,attrs:{label:t.teachername,value:t}})})),1),a("el-button",{staticStyle:{"vertical-align":"top","margin-left":"3px"},on:{click:function(e){return t.chooseTeacher(t.value)}}},[t._v("添加")])],1),a("div",{staticClass:"dialog-footer text-left",staticStyle:{"margin-top":"20px"}},[a("el-button",{on:{click:function(e){return t.$router.push("/coursePage/index")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateData()}}},[t._v("确认")])],1)],1)},s=[],r=(i("ed63"),i("8cf2"),i("6d57"),i("6724")),n=i("555e"),o={directives:{waves:r["a"]},props:["courseid"],data:function(){return{teacher:[],value:"",teachers:[],form:{},listLoading:!0,listQuery:{pageIndex:0,currentPage:1,pageSize:1e5}}},mounted:function(){},created:function(){var t=this;Object(n["t"])({courseId:this.courseid}).then((function(e){e.data&&e.data.length&&e.data.length&&e.data.forEach((function(e){1==e.show?e.isShow=!0:e.isShow=!1,t.teachers.push({teacherId:e.id,teachername:e.teachername,isShow:e.isShow,icon:e.icon})}))})),this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,Object(n["n"])(this.listQuery).then((function(e){t.teacher=e.data.data,t.total=e.data.totalCount,t.listLoading=!1}))},updateData:function(){var t=this,e=[];this.teachers.length&&this.teachers.forEach((function(t){t.isShow?t.show="1":t.show="0",e.push({teacherId:t.teacherId,show:t.show})}));var i={courseId:this.courseid,teachers:e};Object(n["k"])(i).then((function(e){0==e.code&&t.$message.success("提交成功")}))},checkedShow:function(t){},handleClick:function(t){t.isShow||this.teachers.length&&this.teachers.forEach((function(t){t.isShow=!1}))},chooseTeacher:function(t){if(t){var e=this.teachers.map((function(t){return t.teacherId})),i=!0;this.teachers.length&&this.teachers.forEach((function(t){t.isShow&&(i=!1)})),e.includes(t.id)?this.$message.error("该讲师已添加"):this.teachers.push({teacherId:t.id,teachername:t.teachername,isShow:i,icon:t.icon})}else this.$message.error("请选择讲师")},deleteTeacher:function(t){this.teachers.splice(this.teachers.indexOf(t),1)}}},l=o,c=(i("4236"),i("9ca4")),u=Object(c["a"])(l,a,s,!1,null,"0e694040",null);e["default"]=u.exports},"0aff":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:"图片裁剪",visible:t.dialog,"append-to-body":"",width:t.imgWidth+50+"px","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialog=e}}},[i("div",{staticClass:"cropper-content"},[i("div",{staticClass:"cropper",staticStyle:{margin:"0 auto"},style:{height:t.imgHeight+10+"px",width:t.imgWidth+10+"px"}},[i("vueCropper",{ref:"cropper",attrs:{img:t.imgUrl,"output-size":t.option.size,"output-type":t.option.outputType,info:!0,full:t.option.full,"can-move":t.option.canMove,"can-move-box":t.option.canMoveBox,original:t.option.original,"auto-crop":t.option.autoCrop,fixed:t.option.fixed,"fixed-number":t.option.fixedNumber,"center-box":t.option.centerBox,"info-true":t.option.infoTrue,"fixed-box":t.option.fixedBox,"auto-crop-width":t.autoCropWidth,"auto-crop-height":t.autoCropHeight}})],1)]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.cropImage("cancel")}}},[t._v("取消")]),i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:function(e){return t.cropImage()}}},[t._v("确认")])],1)])],1)},s=[],r=(i("9a33"),i("555e")),n={props:["imgUrl","autoCropWidth","autoCropHeight","imgWidth","imgHeight","imgFile"],data:function(){return{cropImg:"",imageUrl:"",dialog:!1,loading:!1,option:{img:"",info:!0,outputSize:1,outputType:"jpeg",canScale:!0,autoCrop:!0,fixedBox:!0,fixed:!1,full:!1,canMoveBox:!0,original:!1,centerBox:!1,infoTrue:!1}}},methods:{realTime:function(t){this.previews=t},getBase64:function(t,e){var i=new FileReader,a=21e5;t=t;t&&(i.readAsDataURL(t),i.onload=function(t){if(0!=a&&a<i.result.length)alert("上传失败，请上传不大于2M的图片！");else{var s=i.result;e(s)}})},cropImage:function(t){var e=this,i=this;t?i.dialog=!1:(this.$refs.cropper.getCropData((function(t){e.cropImg=t})),this.loading=!0,Object(r["w"])().then((function(t){var a=e.cropImg.split(",")[1]+"",s="https://upload.qiniup.com/putb64/-1",r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState){var e=JSON.parse(r.response);i.imageUrl=t.data.qiniuDomain+e.key,i.dialog=!1,i.loading=!1,i.$emit("imgUrl",i.imageUrl)}},r.open("POST",s,!0),r.setRequestHeader("Content-Type","application/octet-stream"),r.setRequestHeader("Authorization","UpToken ".concat(t.data.token)),r.send(a)})))}}},o=n,l=(i("4959"),i("9ca4")),c=Object(l["a"])(o,a,s,!1,null,"c2c4f6de",null);e["default"]=c.exports},"0bef":function(t,e,i){},"0c38":function(t,e,i){"use strict";i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return n}));var a=i("b775");function s(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/project/list",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/project/delete/".concat(t),method:"get"})}function n(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/project/edit",method:"post",data:t})}},"0d30":function(t,e,i){"use strict";var a=i("b433"),s=i.n(a);s.a},"0dd7":function(t,e,i){"use strict";var a=i("1dd9"),s=i.n(a);s.a},"0f2a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAADY0lEQVRIS7WWQWgcVRjHf9+bmd1us9E0zQarJlHpVQ96sR601auiIFab1CQlxfTQptWDJwUFBU1RMBRJEQ1VWkS0CgXxIgqiKAmlRtFDmpqm2kYjyW5ddnd2Z94nb2rTJI02Tc07zrz5/9//9773vRGA7PEduZrVR42lHcPtqqTd86sdIoRYfrAih4MyR4v3Dk1L/ci2ppqmdwvaA9wA4l+t8ML5GgFTirwdSHhA0sM7eo3a5xG56dqEF32t+ps18pJkhru+ArkHMP+rAVjQbyQz3D0LNFyLuEWJbYyI4ImHXBLLy5rh7pJAZqUGVi01jagTHwc/1IhAfIwYFMorNnCrtApVG9Lgpehv66IQV3jhzPuU1eIbD5CVG6BKJS7ji2Hvhgd58ebHAKXz1CDHZo8nQIyYhQaqSqwxiuIbH5lPcx5D975mI4zGdOQ2M9DWSZ1J83VxjL7Th/ix9CueCDLfwLGs2hr1xseTgHxUJPDW4MnC4nLioQ1JYejOPUB/67ZE/MOZ73h28ghnozw+Hkiy1RcSoJpx4k3+WgZv601i9469we+2QspkMMlkIdI4Sehh6Wi6j9dat3O9t5ZP8iPs+eUdztXy+CbAF8ffAaPsyrRU0zjjEjy07i6ObtyXIPp4dphd428yExVJ+XWJQRiV8ExAV/Nm9re00+hnE957J99lIvyDQIIFieeqSNVmahqzIWjglZYneHz9JnwMb01/wdOnBqm4M4NJVvbw+k0cvKUnWflnhVGePDnATFwmZRaKzyWYOweuKmxI1kvT37qdntwW3KZ/MPMtfeMHKEYlem58hJdbtv4j/j37Tr/HeGWKINm3C1jmj8vOQayWSCPqxePV1k52Nt+PS7b/3DFOVqbob+0g51/Hp4UT7JkYYjL8M2G+uBAumix50Bz/ahwmlfF6Wxc7m7cQ2lpiVOel+fz8T+yeGGKschZ/EfMrJrjkrFRtFU8thzb2sbXxbgzCl3/9TMfYAFPx+cs2dKlW85+twvEPbZl1fpaDtz5Fo5flmTOHGS1NJL1mKebLTnBxolUl0hpZ8XA9soDFw/wr8yUNrtSuXZJIq7je45lU0iWXOxQKq3/hpEe6dxmrz63albnql77jOffbAu2q3AGklst50byqCKMWjgRGPireOTT9N7Nyp1rOoXzMAAAAAElFTkSuQmCC"},"0f8f":function(t,e,i){},1:function(t,e){},1166:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"app-container"},[i("el-page-header",{attrs:{content:t.form.id?"编辑考试":"新增考试",title:"返回"},on:{back:function(e){return t.$router.go(-1)}}}),i("el-form",{ref:"form",staticStyle:{"margin-top":"15px"},attrs:{model:t.form,"label-width":"120px",rules:t.rules}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"el-card-header-title"},[t._v("基本设置")])]),i("el-form-item",{attrs:{label:"考试科目",prop:"projectObj"}},[i("el-select",{staticStyle:{"margin-right":"5px",width:"350px"},attrs:{placeholder:"请选择-考试科目",filterable:"","value-key":"id"},on:{change:function(e){return t.chooseProject(t.form.projectObj)}},model:{value:t.form.projectObj,callback:function(e){t.$set(t.form,"projectObj",e)},expression:"form.projectObj"}},t._l(t.projectList,(function(t){return i("el-option",{key:t.id,attrs:{value:t,label:t.name}})})),1)],1),i("el-form-item",{attrs:{label:"考试名称",prop:"examObj"}},[i("el-select",{staticStyle:{width:"350px"},attrs:{clearable:"",filterable:"","allow-create":"","default-first-option":"","value-key":"id",placeholder:"请选择-考试名称"},on:{change:function(e){return t.chooseExam(t.form.examObj)}},model:{value:t.form.examObj,callback:function(e){t.$set(t.form,"examObj",e)},expression:"form.examObj"}},t._l(t.eduList,(function(t){return i("el-option",{key:t.id,attrs:{value:t,label:t.name}})})),1)],1),i("el-form-item",{attrs:{label:"选择试卷",prop:"paperid"}},[i("el-select",{staticStyle:{width:"350px"},attrs:{placeholder:"选择试卷"},on:{change:function(e){return t.$forceUpdate()}},model:{value:t.form.paperid,callback:function(e){t.$set(t.form,"paperid",e)},expression:"form.paperid"}},t._l(t.paperList,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.text}})})),1)],1),i("el-form-item",{attrs:{label:"考试日期",prop:"dateObj"}},[i("el-date-picker",{staticStyle:{width:"350px"},attrs:{type:"date",align:"right","unlink-panels":"","picker-options":t.pickerdateOptions},on:{blur:function(e){return t.setMax(t.form.date)}},model:{value:t.form.dateObj,callback:function(e){t.$set(t.form,"dateObj",e)},expression:"form.dateObj"}})],1),i("el-form-item",{attrs:{label:"考试时间",prop:"timeObj"}},[i("el-time-picker",{attrs:{"arrow-control":"","is-range":"",editable:!1,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},on:{blur:function(e){return t.$forceUpdate()}},model:{value:t.form.timeObj,callback:function(e){t.$set(t.form,"timeObj",e)},expression:"form.timeObj"}})],1),i("el-form-item",{attrs:{label:"通过条件",prop:"passcondition"}},[i("el-select",{staticStyle:{width:"350px"},attrs:{placeholder:"请选择-通过条件"},model:{value:t.form.passcondition,callback:function(e){t.$set(t.form,"passcondition",e)},expression:"form.passcondition"}},t._l(t.conditions,(function(t){return i("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})})),1)],1),i("el-form-item",{attrs:{label:"是否公开",prop:"ispublic"}},[i("el-radio",{attrs:{label:1},model:{value:t.form.ispublic,callback:function(e){t.$set(t.form,"ispublic",e)},expression:"form.ispublic"}},[t._v("是")]),i("el-radio",{attrs:{label:0},model:{value:t.form.ispublic,callback:function(e){t.$set(t.form,"ispublic",e)},expression:"form.ispublic"}},[t._v("否")])],1),0==t.form.ispublic?i("el-form-item",{attrs:{label:"开放网段",prop:"openip"}},[i("el-input",{staticStyle:{width:"350px"},attrs:{type:"text",placeholder:"多个网段请用逗号分隔",oninput:"value=value.replace(/[^a-zA-Z0-9&=%#.,，:/]/g,'')"},model:{value:t.form.openip,callback:function(e){t.$set(t.form,"openip",e)},expression:"form.openip"}})],1):t._e(),i("el-form-item",{attrs:{label:"试题乱序",prop:"topicscramble"}},[[i("el-checkbox",{on:{change:function(e){return t.$forceUpdate()}},model:{value:t.form.topicscramble,callback:function(e){t.$set(t.form,"topicscramble",e)},expression:"form.topicscramble"}}),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"提示：选中该项生成的考试,则该考试每个考生所拿到的试卷题目顺序为乱序，题型顺序不变",placement:"top-start"}},[i("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px","margin-top":"-5px","vertical-align":"super"}})])]],2),i("el-form-item",{attrs:{label:"考试年份",prop:"year"}},[i("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"系统自动生成",readonly:""},model:{value:t.form.year,callback:function(e){t.$set(t.form,"year",e)},expression:"form.year"}})],1),i("el-form-item",{attrs:{label:"考试批次",prop:"copyTestBatch"}},[i("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"系统自动生成",readonly:""},model:{value:t.form.copyTestBatch,callback:function(e){t.$set(t.form,"copyTestBatch",e)},expression:"form.copyTestBatch"}})],1),i("el-form-item",{attrs:{label:"考试地点",prop:"site"}},[i("el-input",{staticStyle:{width:"350px"},model:{value:t.form.site,callback:function(e){t.$set(t.form,"site",e)},expression:"form.site"}})],1)],1),i("el-card",{staticClass:"box-card",staticStyle:{margin:"15px 0"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"el-card-header-title"},[t._v("其他设置")])]),i("div",[i("el-form-item",{attrs:{label:"考试须知",prop:"beforenotice"}},[i("div",{staticStyle:{width:"500px"}},[i("editor-bar",{model:{value:t.form.beforenotice,callback:function(e){t.$set(t.form,"beforenotice",e)},expression:"form.beforenotice"}})],1)]),i("el-form-item",{attrs:{label:"考后说明",prop:"afterexplain"}},[i("div",{staticStyle:{width:"500px"}},[i("editor-bar",{model:{value:t.form.afterexplain,callback:function(e){t.$set(t.form,"afterexplain",e)},expression:"form.afterexplain"}})],1)]),i("el-form-item",{attrs:{label:"考试注意事项",prop:"mattersNeedAttention"}},[i("div",{staticStyle:{width:"500px"}},[i("editor-bar",{model:{value:t.form.mattersNeedAttention,callback:function(e){t.$set(t.form,"mattersNeedAttention",e)},expression:"form.mattersNeedAttention"}})],1)])],1)])],1),i("div",{staticClass:"dialog-footer text-center",staticStyle:{margin:"15px 0"}},[i("el-button",{on:{click:t.cancel}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateData()}}},[t._v("确定")])],1)],1)])},s=[],r=(i("cc57"),i("6d57"),i("200d")),n=i("6724"),o=i("037f"),l=i("3d70"),c=i("3922"),u=i("0c38"),d=i("6d93"),p=i("31a6").Base64,m={directives:{waves:n["a"]},components:{EditorBar:o["a"]},data:function(){return{conditions:[{value:1,label:"提交试卷"},{value:2,label:"分数达标"}],project:{},projectList:[],selectStuList:[],testreport:[],eduList:[],list:[],total:0,loading:!1,form:Object(r["a"])({testId:"",project:"",projectid:"",openip:"",year:"",starttime:"",endtime:"",ispublic:1,time:0,passcondition:2,testreport:"",beforenotice:"",afterexplain:"",site:"",date:"",projectObj:null,examObj:null,name:"",paperid:"",timeObj:null,dateObj:null,topicscramble:!1},"topicscramble",0),queryPaper:{pageIndex:0,currentPage:1,pageSize:1e4,ispublish:1},queryPro:{pageIndex:0,currentPage:1,pageSize:1e4},query:{pageIndex:0,currentPage:1,pageSize:1e4,status:1},paperList:[],rules:{examObj:[{required:!0,message:"请选择考试名称",trigger:"change,blur"}],projectObj:[{required:!0,message:"请选择考试科目",trigger:"change,blur"}],dateObj:[{required:!0,message:"请选择考试日期",trigger:"change"}],timeObj:[{required:!0,message:"请选择考试时间",trigger:"change"}],ispublic:[{required:!0,message:"请选择是否公开",trigger:"change"}],openid:[{required:!0,message:"请输入网段",trigger:"blur"}],site:[{required:!0,message:"请输入考试地点",trigger:"blur"}],passcondition:[{required:!0,message:"请选择通过条件",trigger:"blur"}],mattersNeedAttention:[{required:!0,message:"最输入考试注意事项",trigger:"blur"}],paperid:[{required:!0,message:"请选择试卷",trigger:"change"}]},listLoading:!1,pickerdateOptions:{disabledDate:function(t){var e=new Date((new Date).getTime()-864e5);return t.getTime()<e}},value2:"",value3:"",listQuery:{pageIndex:0,currentPage:1,pageSize:10,id:""}}},mounted:function(){this.$route.query.info&&(this.project=JSON.parse(p.decode(this.$route.query.info))),localStorage.getItem("examtid")?(this.listQuery.id=localStorage.getItem("examtid"),this.getData()):(this.getList(),this.getPro(),this.form.examObj=null)},activated:function(){this.$route.query.info&&(this.project=JSON.parse(p.decode(this.$route.query.info))),localStorage.getItem("examtid")?(this.listQuery.id=localStorage.getItem("examtid"),this.getData()):(this.getList(),this.getPro(),this.$forceUpdate())},methods:{getList:function(){var t=this;this.query.pageIndex=this.query.currentPage-1,Object(l["f"])(this.queryPaper).then((function(e){t.paperList=e.data.data}))},getPro:function(){var t=this,e=this.queryPro;e.type=2,Object(u["c"])(e).then((function(e){t.projectList=e.data.data||[];var i={id:-1,name:"默认科目"};t.projectList.unshift(i),t.projectList.length&&t.projectList.forEach((function(e){(t.project&&t.project.id&&e.id==t.project.id||t.form.projectid&&e.id==t.form.projectid)&&(t.form.projectObj=e,t.form.project=e.name,t.form.projectid=e.id)})),t.project&&t.project.id&&t.findEdu(t.project.id),t.$forceUpdate()}))},findEdu:function(t){var e=this;Object(c["e"])({projectid:t}).then((function(t){e.eduList=t.data||[],e.eduList.length&&e.form.name&&e.eduList.forEach((function(t){t.name==e.form.name&&(e.form.examObj=t)}))})),this.$forceUpdate()},chooseProject:function(t){this.form.project=t.name,this.form.projectid=t.id,this.form.examObj={},this.findEdu(this.form.projectid),this.$forceUpdate()},chooseExam:function(t){""==t||void 0==t?(this.form.name="",this.examObj={}):t&&t.id?(this.form.name=t.name,this.form.testId=t.id):t&&(this.form.name=t),this.$forceUpdate()},cancel:function(){this.form.id?this.getData():this.$router.push("/exam/project")},updateData:function(){var t=this;this.$refs["form"].validate((function(e){var i=t.moment(new Date).format("YYYY-MM-DD HH:mm:ss");if(!e)return!1;t.form.starttime=t.moment(new Date(t.form.dateObj)).format("YYYY-MM-DD")+" "+t.moment(new Date(t.form.timeObj[0])).format("HH:mm:ss"),t.form.endtime=t.moment(new Date(t.form.dateObj)).format("YYYY-MM-DD")+" "+t.moment(new Date(t.form.timeObj[1])).format("HH:mm:ss"),i>=t.form.starttime||i>=t.form.endtime?t.$message.error("考试开始时间和考试结束时间不得小于当前时间"):(t.form.ispublish=0,t.selectStuList.length&&(t.form.personIds=t.selectStuList.join(",")),t.form.testreport=JSON.stringify(t.testreport),t.loading=!0,t.form.topicscramble?t.form.topicscrambled=1:t.form.topicscrambled=0,Object(c["c"])(t.form).then((function(e){0==e.code?(t.$message.success("提交成功"),t.form.id||(t.$refs["form"].clearValidate(),t.$refs["form"].resetFields(),d["default"].$emit("getExlist"))):t.$message.error(e.msg),t.loading=!1,t.$router.push("/exam/examList")})))}))},setMax:function(t){this.form.year=this.moment(new Date(this.form.dateObj)).format("YYYY"),this.$forceUpdate()},getData:function(){var t=this;this.listQuery.pageIndex=this.listQuery.currentPage-1,Object(c["f"])(this.listQuery).then((function(e){t.form=e.data.data[0],t.form.copyTestBatch=t.form.year+"年第"+t.form.testbatch+"批次",t.total=e.data.totalCount,t.form.starttime&&t.form.endtime&&(t.form.dateObj=new Date(t.form.starttime),t.form.timeObj=[new Date(t.form.starttime),new Date(t.form.endtime)]),1==t.form.topicscrambled?t.form.topicscramble=!0:t.form.topicscramble=!1,t.form.testreport&&(t.testreport=JSON.parse(t.form.testreport)),t.getList(),t.getPro(),t.findEdu(t.form.projectid)})),this.$forceUpdate()}}},h=m,f=(i("86e3"),i("9ca4")),g=Object(f["a"])(h,a,s,!1,null,"75389ceb",null);e["default"]=g.exports},"117b":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{title:t.item.id?"更新":"新增",width:"40%",visible:t.dialog,"append-to-body":"","destroy-on-close":"","before-close":t.cancel,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialog=e}}},[i("el-form",{ref:"form",attrs:{model:t.item,"label-width":"120px",rules:t.rules}},[i("el-form-item",{attrs:{label:"题型",prop:"type"}},[i("el-select",{attrs:{placeholder:"选择题型",disabled:!!t.item.id},on:{change:t.changeType},model:{value:t.item.type,callback:function(e){t.$set(t.item,"type",e)},expression:"item.type"}},t._l(t.types,(function(t){return i("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1),i("el-form-item",{attrs:{label:"知识体系分类",required:""}},[i("div",{staticClass:"pro-sty"},[i("el-input",{class:{showErroMsg:t.showErroMsg},attrs:{placeholder:"请选择-分类",clearable:"","read-only":""},on:{change:t.changeTree},nativeOn:{click:function(e){return t.deptogglePanel(e,"classTree",t.selClassTree)}},model:{value:t.item.hierarchyClassificationName,callback:function(e){t.$set(t.item,"hierarchyClassificationName",e)},expression:"item.hierarchyClassificationName"}}),t.showTree?i("div",{ref:"suoShuMenTree",staticClass:"treeDiv"},[i("el-tree",{ref:"classTree",staticClass:"suoshubumen",attrs:{data:t.data,props:t.defaultProps,"node-key":"id","highlight-current":"","expand-on-click-node":!1},on:{"node-click":t.handleNodeClick}})],1):t._e()],1),t.showErroMsg?i("div",{staticClass:"el-form-item__error"},[t._v(" 请选择知识分类体系 ")]):t._e()]),i("el-form-item",{attrs:{label:"题干",prop:"question"}},[i("el-input",{model:{value:t.item.question,callback:function(e){t.$set(t.item,"question",e)},expression:"item.question"}})],1),i("div",{staticClass:"subjectPanel",staticStyle:{"margin-left":"120px"}},[1==t.item.type?i("div",t._l(t.item.optionDetail,(function(e,a){return i("div",{key:a,staticClass:"subjectPanel_item"},[i("el-radio",{attrs:{label:t.options[a],value:t.options[a]},on:{change:t.getType},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}},[t._v(t._s(t.options[a]))]),i("el-input",{class:{showErroMsg:e.showErroMsg},attrs:{placeholder:"请输入单选选项"},on:{input:function(e){return t.$forceUpdate()},blur:function(i){return t.getRequired(e,"optionContent")}},model:{value:e.optionContent,callback:function(i){t.$set(e,"optionContent",i)},expression:"option.optionContent"}}),i("el-radio",{attrs:{label:t.options[a],value:t.options[a]},on:{change:t.getType},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}},[t._v("设为正确答案")])],1)})),0):t._e(),2==t.item.type?i("div",[i("div",{staticClass:"subjectPanel_item"},[i("el-checkbox-group",{on:{change:function(e){return t.$forceUpdate()}},model:{value:t.item.answerList,callback:function(e){t.$set(t.item,"answerList",e)},expression:"item.answerList"}},t._l(t.item.optionDetail,(function(e,a){return i("el-checkbox",{key:a,staticClass:"type2",attrs:{label:t.options[a],value:t.options[a]}},[t._v(t._s(t.options[a])+" "),i("el-input",{class:{showErroMsg:e.showErroMsg},attrs:{required:"",placeholder:"请输入多选选项"},on:{input:function(e){return t.$forceUpdate()},blur:function(i){return t.getRequired(e,"optionContent")}},model:{value:e.optionContent,callback:function(i){t.$set(e,"optionContent",i)},expression:"option.optionContent"}}),i("el-checkbox",{attrs:{label:t.options[a]},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}},[t._v("设为正确答案")])],1)})),1),i("div")],1)]):t._e(),3==t.item.type?i("div",[i("div",[i("el-radio",{staticClass:"subjectPanel_item",staticStyle:{width:"calc(100% - 200px)"},attrs:{label:t.options[0]},on:{change:t.getType},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}},[t._v("对")]),i("el-radio",{attrs:{label:t.options[0]},on:{change:t.getType},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}},[t._v("设为正确答案")])],1),i("div",{staticClass:"subjectPanel_item"},[i("el-radio",{staticStyle:{width:"calc(100% - 200px)"},attrs:{label:t.options[1]},on:{change:t.getType},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}},[t._v("错")]),i("el-radio",{attrs:{label:t.options[1]},on:{change:t.getType},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}},[t._v("设为正确答案")])],1)]):t._e(),1==t.item.type||2==t.item.type?i("div",[i("el-button",{staticClass:"addButtom",attrs:{type:"default",size:"medium"},on:{click:function(e){return t.addItem()}}},[t._v("+添加选项")]),i("el-link",{attrs:{type:"primary",underline:""},on:{click:function(e){return t.delItem()}}},[t._v("删除")])],1):t._e()]),5==t.item.type?i("el-form-item",{attrs:{label:"答案",prop:"answer"}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}})],1):t._e(),i("el-form-item",{attrs:{label:"解析"}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.item.analysis,callback:function(e){t.$set(t.item,"analysis",e)},expression:"item.analysis"}})],1),5==t.item.type?i("div",[t._l(t.item.keyWordList,(function(e,a){return i("el-form-item",{key:a,attrs:{label:"关键词"+(a+1)}},[i("el-input",{staticClass:"keywords",class:{showErroMsg:!e.synonym},on:{input:function(e){return t.$forceUpdate()},blur:function(i){return t.getRequired(e,"synonym")}},model:{value:e.synonym,callback:function(i){t.$set(e,"synonym",i)},expression:"k.synonym"}}),i("el-input-number",{staticClass:"weight",class:{showErroMsg:!e.weight},attrs:{min:1,max:100,controls:!1,placeholder:"权重%"},on:{blur:function(i){return t.getRequired(e,"weight")}},model:{value:e.weight,callback:function(i){t.$set(e,"weight",i)},expression:"k.weight"}}),i("span",{staticStyle:{"margin-left":"-10px","margin-right":"15px"}},[t._v("%")]),i("el-button",{on:{click:function(i){return t.delIKeyWords(e)}}},[t._v("-")])],1)})),i("el-button",{staticStyle:{margin:"0 auto",display:"inherit","margin-bottom":"15px"},on:{click:t.addKeyWords}},[t._v("+关键词")]),i("div",{staticClass:"tip"},[t._v("注：关键词权重总和需=100%")])],2):t._e()],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancel}},[t._v("取消")]),t.item.id?t._e():i("el-button",{attrs:{type:"primary"},on:{click:t.continueAdd}},[t._v("继续添加")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateData()}}},[t._v("确认")])],1)],1)],1)},s=[],r=(i("c904"),i("6d57"),i("e204"),i("3f4b")),n={props:["item","data","types","defaultProps"],data:function(){return{showErroMsg:!1,selClassTree:{},showTree:!1,loading:!1,options:[],rules:{question:[{required:!0,message:"请填写题干",trigger:"blur"},{max:100,message:"最多可输入100个字符",trigger:"blur"}],type:[{required:!0,message:"请选择题型",trigger:"blur"}],answer:[{required:!0,message:"请设置答案",trigger:"blur"}],hierarchyClassificationName:[{required:!0,message:"请选择知识分类体系",trigger:"blur"}]},isShowErro:!1,dialog:!1,isShowKey:!1}},created:function(){this.options=this.generateCode()},methods:{generateCode:function(){for(var t=[],e=65;e<91;e++)t.push(String.fromCharCode(e));return t},handleNodeClick:function(t){this.item.hierarchyClassificationName=t.text,this.selClassTree={id:t.id,hierarchyClassificationName:t.text},this.showTree=!1,this.item.hierarchyClassificationId=t.id,this.$set(this.item,"hierarchyClassificationId",t.id),this.$set(this.item,"hierarchyClassificationName",t.text),this.showErroMsg=!1},changeTree:function(){this.item.hierarchyClassificationName=void 0,this.item.hierarchyClassificationId=void 0},deptogglePanel:function(t,e,i){t||(t=window.event),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.showTree?this.dephide(e,i):this.depshow(e,i)},depshow:function(t,e){var i=this;this.showTree=!0,this.$nextTick((function(){i.$refs[t].setCurrentKey(e.id)})),document.addEventListener("click",this.dephidePanel,!1)},dephide:function(){this.showTree=!1,document.addEventListener("click",this.dephidePanel,!1)},dephidePanel:function(t){this.$refs.suoShuMenTree&&!this.$refs.suoShuMenTree.contains(t.target)&&this.dephide()},changeType:function(){this.$set(this.item,"answer","A"),this.$set(this.item,"answerList",["A"]);1==this.item.type||2==this.item.type?this.item.optionDetail=[{optionContent:""},{optionContent:""},{optionContent:""},{optionContent:""}]:3==this.item.type?this.item.optionDetail=[{optionContent:""},{optionContent:""}]:(this.item.optionDetail=[],this.item.answer=""),this.$forceUpdate()},getType:function(){this.$forceUpdate()},addItem:function(){1!=this.item.type||5!=this.item.optionDetail.length?2!=this.item.type||8!=this.item.optionDetail.length?(this.item.optionDetail.push({optionContent:""}),this.$forceUpdate()):this.$message.error("多选题目选项不能超过8个选项！"):this.$message.error("单选题目选项不能超过5个选项！")},delItem:function(){var t=this;if(4!=this.item.optionDetail.length){if(1==this.item.type&&this.item.answer==this.generateCode()[this.item.optionDetail.length-1])this.item.answer="";else if(2==this.item.type){var e=this.item.answerList.findIndex((function(e){return e==t.generateCode()[t.item.optionDetail.length-1]}));e>-1&&this.item.answerList.splice(e,1)}this.item.optionDetail.splice(this.item.optionDetail.length-1,1),this.$forceUpdate()}else alert("不能再删除选项！")},addKeyWords:function(){5!=this.item.keyWordList.length?(this.item.keyWordList.push({}),this.$forceUpdate()):this.$message.error("关键词不能超过5个！")},delIKeyWords:function(t){this.item.keyWordList.splice(this.item.keyWordList.indexOf(t),1),this.$forceUpdate()},getRequired:function(t,e){t[e]?this.$set(t,"showErroMsg",!1):(t.showErroMsg=!0,this.$set(t,"showErroMsg",!0)),this.$forceUpdate()},updateData:function(t){var e=this,i=this,a=0;if(this.item.hierarchyClassificationId?this.showErroMsg=!1:this.showErroMsg=!0,1==this.item.type||2==this.item.type){var s=0;this.isShowKey=!1,this.item.optionDetail.length&&this.item.optionDetail.forEach((function(t,i){t.option=e.generateCode()[i],t.optionContent?s++:(t.showErroMsg=!0,e.$forceUpdate())})),s==this.item.optionDetail.length?this.isShowErro=!1:this.isShowErro=!0}else if("5"==this.item.type){this.isShowErro=!1;var n=0;if(!this.item.keyWordList.length)return void this.$message.error("请设置关键词");this.item.keyWordList.length&&this.item.keyWordList.forEach((function(t,i){t.synonym&&t.weight?n++:(t.showErroMsg=!0,e.$forceUpdate())})),n==this.item.keyWordList.length?this.isShowKey=!1:this.isShowKey=!0}else this.isShowKey=!1,this.isShowErro=!1;this.$refs["form"].validate((function(s){if(!s||e.showErroMsg||e.isShowErro||e.isShowKey)return!1;2==e.item.type?(e.item.answerList.sort(),e.item.answer=e.item.answerList.join("$")):delete e.item.answerList,"5"==e.item.type?(e.item.keyWord=JSON.stringify(e.item.keyWordList),e.item.keyWordList.length&&e.item.keyWordList.forEach((function(t){t.weight=t.weight-0||0,t.synonym&&t.weight&&(a+=t.weight)}))):delete e.item.keyWordList,"5"==e.item.type&&e.item.keyWordList.length&&100!==a?e.$message.error("关键词权重总和需为100%,并且关键词不能为空"):e.item.answer&&""!=e.item.answer?(e.loading=!0,Object(r["b"])(e.item).then((function(a){0==a.code?(e.$message.success("提交成功"),t?(e.$set(e.item,"hierarchyClassificationId",""),e.$set(e.item,"hierarchyClassificationName",""),e.$set(e.item,"keyWordList",[]),e.$set(e.item,"question",""),e.$set(e.item,"analysis",""),"5"!==e.item.type?(e.item.optionDetail.length&&e.item.optionDetail.forEach((function(t){t.optionContent=""})),e.$set(e.item,"answer","A"),e.$set(e.item,"answerList",["A"]),e.item.optionDetail.splice(4)):(e.item.optionDetail=[],e.$set(e.item,"answer",""))):(i.dialog=!1,i.$emit("getList"))):e.$message.error(a.msg),e.loading=!1,e.showErroMsg=!1,e.isShowErro=!1,e.isShowKey=!1}))):e.$message.error("请设置答案")}))},continueAdd:function(){this.updateData(!0)},cancel:function(){this.dialog=!1,this.showErroMsg=!1,this.isShowErro=!1,this.isShowKey=!1,this.$refs["form"].clearValidate()}}},o=n,l=(i("4854"),i("9ca4")),c=Object(l["a"])(o,a,s,!1,null,"dae12ec4",null);e["default"]=c.exports},"14c2":function(t,e,i){},"14d5":function(t,e,i){},"164e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("div",{staticClass:"operate-panel"},[i("div",{staticClass:"operate-panel_left"},[i("el-input",{staticClass:"filter-item",attrs:{placeholder:"姓名"},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}}),i("el-input",{staticClass:"filter-item",attrs:{placeholder:"账号"},model:{value:t.listQuery.idCard,callback:function(e){t.$set(t.listQuery,"idCard",e)},expression:"listQuery.idCard"}}),i("el-input",{staticClass:"filter-item",attrs:{placeholder:"手机号"},model:{value:t.listQuery.phone,callback:function(e){t.$set(t.listQuery,"phone",e)},expression:"listQuery.phone"}}),i("el-select",{staticClass:"filter-item",attrs:{placeholder:"考试科目",filterable:"","value-key":"id"},on:{change:function(e){return t.chooseProject(t.listQuery.projectId)}},model:{value:t.listQuery.projectId,callback:function(e){t.$set(t.listQuery,"projectId",e)},expression:"listQuery.projectId"}},t._l(t.projectList,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1),i("el-select",{staticClass:"filter-item",attrs:{placeholder:"考试名称",filterable:""},model:{value:t.listQuery.examine,callback:function(e){t.$set(t.listQuery,"examine",e)},expression:"listQuery.examine"}},t._l(t.eduList,(function(t,e){return i("el-option",{key:e,attrs:{value:t.examineName,label:t.examineName}})})),1),i("el-select",{staticClass:"filter-item",attrs:{placeholder:"是否通过",filterable:""},model:{value:t.listQuery.isPass,callback:function(e){t.$set(t.listQuery,"isPass",e)},expression:"listQuery.isPass"}},t._l([[1,"是"],[0,"否"]],(function(t,e){return i("el-option",{key:e,attrs:{value:t[0],label:t[1]}})})),1),i("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"329px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至",clearable:!1,"start-placeholder":"考试开始日期","end-placeholder":"考试结束日期"},on:{blur:function(e){return t.$forceUpdate()}},model:{value:t.dateObj,callback:function(e){t.dateObj=e},expression:"dateObj"}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"margin-right":"5px"},attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],1),i("div",{staticClass:"operate-panel_right"},[i("el-button",{attrs:{type:"primary"},on:{click:t.downloadFile}},[t._v("批量导出")])],1)]),i("div",{staticClass:"panel-body"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"",height:"100%","default-sort":{prop:"id",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{label:"姓名",prop:"name",align:"left","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"账号",prop:"IdCard",align:"left",width:"180px"}}),i("el-table-column",{attrs:{label:"手机号",prop:"phone",align:"left",width:"120px"}}),i("el-table-column",{attrs:{label:"考号",prop:"code",align:"left",width:"200px"}}),i("el-table-column",{attrs:{label:"交卷时间",prop:"submitTime",align:"left",width:"180px"}}),i("el-table-column",{attrs:{label:"考试科目",prop:"project",align:"left",width:"180px","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"考试名称",prop:"examine",align:"left",width:"120px","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"报考批次",align:"left",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(i.year)+"年第"+t._s(i.testBatch)+"批次 ")]}}])}),i("el-table-column",{attrs:{label:"考试年份",prop:"year",align:"left",width:"120px"}}),i("el-table-column",{attrs:{label:"考试分数",prop:"totalScore",align:"left",width:"120px"}}),i("el-table-column",{attrs:{label:"是否通过",align:"left",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("span",{style:{color:"是"==a.isPass?"red":""}},[t._v(t._s(a.isPass))])]}}])}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"160px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDetail(a)}}},[t._v("查看详情")]),i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDelete(a)}}},[t._v("删除")])]}}])})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)])])},s=[],r=i("4556"),n=i("555e"),o=i("3922"),l=i("0c38"),c=i("6724"),u=i("333d"),d=i("60b8"),p=i("0aff"),m=i("de68"),h={components:{Pagination:u["a"],Crop:p["default"],ShowTicket:m["default"]},directives:{waves:c["a"]},mixins:[d["a"]],data:function(){return{courseList:[],tableKey:0,list:[],dateObj:"",total:0,value:!0,listLoading:!0,activeName:"manual",eduList:[],projectList:[],query:{pageIndex:0,currentPage:1,pageSize:1e3,type:2},listQuery:{pageIndex:0,currentPage:1,pageSize:10,name:"",phone:"",idCard:"",projectid:null,examine:null,isPass:null,createStartTime:null,createEndTime:null}}},mounted:function(){this.getList(),this.getPro()},activated:function(){this.getList(),this.getPro()},methods:{resetQuery:function(){this.listQuery={pageIndex:0,currentPage:1,pageSize:10,name:"",phone:"",projectid:null,examine:null,isPass:null,createStartTime:null,createEndTime:null,idCard:null},this.dateObj="",this.eduList=[]},getPro:function(){var t=this;Object(l["c"])(this.query).then((function(e){t.projectList=e.data.data||[];var i={id:-1,name:"默认科目"};t.projectList.unshift(i),t.findEdu(t.listQuery.projectid)}))},getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,this.dateObj&&(this.listQuery.startTime=this.moment(new Date(this.dateObj[0])).format("YYYY-MM-DD HH:mm:ss"),this.listQuery.endTime=this.moment(new Date(this.dateObj[1])).format("YYYY-MM-DD HH:mm:ss")),Object(r["b"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1}))},handleDetail:function(t){this.$router.push({path:"/answer/detail",query:{id:t.resultId}})},getCourse:function(){var t=this;Object(n["o"])({pageIndex:0,currentPage:1,pageSize:1e7}).then((function(e){t.courseList=e.data.data||[]}))},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["a"])(t.resultId).then((function(t){e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.handleFilter()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},findEdu:function(t){var e=this;Object(o["d"])({projectid:t}).then((function(t){e.eduList=t.data||[],e.$forceUpdate()}))},chooseProject:function(t){this.examObj={},this.findEdu(t),this.$forceUpdate()},handleSelectionChange:function(t){t&&t.length?this.ids=t.reduce((function(t,e){return t.push(e.resultId),t}),[]).join(","):this.ids=""},downloadFile:function(){if(0===this.list.length)this.$message.error("暂无数据，无法导出");else{var t="/ovu-zuul/ovu-mooc/api/v1/newknowledge/examResult/batchExport",e=this.listQuery;e.url=this.downUrl+window.location.pathname+"#/showTicket",this.ids&&(e.ids=this.ids),this.openForm(t,e,"POST")}}}},f=h,g=(i("38f8"),i("9ca4")),v=Object(g["a"])(f,a,s,!1,null,"77a42114",null);e["default"]=v.exports},"16c7":function(t,e,i){"use strict";var a=i("b2eb"),s=i.n(a);s.a},"16d9":function(t,e,i){},1792:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"filter-container"},[i("div",{staticClass:"operate-panel"},[i("div",{staticClass:"operate-panel_left"},[i("el-button",{attrs:{type:"default"},on:{click:function(e){return t.addNode("",1)}}},[t._v("+添加章")]),i("el-button",{attrs:{type:"default"},on:{click:function(e){return t.addNode("",2)}}},[t._v("+添加节")]),i("el-button",{attrs:{type:"default"},on:{click:function(e){return t.addNode("",3)}}},[t._v("+添加内容")])],1)]),i("el-tree",{attrs:{data:t.data,props:t.defaultProps,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"render-content":t.renderContent}}),t.dialogNodeVisible?i("el-dialog",{attrs:{title:t.dialogText,visible:t.dialogNodeVisible,width:"40%","append-to-body":"","destroy-on-close":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogNodeVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px"}},[1==t.form.chaptertype?[i("el-form-item",{attrs:{label:"章标题",prop:"chaptername",rules:[{required:!0,message:"请输入标题",trigger:"blur"},{max:50,message:"最多可输入50个字符",trigger:"blur"}]}},[i("el-input",{model:{value:t.form.chaptername,callback:function(e){t.$set(t.form,"chaptername",e)},expression:"form.chaptername"}})],1)]:t._e(),2==t.form.chaptertype?[i("el-form-item",{attrs:{label:"节标题",prop:"chaptername",rules:[{required:!0,message:"请输入标题",trigger:"blur"},{max:50,message:"最多可输入50个字符",trigger:"blur"}]}},[i("el-input",{model:{value:t.form.chaptername,callback:function(e){t.$set(t.form,"chaptername",e)},expression:"form.chaptername"}})],1)]:t._e(),3==t.form.chaptertype?[i("el-form-item",{attrs:{label:"选择教学形式",prop:"coursewaretype",rules:[{required:!0,message:"选择教学形式",trigger:"change"}]}},[i("el-radio",{attrs:{label:"1"},on:{change:function(e){return t.checkType(1)}},model:{value:t.form.coursewaretype,callback:function(e){t.$set(t.form,"coursewaretype",e)},expression:"form.coursewaretype"}},[t._v("视频")]),i("el-radio",{attrs:{label:"3"},on:{change:function(e){return t.checkType(3)}},model:{value:t.form.coursewaretype,callback:function(e){t.$set(t.form,"coursewaretype",e)},expression:"form.coursewaretype"}},[t._v("音频")]),i("el-radio",{attrs:{label:"2"},on:{change:function(e){return t.checkType(2)}},model:{value:t.form.coursewaretype,callback:function(e){t.$set(t.form,"coursewaretype",e)},expression:"form.coursewaretype"}},[t._v("PDF")]),i("el-radio",{attrs:{label:"4"},on:{change:function(e){return t.checkType(4)}},model:{value:t.form.coursewaretype,callback:function(e){t.$set(t.form,"coursewaretype",e)},expression:"form.coursewaretype"}},[t._v("网页")])],1),i("el-card",{staticClass:"box-card"},[i("el-form-item",{attrs:{label:"标题",prop:"chaptername",rules:[{required:!0,message:"请输入标题",trigger:"blur"},{max:50,message:"最多可输入50个字符",trigger:"blur"}]}},[i("el-input",{model:{value:t.form.chaptername,callback:function(e){t.$set(t.form,"chaptername",e)},expression:"form.chaptername"}})],1),"4"!==t.form.coursewaretype?i("el-form-item",{attrs:{label:t.labelText,required:""}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:t.baseUrl,"before-upload":t.beforeAvatarUpload,"file-list":t.fileList,"on-remove":t.handleRemove,"http-request":t.upqiniu,limit:1,"on-exceed":t.handleExceed}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[t._v(" 将文件拖到此处，或"),i("em",[t._v("点击上传")])]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[1==t.form.coursewaretype?i("span",[t._v("只能上传.mp4文件")]):t._e(),3==t.form.coursewaretype?i("span",[t._v("只能上传.mp3文件")]):t._e(),2==t.form.coursewaretype?i("span",[t._v("只能上传.pdf文件")]):t._e()]),t.erroMessage?i("div",{staticClass:".el-upload__tip tip_erroMessage",attrs:{slot:"tip"},slot:"tip"},[i("span",[t._v("请上传文件")])]):t._e()])],1):t._e(),t.form.coursewareurl&&2==t.form.coursewaretype?i("div",[i("div",{staticClass:"pdf"},[i("p",{staticClass:"arrow"},[i("pdf",{directives:[{name:"show",rawName:"v-show",value:t.showPdf,expression:"showPdf"}],attrs:{src:t.form.coursewareurl,page:t.currentPage},on:{"num-pages":function(e){t.pageCount=e},"page-loaded":function(e){t.currentPage=e},loaded:t.loadPdfHandler}})],1)])]):t._e(),"4"==t.form.coursewaretype?[i("el-form-item",{attrs:{label:"链接",required:""}},[i("el-input",{attrs:{oninput:"value=value.replace(/[^a-zA-Z0-9&=%#.:/]/g,'')"},on:{input:function(e){return t.$forceUpdate()}},model:{value:t.form.coursewareurl,callback:function(e){t.$set(t.form,"coursewareurl",e)},expression:"form.coursewareurl"}})],1),t.erroMessage?i("div",{staticStyle:{color:"#ff4949","font-size":"12px","line-height":"1","margin-left":"120px","margin-top":"-13px","margin-bottom":"5px"}},[t._v(" 链接 ")]):t._e()]:t._e(),"4"!==t.form.coursewaretype?[i("el-form-item",{attrs:{label:"长度"}},[i("el-input",{staticStyle:{width:"calc(100% - 50px)"},attrs:{readonly:""},model:{value:t.form.chapterlength,callback:function(e){t.$set(t.form,"chapterlength",e)},expression:"form.chapterlength"}}),2==t.form.coursewaretype?i("span",{staticStyle:{"margin-left":"15px"}},[t._v("页")]):t._e(),1==t.form.coursewaretype||3==t.form.coursewaretype?i("span",{staticStyle:{"margin-left":"15px"}},[t._v("秒")]):t._e()],1)]:t._e(),"4"==t.form.coursewaretype?[i("el-form-item",{attrs:{label:"长度",prop:"chapterlength"}},[i("el-input",{staticStyle:{width:"calc(100% - 174px)"},attrs:{oninput:"value=value.replace(/[^\\d]/g,'')"},on:{input:function(e){return t.$forceUpdate()}},model:{value:t.form.chapterlength,callback:function(e){t.$set(t.form,"chapterlength",e)},expression:"form.chapterlength"}}),i("el-select",{staticStyle:{display:"inline-block",width:"120px","margin-left":"15px"},attrs:{placeholder:"请选择-单位","value-key":"type"},on:{change:function(e){return t.$forceUpdate()}},model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}},t._l(t.unitList,(function(t){return i("el-option",{key:t.type,attrs:{value:t.type,label:t.name}})})),1)],1),t.erroMessage?i("div",{staticStyle:{color:"#ff4949","font-size":"12px","line-height":"1","margin-left":"120px","margin-top":"-13px","margin-bottom":"5px"}},[!t.form.chapterlength&&t.form.unit?i("span",[t._v("请输入长度")]):t._e(),!t.form.unit&&t.form.chapterlength?i("span",[t._v("请选择单位")]):t._e(),t.form.unit||t.form.chapterlength?t._e():i("span",[t._v("请输入长度")])]):t._e()]:t._e()],2)]:t._e()],2),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogNodeVisible=!1}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary",disabled:t.loading||t.fileLoading},on:{click:function(e){return t.updateData()}}},[t._v("确认")])],1)],1):t._e()],1)])},s=[],r=(i("cc57"),i("9a33"),i("555e")),n=i("6a90"),o=i("6724"),l={components:{pdf:n["a"]},directives:{waves:o["a"]},props:["courseid"],data:function(){return{data:[],defaultProps:{children:"nodes",label:"chaptername"},progressPercent:0,showPdf:!1,fileLoading:!1,loading:!1,fileList:[],dialogNodeVisible:!1,baseUrl:"https://upload.qiniup.com",dialogText:"",form:{chaptertype:1},labelText:"",currentPage:0,pageCount:0,erroMessage:!1,unitList:[{type:1,name:"页"},{type:2,name:"秒"}]}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;Object(r["s"])({courseId:this.courseid}).then((function(e){t.data=JSON.parse(JSON.stringify(e.data))}))},renderContent:function(t,e){var i=this,a=e.node,s=e.data;e.store;return 1==s.chaptertype?t("span",{style:"flex: 1;display: flex;align-items: center;justify-content: space-between;padding-right: 8px;"},[t("span",[a.label]),t("span",[t("el-link",{attrs:{type:"primary"},on:{click:function(){return i.addNode(s,2)}}},["添加节"]),t("el-link",{attrs:{type:"primary"},on:{click:function(){return i.addNode(s,3)}}},["添加内容"]),t("el-link",{attrs:{type:"primary"},on:{click:function(){return i.edit(s)}}},["编辑"]),t("el-link",{attrs:{type:"primary"},on:{click:function(){return i.remove(s)}}},["删除"])])]):2==s.chaptertype?t("span",{style:"flex: 1;display: flex;align-items: center;justify-content: space-between;padding-right: 8px;"},[t("span",[a.label]),t("span",[t("el-link",{attrs:{type:"primary"},on:{click:function(){return i.addNode(s,3)}}},["添加内容"]),t("el-link",{attrs:{type:"primary"},on:{click:function(){return i.edit(s)}}},["编辑"]),t("el-link",{attrs:{type:"primary"},on:{click:function(){return i.remove(s)}}},["删除"])])]):t("span",{style:"flex: 1;display: flex;align-items: center;justify-content: space-between;padding-right: 8px;"},[t("span",[a.label]),t("span",[t("el-link",{attrs:{type:"primary"},on:{click:function(){return i.edit(s)}}},["编辑"]),t("el-link",{attrs:{type:"primary"},on:{click:function(){return i.remove(s)}}},["删除"])])])},addNode:function(t,e){this.dialogNodeVisible=!0,this.dialogText="创建",this.erroMessage=!1,this.form=t?{parentid:t.id,chaptername:"",courseid:this.courseid,chaptertype:e}:{chaptertype:e,chaptername:""},3==e&&(this.form.coursewaretype="1",this.labelText="上传视频",this.fileLoading=!1,this.fileList=[],this.form.coursewareurl="",this.form.chapterlength="")},edit:function(t){this.fileLoading=!1,this.dialogNodeVisible=!0,this.erroMessage=!1,this.dialogText="编辑",this.form=Object.assign({},t),this.form.coursewareurl&&(this.form.coursewaretype=this.form.coursewaretype+"",this.fileList=[{url:this.form.coursewareurl,name:this.form.coursewarename}])},append:function(t){var e={id:id++,chaptername:"testtest",nodes:[]};t.nodes||this.$set(t,"nodes",[]),t.nodes.push(e)},checkType:function(t){this.fileLoading=!1,this.fileList=[],this.form.chapterlength="",this.form.coursewareurl="",this.form.unit="",1==t?this.labelText="上传视频":3==t?this.labelText="上传音频":2==t&&(this.labelText="上传PDF文件"),this.$forceUpdate()},upqiniu:function(t){var e=this;this.form.chapterlength="";var i={headers:{"Content-Type":"multipart/form-data"}},a=this;Object(r["w"])().then((function(s){if(0==s.code){var r=new FormData;r.append("file",t.file),r.append("token",s.data.token),e.erroMessage=!1,console.log(a.$axios.CancelToken.source),a.source=a.$axios.CancelToken.source(),a.$axios({url:a.baseUrl,method:"post",data:r,config:i,onUploadProgress:function(e){var i=e.loaded/e.total*100|0;t.onProgress({percent:i})},cancelToken:a.source.token}).then((function(e){t.onSuccess(),a.imageUrl=s.data.qiniuDomain+e.data.key;var i=t;i.name=t.file.name.split(".")[0],i.url=a.imageUrl,a.handleAvatarSuccess(i)}))}}))},handleAvatarSuccess:function(t){this.fileList.push({name:t.name,url:t.url,courseid:this.courseid}),this.form.coursewarename=t.name,this.form.coursewareurl=t.url,this.erroMessage=!1},handleRemove:function(t,e){this.fileList=[],t.raw&&(t.raw.remove=!0),this.form.coursewareurl="",this.form.chapterlength="",this.erroMessage=!0,this.source.cancel("取消上传")},handleExceed:function(){this.$message.error("上传最多只能上传一个文件!")},beforeAvatarUpload:function(t){var e=t.name||"",i=e.split(".")[e.split(".").length-1],a=this;if("1"==this.form.coursewaretype){if("mp4"!==i)return this.$message.error("上传文件只能是 mp4 格式!"),!1;var s=URL.createObjectURL(t),r=new Audio(s);r.addEventListener("loadedmetadata",(function(t){n=r.duration,n=parseInt(n),a.form.chapterlength=n}))}else if("3"==this.form.coursewaretype){if("mp3"!==i)return this.$message.error("上传文件只能是 mp3 格式!"),!1;var n;s=URL.createObjectURL(t),r=new Audio(s);r.addEventListener("loadedmetadata",(function(t){n=r.duration,n=parseInt(n),a.form.chapterlength=n}))}else if("2"==this.form.coursewaretype&&"pdf"!==i)return this.$message.error("上传文件只能是 pdf 格式!"),!1},remove:function(t,e){var i=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["a"])(t.id).then((function(t){0==t.code?(i.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),i.getData()):i.$message.error(t.msg)}))})).catch((function(){i.$message({type:"info",message:"已取消删除"})}))},updateData:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;""!=t.form.coursewareurl&&""!=t.form.chapterlength?(t.form.courseid=t.courseid,t.loading=!0,Object(r["f"])(t.form).then((function(e){0==e.code?(t.$message.success("提交成功"),t.dialogNodeVisible=!1,t.getData()):t.$message.error(e.msg),t.loading=!1}))):t.erroMessage=!0}))},changePdfPage:function(t){0===t&&this.currentPage>1&&this.currentPage--,1===t&&this.currentPage<this.pageCount&&this.currentPage++},loadPdfHandler:function(t){this.currentPage=1,this.form.chapterlength=this.pageCount,this.$set(this.form,"chapterlength",this.pageCount),this.$forceUpdate()}}},c=l,u=(i("16c7"),i("9ca4")),d=Object(u["a"])(c,a,s,!1,null,"65b8c81a",null);e["default"]=d.exports},"180d":function(t,e,i){"use strict";var a=i("ad11"),s=i.n(a);s.a},"18d9":function(t,e,i){"use strict";var a=i("277b"),s=i.n(a);s.a},"1ad3":function(t,e,i){},"1b6e":function(t,e,i){"use strict";var a=i("64ed"),s=i.n(a);s.a},"1c1d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("div",{staticClass:"operate-panel"},[i("div",{staticClass:"operate-panel_left"},[i("el-select",{staticStyle:{"margin-right":"5px"},attrs:{placeholder:"请选择-分组",filterable:"","value-key":"id"},model:{value:t.listQuery.paperClassificationId,callback:function(e){t.$set(t.listQuery,"paperClassificationId",e)},expression:"listQuery.paperClassificationId"}},t._l(t.groupList,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.text}})})),1),i("el-input",{staticClass:"filter-item",attrs:{placeholder:"试卷名称"},model:{value:t.listQuery.text,callback:function(e){t.$set(t.listQuery,"text",e)},expression:"listQuery.text"}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],1),i("div",{staticClass:"operate-panel_right"},[i("el-button",{attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("新增")]),i("el-button",{attrs:{disabled:!t.ids,type:"primary"},on:{click:t.handleDeleteAll}},[t._v("批量删除")])],1)]),i("div",{staticClass:"panel-body"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"",height:"100%","default-sort":{prop:"id",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{label:"试卷分组",prop:"paperClassificationName",align:"left"}}),i("el-table-column",{attrs:{label:"试卷名称",prop:"text",align:"left","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"组卷方式",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(1==i.type?"手动":"自动")+" ")]}}])}),i("el-table-column",{attrs:{label:"使用次数",prop:"usedNum",align:"left"}}),i("el-table-column",{attrs:{label:"创建人",prop:"creator",align:"left",width:"180px","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"创建日期",prop:"createTime",align:"left",width:"200px"}}),i("el-table-column",{attrs:{label:"发布",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ccc"},on:{change:function(e){return t.changePub(a)}},model:{value:a.ispublish,callback:function(e){t.$set(a,"ispublish",e)},expression:"row.ispublish"}})]}}])}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"200px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDetail(a)}}},[t._v("查看详情")]),i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleUpdate(a)}}},[t._v("编辑")]),i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDelete(a.id)}}},[t._v("删除")])]}}])})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)])])},s=[],r=i("3d70"),n=i("6724"),o=i("333d"),l=i("60b8"),c=i("6d93"),u={name:"PaperManage",components:{Pagination:o["a"]},directives:{waves:n["a"]},mixins:[l["a"]],data:function(){return{ids:"",groupList:[],tableKey:0,list:[],total:0,listLoading:!0,listQuery:{pageIndex:0,currentPage:1,pageSize:10,text:"",paperClassificationId:""}}},mounted:function(){var t=this;this.getList(),this.getGroupList(),c["default"].$on("getlist",(function(e){t.getList(),t.getGroupList()}))},activated:function(){var t=this;this.getList(),this.getGroupList(),c["default"].$on("getlist",(function(e){t.getList(),t.getGroupList()}))},methods:{resetQuery:function(){this.listQuery={pageIndex:0,currentPage:1,pageSize:10,paperClassificationId:"",text:""}},getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,Object(r["f"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1}))},getGroupList:function(){var t=this;Object(r["e"])().then((function(e){var i={id:-1,text:"默认分组"};t.groupList=e.data||[],t.groupList.unshift(i)}))},handleCreate:function(){this.$router.push({path:"/paper/addPaper"})},handleDetail:function(t){this.$router.push({path:"/paper/detail",query:{id:t.id}})},handleUpdate:function(t){this.$router.push({path:"/paper/addPaper",query:{id:t.id}})},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["c"])(t).then((function(t){0==t.code?(e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.getList()):e.$message.error(t.msg)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleDeleteAll:function(){var t=this;this.handleDelete(t.ids)},handleSelectionChange:function(t){t&&t.length?this.ids=t.reduce((function(t,e){return t.push(e.id),t}),[]).join(","):this.ids=""},handleNodeClick:function(t){this.listQuery.hierarchyClassificationsName=t.text,this.selClassTree={id:t.id,hierarchyClassificationsName:t.text},this.showTree=!1,this.listQuery.hierarchyClassificationId=t.id,this.$set(this.listQuery,"hierarchyClassificationId",t.id),this.$set(this.listQuery,"hierarchyClassificationsName",t.text)},changePub:function(t){var e=this;t.ispublish,Object(r["a"])({id:t.id,ispublish:t.ispublish}).then((function(i){0==i.code?(e.$notify({title:"Success",message:"操作成功!",type:"success",duration:2e3}),e.getList()):(e.$message.error(i.msg),t.ispublish,t.ispublish)}))}}},d=u,p=(i("4d1d"),i("9ca4")),m=Object(p["a"])(d,a,s,!1,null,"5d4d4fd6",null);e["default"]=m.exports},"1db4":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wscn-http404-container"},[i("div",{staticClass:"wscn-http404"},[t._m(0),i("div",{staticClass:"bullshit"},[i("div",{staticClass:"bullshit__oops"},[t._v("OOPS!")]),t._m(1),i("div",{staticClass:"bullshit__headline"},[t._v(t._s(t.message))]),i("div",{staticClass:"bullshit__info"},[t._v("Please check that the URL you entered is correct, or click the button below to return to the homepage.")]),i("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[t._v("Back to home")])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pic-404"},[a("img",{staticClass:"pic-404__parent",attrs:{src:i("a36b"),alt:"404"}}),a("img",{staticClass:"pic-404__child left",attrs:{src:i("26fc"),alt:"404"}}),a("img",{staticClass:"pic-404__child mid",attrs:{src:i("26fc"),alt:"404"}}),a("img",{staticClass:"pic-404__child right",attrs:{src:i("26fc"),alt:"404"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bullshit__info"},[t._v("All rights reserved "),i("a",{staticStyle:{color:"#20a0ff"},attrs:{href:"https://wallstreetcn.com",target:"_blank"}},[t._v("wallstreetcn")])])}],r={name:"Page404",computed:{message:function(){return"The webmaster said that you can not enter this page..."}}},n=r,o=(i("35e7"),i("9ca4")),l=Object(o["a"])(n,a,s,!1,null,"26fcd89f",null);e["default"]=l.exports},"1dd9":function(t,e,i){},"1def":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:"设置学员",width:"60%",visible:t.dialog,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialog=e},open:t.getList}},[i("div",{staticClass:"operate-panel_left",staticStyle:{"margin-bottom":"15px"}},[i("el-input",{staticClass:"filter-item",staticStyle:{"margin-left":"15px",width:"200px"},attrs:{placeholder:"学员姓名"},model:{value:t.listQuery.organizationName,callback:function(e){t.$set(t.listQuery,"organizationName",e)},expression:"listQuery.organizationName"}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.getList}},[t._v("查询")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,ref:"stuTab",staticStyle:{width:"100%",height:"calc(100% - 128px)"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"","default-sort":{prop:"relationid",order:"descending"},"row-key":t.getRowKey},on:{"selection-change":t.changeFun,select:t.triggerSelect,"select-all":t.triggerAllSelect}},[i("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":!0,"row-key":t.getRowKeys}}),i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),i("el-table-column",{attrs:{label:"学员姓名",prop:"organizationName",align:"left","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"组织架构",prop:"depName",align:"left"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1),i("div",{staticStyle:{"margin-top":"20px"}},[t._v(" 已选学员： "),i("ul",t._l(t.selectList,(function(e,a){return i("li",{key:a,staticClass:"item"},[i("span",{staticClass:"name"},[t._v(t._s(e.organizationName))]),i("span",{staticClass:"el-icon-circle-close del",on:{click:function(i){return t.deleteItem(t.selectList,e)}}})])})),0)]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancel}},[t._v("取消")]),t.listLoading?t._e():i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateData()}}},[t._v("确认")])],1)],1)],1)},s=[],r=(i("e204"),i("e697"),i("ed63"),i("8cf2"),i("6d57"),i("555e")),n=i("6724"),o=i("333d"),l={components:{Pagination:o["a"]},directives:{waves:n["a"]},props:["id","stuList"],data:function(){return{list:[],dialog:!1,tableKey:0,total:0,listLoading:!0,selectList:[],listQuery:{pageIndex:0,currentPage:1,pageSize:20}}},methods:{getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,this.listQuery.relationtype=3,this.listQuery.courseid=this.id,Object(r["l"])(this.listQuery).then((function(e){if(t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1,t.stuList.length){t.selectList=t.stuList;var i=t.stuList.reduce((function(t,e){return t.push(e.relationid),t}),[]);t.list.forEach((function(e){i&&-1!==i.indexOf(e.relationid)?t.$refs.stuTab.toggleRowSelection(e,!0):t.$refs.stuTab.toggleRowSelection(e,!1)}))}else t.$refs.stuTab.clearSelection(),t.$refs.stuTab.toggleAllSelection();var a=[],s=[];t.selectList.forEach((function(t){-1==a.indexOf(t.relationid)&&(a.push(t.relationid),s.push(t))})),t.selectList=s}))},triggerAllSelect:function(t){if(t.length)this.handleSelectionChange(t);else{var e=this.list.map((function(t){return t.id}));this.selectList=this.selectList.filter((function(t){return!e.includes(t.id)}))}},triggerSelect:function(t,e){t.find((function(t){return t.id===e.id}))||(this.selectList=this.selectList.filter((function(t){return t.id!==e.id})),this.setSelection())},setSelection:function(){var t=this;this.$nextTick((function(){var e=t.selectList.map((function(t){return t.id}));t.list.forEach((function(i){-1!==e.indexOf(i.id)?t.$refs.stuTab.toggleRowSelection(i,!0):t.$refs.stuTab.toggleRowSelection(i,!1)}))}))},changeFun:function(t){var e=this.selectList.map((function(t){return t.id})),i=t.filter((function(t){return!e.includes(t.id)}));this.selectList=this.selectList.concat(i)},deleteItem:function(t,e){var i=t.findIndex((function(t){return t.id==e.id}));t.splice(i,1),this.setSelection()},getRowKeys:function(t){return t.id},resetQuery:function(){this.listQuery={organizationName:"",pageIndex:0,currentPage:1,pageSize:1e3,courseid:this.courseid}},getRowKey:function(t){return t.id},updateData:function(){if(this.selectList.length||!this.list.length){var t=this.selectList&&this.selectList.length&&this.selectList.reduce((function(t,e){return t.push(e.relationid),t}),[]);this.$emit("changStu",t,this.selectList),this.dialog=!1}else this.$message.error("请选择学员")},cancel:function(){this.dialog=!1}}},c=l,u=(i("26b6"),i("9ca4")),d=Object(u["a"])(c,a,s,!1,null,"cafe1284",null);e["default"]=d.exports},"1ebc":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:"设置学员",width:"60%",visible:t.dialog,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialog=e},open:t.getList}},[i("div",{staticClass:"operate-panel_left",staticStyle:{"margin-bottom":"15px"}},[i("el-input",{staticClass:"filter-item",staticStyle:{"margin-left":"15px",width:"200px"},attrs:{placeholder:"学员姓名"},model:{value:t.listQuery.organizationName,callback:function(e){t.$set(t.listQuery,"organizationName",e)},expression:"listQuery.organizationName"}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.getList}},[t._v("查询")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,ref:"stuTab",staticStyle:{width:"100%",height:"calc(100% - 128px)"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"","default-sort":{prop:"relationid",order:"descending"},"row-key":t.getRowKey},on:{"selection-change":t.changeFun,select:t.triggerSelect,"select-all":t.triggerAllSelect}},[i("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":!0,"row-key":t.getRowKeys}}),i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),i("el-table-column",{attrs:{label:"学员姓名",prop:"organizationName",align:"left","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"组织架构",prop:"depName",align:"left"}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1),i("div",{staticStyle:{"margin-top":"20px"}},[t._v(" 已选学员： "),i("ul",t._l(t.selectList,(function(e,a){return i("li",{key:a,staticClass:"item"},[i("span",{staticClass:"name"},[t._v(t._s(e.organizationName))]),i("span",{staticClass:"el-icon-circle-close del",on:{click:function(i){return t.deleteItem(t.selectList,e)}}})])})),0)]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancel}},[t._v("取消")]),t.listLoading?t._e():i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateData()}}},[t._v("确认")])],1)],1)],1)},s=[],r=(i("e204"),i("e697"),i("ed63"),i("8cf2"),i("6d57"),i("555e")),n=i("6724"),o=i("333d"),l={components:{Pagination:o["a"]},directives:{waves:n["a"]},props:["id","stuList"],data:function(){return{list:[],dialog:!1,tableKey:0,total:0,listLoading:!0,selectList:[],listQuery:{pageIndex:0,currentPage:1,pageSize:20}}},methods:{getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,this.listQuery.relationtype=3,this.listQuery.courseid=this.id,Object(r["l"])(this.listQuery).then((function(e){if(t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1,t.stuList.length){t.selectList=t.stuList;var i=t.stuList.reduce((function(t,e){return t.push(e.relationid),t}),[]);t.list.forEach((function(e){i&&-1!==i.indexOf(e.relationid)?t.$refs.stuTab.toggleRowSelection(e,!0):t.$refs.stuTab.toggleRowSelection(e,!1)}))}else t.$refs.stuTab.clearSelection(),t.$refs.stuTab.toggleAllSelection();var a=[],s=[];t.selectList.forEach((function(t){-1==a.indexOf(t.relationid)&&(a.push(t.relationid),s.push(t))})),t.selectList=s}))},triggerAllSelect:function(t){if(t.length)this.handleSelectionChange(t);else{var e=this.list.map((function(t){return t.id}));this.selectList=this.selectList.filter((function(t){return!e.includes(t.id)}))}},triggerSelect:function(t,e){t.find((function(t){return t.id===e.id}))||(this.selectList=this.selectList.filter((function(t){return t.id!==e.id})),this.setSelection())},setSelection:function(){var t=this;this.$nextTick((function(){var e=t.selectList.map((function(t){return t.id}));t.list.forEach((function(i){-1!==e.indexOf(i.id)?t.$refs.stuTab.toggleRowSelection(i,!0):t.$refs.stuTab.toggleRowSelection(i,!1)}))}))},changeFun:function(t){var e=this.selectList.map((function(t){return t.id})),i=t.filter((function(t){return!e.includes(t.id)}));this.selectList=this.selectList.concat(i)},deleteItem:function(t,e){var i=t.findIndex((function(t){return t.id==e.id}));t.splice(i,1),this.setSelection()},getRowKeys:function(t){return t.id},resetQuery:function(){this.listQuery={organizationName:"",pageIndex:0,currentPage:1,pageSize:1e3,courseid:this.courseid}},getRowKey:function(t){return t.id},updateData:function(){if(this.selectList.length||!this.list.length){var t=this.selectList&&this.selectList.length&&this.selectList.reduce((function(t,e){return t.push(e.relationid),t}),[]);this.$emit("changStu",t,this.selectList),this.dialog=!1}else this.$message.error("请选择学员")},cancel:function(){this.dialog=!1}}},c=l,u=(i("815f"),i("9ca4")),d=Object(u["a"])(c,a,s,!1,null,"54cf200b",null);e["default"]=d.exports},2:function(t,e){},2217:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"social-signup-container"},[i("div",{staticClass:"sign-btn",on:{click:function(e){return t.wechatHandleClick("wechat")}}},[i("span",{staticClass:"wx-svg-container"},[i("svg-icon",{staticClass:"icon",attrs:{"icon-class":"wechat"}})],1),t._v(" WeChat ")]),i("div",{staticClass:"sign-btn",on:{click:function(e){return t.tencentHandleClick("tencent")}}},[i("span",{staticClass:"qq-svg-container"},[i("svg-icon",{staticClass:"icon",attrs:{"icon-class":"qq"}})],1),t._v(" QQ ")])])},s=[],r={name:"SocialSignin",methods:{wechatHandleClick:function(t){alert("ok")},tencentHandleClick:function(t){alert("ok")}}},n=r,o=(i("000d"),i("9ca4")),l=Object(o["a"])(n,a,s,!1,null,"617d9406",null);e["default"]=l.exports},2347:function(t,e,i){"use strict";var a=i("3805"),s=i.n(a);s.a},"24e2":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"errPage-container"},[i("el-button",{staticClass:"pan-back-btn",attrs:{icon:"el-icon-arrow-left"},on:{click:t.back}},[t._v(" 返回 ")]),i("el-row",[i("el-col",{attrs:{span:12}},[i("h1",{staticClass:"text-jumbo text-ginormous"},[t._v(" Oops! ")]),t._v(" gif来源"),i("a",{attrs:{href:"https://zh.airbnb.com/",target:"_blank"}},[t._v("airbnb")]),t._v(" 页面 "),i("h2",[t._v("你没有权限去该页面")]),i("h6",[t._v("如有不满请联系你领导")]),i("ul",{staticClass:"list-unstyled"},[i("li",[t._v("或者你可以去:")]),i("li",{staticClass:"link-type"},[i("router-link",{attrs:{to:"/home"}},[t._v(" 回首页 ")])],1)])]),i("el-col",{attrs:{span:12}},[i("img",{attrs:{src:t.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1),i("el-dialog",{attrs:{visible:t.dialogVisible,title:"随便看"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{staticClass:"pan-img",attrs:{src:t.ewizardClap}})])],1)},s=[],r=i("cc6c"),n=i.n(r),o={name:"Page401",data:function(){return{errGif:n.a+"?"+ +new Date,ewizardClap:"https://wpimg.wallstcn.com/007ef517-bafd-4066-aae4-6883632d9646",dialogVisible:!1}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/dashboard"}):this.$router.go(-1)}}},l=o,c=(i("bc67"),i("9ca4")),u=Object(c["a"])(l,a,s,!1,null,"53369faf",null);e["default"]=u.exports},"26b6":function(t,e,i){"use strict";var a=i("8f35"),s=i.n(a);s.a},"26fc":function(t,e,i){t.exports=i.p+"static/img/404_cloud.0f4bc32b.png"},"277b":function(t,e,i){},"2de7":function(t,e,i){"use strict";var a=i("415a"),s=i.n(a);s.a},"2e3f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{staticClass:"app-container"},[a("el-page-header",{attrs:{content:"课程管理",title:"返回"},on:{back:function(e){return t.$router.push("/coursePage/index")}}}),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"15px"}},[t.coverimg?a("el-image",{staticClass:"inline_block",staticStyle:{width:"164px",height:"90px","object-fit":"contain"},attrs:{src:t.processImgUrl(t.coverimg),"preview-src-list":t.coverimg.split(",")}}):t._e(),t.coverimg?t._e():a("img",{staticClass:"inline_block",staticStyle:{width:"100px",height:"80px"},attrs:{src:i("05cf"),alt:""}}),a("div",{staticClass:"font-level-3 inline_block",staticStyle:{"margin-left":"50px"}},[a("strong",[t._v(" "+t._s(t.form.coursename))])]),t.form.type?a("el-tag",{staticStyle:{"margin-left":"15px"},attrs:{type:"success"}},[t._v(" "+t._s(1==t.form.type?"私有":2==t.form.type?"半公开":"公开"))]):t._e(),a("div",{staticClass:"dialog-footer text-right inline_block  pull-right",staticStyle:{"line-height":"80px"}})],1),a("el-col",{staticClass:"tac",staticStyle:{height:"calc(100% - 180px)"}},[a("el-col",{staticStyle:{"margin-top":"15px",height:"calc(100% - 25px)",overflow:"auto"},attrs:{span:5}},[a("ul",{staticClass:"el-menu-vertical-demo el-menu",attrs:{role:"menubar"}},t._l(t.tabArray,(function(e,i){return a("li",{key:i,staticClass:"el-submenu text-center",attrs:{role:"menuitem"},on:{click:function(e){return t.changeMenu(i)}}},[a("div",{staticClass:"el-submenu__title",staticStyle:{"padding-left":"20px"}},[a("span",{class:{tab_active:t.activeMenu==i}},[t._v(t._s(e))])])])})),0)]),a("el-col",{staticStyle:{"margin-top":"15px",height:"calc(100% - 25px)"},attrs:{span:19}},[a("el-card",{staticClass:"box-card",staticStyle:{height:"100%","overflow-y":"auto"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v(t._s(t.tabArray[t.activeMenu]))])]),0==t.activeMenu?a("div",[a("el-form",{ref:"form",staticStyle:{"margin-top":"15px"},attrs:{model:t.form,"label-width":"120px",rules:t.rules}},[a("el-form-item",{attrs:{label:"标题",prop:"coursename"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:t.form.coursename,callback:function(e){t.$set(t.form,"coursename",e)},expression:"form.coursename"}})],1),a("el-form-item",{attrs:{label:"分类",prop:"classname"}},[a("div",{staticClass:"pro-sty"},[a("el-input",{attrs:{placeholder:"请选择分类",clearable:"","read-only":""},on:{change:t.changeTree},nativeOn:{click:function(e){return t.deptogglePanel(e,"classTree",t.selClassTree)}},model:{value:t.form.classnamePath,callback:function(e){t.$set(t.form,"classnamePath",e)},expression:"form.classnamePath"}}),t.showTree?a("div",{ref:"suoShuMenTree",staticClass:"treeDiv"},[a("el-tree",{ref:"classTree",staticClass:"suoshubumen",attrs:{data:t.nodes,props:t.defaultProps,"node-key":"id","highlight-current":"","expand-on-click-node":!1},on:{"node-click":t.handleNodeClick}})],1):t._e()],1)]),a("el-form-item",{attrs:{label:"封面",prop:"coverimg"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.baseUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"auto-upload":!1,"on-change":t.uploadFileMethodAnswer}},[t.form.coverimg?a("img",{staticClass:"avatar",attrs:{src:t.processImgUrl(t.form.coverimg)}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),t.form.coverimg?a("i",{staticClass:"el-icon-close",staticStyle:{position:"absolute","z-index":"8",right:"10px","font-size":"16px"},on:{click:function(e){return t.removeImg(e)}}}):t._e(),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"red","margin-top":"0"},attrs:{slot:"tip"},slot:"tip"},[t._v(" 建议尺寸472px*258px ")])])],1),a("el-form-item",{attrs:{label:"简介",prop:"introduction"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:5},model:{value:t.form.introduction,callback:function(e){t.$set(t.form,"introduction",e)},expression:"form.introduction"}})],1)],1),a("div",{staticClass:"dialog-footer",staticStyle:{"margin-left":"120px"}},[a("el-button",{on:{click:function(e){return t.$router.push("/coursePage/index")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateData()}}},[t._v("确认")])],1)],1):t._e(),1==t.activeMenu?a("div",[a("Chapter",{attrs:{courseid:t.info.id,type:t.form.type}})],1):t._e(),2==t.activeMenu?a("div",[a("Student",{attrs:{courseid:t.info.id,type:t.form.type},on:{changeType:t.changeType}})],1):t._e(),3==t.activeMenu?a("div",[a("Material",{attrs:{courseid:t.info.id}})],1):t._e(),4==t.activeMenu?a("div",[a("Lecturer",{attrs:{courseid:t.info.id}})],1):t._e()])],1)],1)],1),a("Crop",{ref:"dialogCropVisible",attrs:{"img-url":t.optionImg,"auto-crop-height":258,"auto-crop-width":472,"img-height":t.imgHeight,"img-width":t.imgWidth,"img-file":t.imgFile},on:{imgUrl:t.getUrl}})],1)},s=[],r=(i("309f"),i("0b53"),i("06a2"),i("ec25"),i("cc57"),i("2b45"),i("b449"),i("6648")),n=(i("6d57"),i("6724")),o=i("555e"),l=i("1792"),c=i("e452"),u=i("0ad8"),d=i("497d"),p=i("0aff");function m(t,e){var i;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=h(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var a=0,s=function(){};return{s:s,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,o=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return n=t.done,t},e:function(t){o=!0,r=t},f:function(){try{n||null==i.return||i.return()}finally{if(o)throw r}}}}function h(t,e){if(t){if("string"===typeof t)return f(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=t[i];return a}var g=i("31a6").Base64,v={components:{Chapter:l["default"],Material:c["default"],Lecturer:u["default"],Student:d["default"],Crop:p["default"]},directives:{waves:n["a"]},data:function(){return{form:{coverimg:""},nodes:[],defaultProps:{children:"nodes",label:"classname"},rules:{coursename:[{required:!0,message:"请输入标题",trigger:"blur"},{max:50,message:"最多可输入50个字符",trigger:"blur"}],introduction:[{max:500,message:"最多可输入500个字符",trigger:"blur"}],classname:[{required:!0,message:"请选择分类",trigger:"change"}],coverimg:[{required:!0,message:"请上传封面",trigger:"change"}]},tabArray:["基本信息","章节设置","学员管理","课程资料","讲师设置"],baseUrl:"/ovu-base/uploadImg",activeMenu:"0",showTree:!1,selClassTree:{},loading:!1,obj:{},imgWidth:0,imgHeight:0,optionImg:"",imgFile:{},classid:""}},computed:{info:{get:function(){return this.$route.query.info?JSON.parse(g.decode(this.$route.query.info)):{}},set:function(t){this.form=t}}},mounted:function(){},created:function(){var t=this;this.obj=JSON.parse(JSON.stringify(this.info));var e={coursename:this.info.coursename,pageIndex:0,currentPage:1,pageSize:100},i=this;Object(o["o"])(e).then((function(e){var a=e.data.data;a.length&&a.forEach((function(e){e.id==i.info.id&&(i.$set(i,"obj",e),i.$set(i.form,"classid",e.classid),t.getDataTree())}))})),this.coverimg=this.$route.query.coverimg},methods:{handleAvatarSuccess:function(t,e){var i=this;this.form.coverimg=t.urls,this.$nextTick((function(){i.$set(i.form,"coverimg",t.urls)})),this.$forceUpdate()},uploadFileMethodAnswer:function(t){var e=this,i="image/jpeg"===t.raw.type||"image/png"===t.raw.type;if(!i)return this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),!1;this.imgFile=t;var a=new Image;a.src=URL.createObjectURL(t.raw);var s=this;a.onload=function(t){this.width-0>472?this.width<=1e3?(s.imgWidth=this.width,s.imgHeight=this.height):(s.imgWidth=1e3,s.imgHeight=1e3/this.width*this.height):(s.imgWidth=472,s.imgHeight=this.height),this.height-0<258&&(s.imgHeight=258)},this.$nextTick((function(){e.optionImg=URL.createObjectURL(t.raw);var i=e.$refs.dialogCropVisible;i.dialog=!0}))},getUrl:function(t){this.form.coverimg=t,this.$set(this.form,"coverimg",t),this.$forceUpdate()},removeImg:function(t){t.stopPropagation(),this.form.coverimg="",this.$set(this.form,"coverimg",""),this.$forceUpdate()},changeType:function(t){this.form.type=t;var e={coursename:this.info.coursename,pageIndex:0,currentPage:1,pageSize:100},i=this;Object(o["o"])(e).then((function(t){var e=t.data.data;e.length&&e.forEach((function(t){t.id==i.info.id&&i.$set(i,"obj",t)}))})),this.$forceUpdate()},updateData:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;var i=Object.assign({coverimg:t.form.coverimg},t.form);t.loading=!0,Object(o["h"])(i).then((function(e){0==e.code?(t.$message.success("提交成功"),t.$set(t,"coverimg",e.data.coverimg),t.$set(t,"obj",e.data),t.$set(t,"form",e.data),t.$set(t,"classid",e.data.classid),t.getDataTree(),t.$forceUpdate(),t.$nextTick((function(){t.$refs["form"].clearValidate()}))):t.$message.error(e.msg),t.loading=!1}))}))},changeMenu:function(t){this.activeMenu=t,this.getDataTree()},getMenuName:function(t){var e,i=m(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;a.id==this.form.classid?this.handleNodeClick(a):a.nodes&&this.getMenuName(a.nodes)}}catch(s){i.e(s)}finally{i.f()}},getDataTree:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.form=Object.assign({},this.obj),this.form.coverimg=this.coverimg,t.prev=2,this.loading=!0,t.next=6,Object(o["u"])().then((function(t){e.nodes=t.data,e.nodes&&e.nodes.length&&e.form.classid&&e.getMenuName(e.nodes)}));case 6:return t.prev=6,this.loading=!1,t.finish(6);case 9:case"end":return t.stop()}}),t,this,[[2,,6,9]])})));function e(){return t.apply(this,arguments)}return e}(),handleNodeClick:function(t){"0"!=t.parentid?(this.form.classnamePath=t.parentName+" > "+t.classname,this.selClassTree={id:t.id,classname:t.classname},this.showTree=!1,this.form.classid=t.id,this.$set(this.form,"classid",t.id),this.$set(this.form,"classname",t.classname)):this.$message.error("只允许选择叶子节点")},changeTree:function(){this.form.className="",this.form.classid=""},deptogglePanel:function(t,e,i){t||(t=window.event),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.showTree?this.dephide(e,i):this.depshow(e,i)},depshow:function(t,e){var i=this;this.showTree=!0,this.$nextTick((function(){i.$refs[t].setCurrentKey(e.id)})),document.addEventListener("click",this.dephidePanel,!1)},dephide:function(){this.showTree=!1,document.addEventListener("click",this.dephidePanel,!1)},dephidePanel:function(t){this.$refs.suoShuMenTree&&!this.$refs.suoShuMenTree.contains(t.target)&&this.dephide()}}},y=v,b=(i("af63"),i("9ca4")),x=Object(b["a"])(y,a,s,!1,null,"b400d862",null);e["default"]=x.exports},3:function(t,e){},3248:function(t,e,i){},"32a6":function(t,e,i){"use strict";(function(t){i("e697");var e=i("4f54");
/* @license 
 * jQuery.print, version 1.5.1
 *  (c) Sathvik Ponangi, Doers' Guild
 * Licence: CC-By (http://creativecommons.org/licenses/by/3.0/)
 *--------------------------------------------------------------------------*/
(function(t){function i(e){var i=t("");try{i=t(e).clone()}catch(a){i=t("<span />").html(e)}return i}function a(e,i,a){var s=t.Deferred();try{e=e.contentWindow||e.contentDocument||e;var r=e.document||e.contentDocument||e;a.doctype&&r.write(a.doctype),r.write(i),r.close();var n=!1,o=function(){if(!n){e.focus();try{e.document.execCommand("print",!1,null)||e.print(),t("body").focus()}catch(i){e.print()}e.close(),n=!0,s.resolve()}};t(e).on("load",o),setTimeout(o,a.timeout)}catch(l){s.reject(l)}return s}function s(e,i){var s=t(i.iframe+""),n=s.length;0===n&&(s=t('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo("body").css({position:"absolute",top:-999,left:-999}));var o=s.get(0);return a(o,e,i).done((function(){setTimeout((function(){0===n&&s.remove()}),1e3)})).fail((function(t){console.error("Failed to print from iframe",t),r(e,i)})).always((function(){try{i.deferred.resolve()}catch(t){console.warn("Error notifying deferred",t)}}))}function r(t,e){var i=window.open();return a(i,t,e).always((function(){try{e.deferred.resolve()}catch(t){console.warn("Error notifying deferred",t)}}))}function n(t){return!!("object"===("undefined"===typeof Node?"undefined":Object(e["a"])(Node))?t instanceof Node:t&&"object"===Object(e["a"])(t)&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName)}t.print=t.fn.print=function(){var e,a,o=this;o instanceof t&&(o=o.get(0)),n(o)?(a=t(o),arguments.length>0&&(e=arguments[0])):arguments.length>0?(a=t(arguments[0]),n(a[0])?arguments.length>1&&(e=arguments[1]):(e=arguments[0],a=t("html"))):a=t("html");var l={globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null,manuallyCopyFormValues:!0,deferred:t.Deferred(),timeout:750,title:null,doctype:"<!doctype html>"};e=t.extend({},l,e||{});var c=t("");e.globalStyles?c=t("style, link, meta, base, title"):e.mediaPrint&&(c=t("link[media=print]")),e.stylesheet&&(c=t.merge(c,t('<link rel="stylesheet" href="'+e.stylesheet+'">')));var u=a.clone();if(u=t("<span/>").append(u),u.find(e.noPrintSelector).remove(),u.append(c.clone()),e.title){var d=t("title",u);0===d.length&&(d=t("<title />"),u.append(d)),d.text(e.title)}u.append(i(e.append)),u.prepend(i(e.prepend)),e.manuallyCopyFormValues&&(u.find("input").each((function(){var e=t(this);e.is("[type='radio']")||e.is("[type='checkbox']")?e.prop("checked")&&e.attr("checked","checked"):e.attr("value",e.val())})),u.find("select").each((function(){var e=t(this);e.find(":selected").attr("selected","selected")})),u.find("textarea").each((function(){var e=t(this);e.text(e.val())})));var p=u.html();try{e.deferred.notify("generated_markup",p,u)}catch(m){console.warn("Error notifying deferred",m)}if(u.remove(),e.iframe)try{s(p,e)}catch(h){console.error("Failed to print from iframe",h.stack,h.message),r(p,e)}else r(p,e);return this}})(t)}).call(this,i("a336"))},"333d":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[i("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},s=[],r=(i("163d"),i("09f4")),n={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&Object(r["a"])(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&Object(r["a"])(0,800)}}},o=n,l=(i("a648"),i("9ca4")),c=Object(l["a"])(o,a,s,!1,null,"d8e2954c",null);e["a"]=c.exports},"33b3":function(t,e,i){"use strict";var a=i("14d5"),s=i.n(a);s.a},"34eb":function(t,e,i){"use strict";var a=i("3ebe"),s=i.n(a);s.a},3523:function(t,e,i){},"35e7":function(t,e,i){"use strict";var a=i("a09e"),s=i.n(a);s.a},3789:function(t,e,i){"use strict";var a=i("6a99"),s=i.n(a);s.a},"37a3":function(t,e,i){},3805:function(t,e,i){},"38f8":function(t,e,i){"use strict";var a=i("543e"),s=i.n(a);s.a},3922:function(t,e,i){"use strict";i.d(e,"f",(function(){return s})),i.d(e,"d",(function(){return r})),i.d(e,"e",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return c})),i.d(e,"g",(function(){return u}));var a=i("b775");function s(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationexamine/page",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationexamine/getAllTestBatchExamine",method:"get",params:t})}function n(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationexamine/getMaxTestBatchExamine",method:"get",params:t})}function o(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationexamine/edit",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationexamine/isPublish",method:"get",params:t})}function c(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationexamine/batchDelete/".concat(t),method:"get"})}function u(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationexamine/batchSendMsg?ids=".concat(t),method:"get"})}},"3a29":function(t,e,i){t.exports=i.p+"static/img/defaultImgCopy.5d614077.png"},"3aa9":function(t,e,i){},"3b2a":function(t,e,i){"use strict";var a=i("0a55"),s=i.n(a);s.a},"3d70":function(t,e,i){"use strict";i.d(e,"f",(function(){return s})),i.d(e,"e",(function(){return r})),i.d(e,"b",(function(){return n})),i.d(e,"h",(function(){return o})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return c})),i.d(e,"g",(function(){return u})),i.d(e,"a",(function(){return d}));var a=i("b775");function s(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paper/list",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paperClassification/list",method:"get",params:t})}function n(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paperClassification/delete?id=".concat(t),method:"get"})}function o(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paperClassification/edit",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paper/delete?ids=".concat(t),method:"get"})}function c(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paper/edit",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paper/detail?paperId=".concat(t),method:"get"})}function d(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paper/publish",method:"post",data:t})}},"3e30":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("div",{staticClass:"operate-panel"},[i("div",{staticClass:"operate-panel_left"},[i("el-input",{staticClass:"filter-item",attrs:{placeholder:"测评项目名称"},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],1)]),i("div",{staticClass:"box-card"},[i("span",{staticClass:"addProject",on:{click:t.addProject}},[t._v(" + 新增测评项目 ")])]),t._l(t.list,(function(e,a){return i("div",{key:a,staticClass:"box-card"},[i("div",{staticClass:"card_body",on:{click:function(i){return t.goList(e.id)}}},[i("h3",{staticStyle:{"word-break":"break-all"}},[t._v(" "+t._s(e.name)+" ")]),i("div",{staticStyle:{"word-break":"break-all"}},[t._v(" "+t._s(e.describe)+" ")])]),i("div",{staticClass:"card_bottom"},[i("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(i){return t.addTest(e)}}},[t._v("新增测评")]),-1!==e.id?i("el-dropdown",[i("el-link",{staticStyle:{"border-left":"1px solid #ccc",width:"93px"},attrs:{type:"primary",underline:!1}},[t._v("更多"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{nativeOn:{click:function(i){return t.editPro(e)}}},[t._v("编辑项目")]),i("el-dropdown-item",{nativeOn:{click:function(i){return t.delPro(e)}}},[t._v("删除项目")])],1)],1):t._e()],1)])})),i("div"),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,width:"40%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px",rules:t.rules}},[i("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[i("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),i("el-form-item",{attrs:{label:"项目描述",prop:"describe"}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.form.describe,callback:function(e){t.$set(t.form,"describe",e)},expression:"form.describe"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateData()}}},[t._v("确认")])],1)],1)],2)])},s=[],r=i("0c38"),n=i("6724"),o=i("333d"),l=i("60b8"),c=i("31a6").Base64,u={components:{Pagination:o["a"]},directives:{waves:n["a"]},mixins:[l["a"]],data:function(){return{listQuery:{name:"",type:1},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"更新",create:"新增"},form:{},rules:{name:[{required:!0,message:"请填写名称",trigger:"blur"},{max:32,message:"最多可输入32个字符",trigger:"blur"}],describe:[{max:150,message:"最多可输入150个字符",trigger:"blur"}]},loading:!1,list:[]}},mounted:function(){this.getList()},activated:function(){this.getList()},methods:{resetQuery:function(){this.listQuery={type:1,name:null}},getList:function(){this.listLoading=!0;var t=this;Object(r["c"])(t.listQuery).then((function(e){t.list=e.data.data||[];var i={id:-1,name:"默认项目"};t.list.unshift(i),t.$set(t,"list",t.list),t.listLoading=!1,t.$forceUpdate()}))},resetTemp:function(){this.form={bannerlogo:"",appview:1}},handleCreate:function(){this.$router.push({path:"/paper/addPaper"})},handleUpdate:function(t){var e=this;this.loading=!1,this.$nextTick((function(){e.$refs["form"].clearValidate()})),this.form=Object.assign({},t),this.dialogFormVisible=!0},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){deleteRow(t.id).then((function(t){e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.getList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleDeleteAll:function(){var t=this,e=this;this.$confirm("此操作将永久删除选中记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){deleteRow(e.ids).then((function(e){t.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),t.getList()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},addProject:function(){var t=this;this.dialogStatus="create",this.dialogFormVisible=!0,this.form={},this.$nextTick((function(){t.$refs["form"].clearValidate()}))},editPro:function(t){var e=this;this.dialogStatus="update",this.dialogFormVisible=!0,this.form=Object.assign({},t),this.$nextTick((function(){e.$refs["form"].clearValidate()}))},delPro:function(t){var e=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["a"])(t.id).then((function(t){0==t.code?(e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.getList()):e.$message.error(res.msg)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},addTest:function(t){localStorage.getItem("testInfo")&&localStorage.removeItem("testInfo"),localStorage.getItem("id")&&localStorage.removeItem("id"),this.$router.push({path:"/test/addTest",query:{info:c.encode(JSON.stringify(t))}})},goList:function(t){this.$router.push({path:"/test/testList",query:{id:t}})},updateData:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;t.loading=!0,t.dialogFormVisible=!1,t.form.type=1,Object(r["b"])(t.form).then((function(e){0==e.code?(t.$message.success("提交成功"),t.getList()):t.$message.error(e.msg),t.loading=!1}))}))}}},d=u,p=(i("f1b9"),i("9ca4")),m=Object(p["a"])(d,a,s,!1,null,"268c5a18",null);e["default"]=m.exports},"3ebe":function(t,e,i){},"3f4b":function(t,e,i){"use strict";i.d(e,"e",(function(){return s})),i.d(e,"d",(function(){return r})),i.d(e,"c",(function(){return n})),i.d(e,"g",(function(){return o})),i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return c})),i.d(e,"f",(function(){return u}));var a=i("b775");function s(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/hierarchy/list",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/subject/list",method:"get",params:t})}function n(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/hierarchy/edit",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/hierarchy/delete?id=".concat(t),method:"get"})}function l(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/subject/delete?ids=".concat(t),method:"get"})}function c(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/subject/edit",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/subject/move",method:"get",params:t})}},4:function(t,e){},"415a":function(t,e,i){},4236:function(t,e,i){"use strict";var a=i("61e1"),s=i.n(a);s.a},"437a":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAATCAYAAACZZ43PAAACWUlEQVQ4T53SW2uUVxjF8f/a7ySSxjbRGAnM9Mobv4LgbfET6BdQL0RBoeRFb0QU2hq1tQqKIoqCiIp4KRqooBSpeEQQpSUpZDJJncwkMh4mnXn3ktEOeJoSvN/r9xz2o8pw4bkAxAx4uVEiqAMVYADoMkYoM05AOeEGcB10QdW0UDf8FeBptL+TGJN0N0JNdo9QMETbfYLVwJAJ1xOxo9bwmKrptxXkc8T4Owp7MJczxROhySt1ISmGaHohWUPUNonJBLb2jRRvv228mhZeICaI/hNpNfhvzCNQzbgX6JE0hBlAPAxkB6+NT91fd5GsDbwUvLaZQqwAd2M1EVVgke1xSfeMr3XH5o3F+/8pC9wKt4EK9kWkm8BP4CHQM8ML2aVMcbjeSMZuFYvP21Xb4XfAcL6soCOReFXWWUEPZrtQzmKjnG3q3zd17/3QB8Bsmi8bjuF4FYUzra+zvTuXCzdj5j2C433jk5f138wfQ2oDmbPRRLmTbwE8HazHUaxK8KkG8z8OjszUPteFZtNC2fhYjPwWgg5hrrSOyvZKxKqg8EfSzL7/5kBppgPwbgTbN6SwP+Dd9di80tulr+YzLeuOof/rTA/0S/F1J2Da1mlB0XhDprh+cGTqTvuxdxG0i9hxidW0UMIeRfSDYoY2D45MlDoFPlliJc3XZGYR5Wh+HahPntdh5hcMVNNCa7ZgfC7zv9uX7ytPLzTcvsRXgidRccvSvaVb75/pQiBV0/wTi51LxyYvdTqW/4NawFE3/cPAz6WJhVT8ZIlzw/m1brwcXXJwbu5LgDevZTiAaBabXAAAAABJRU5ErkJggg=="},"43d4":function(t,e,i){"use strict";var a=i("6e0c"),s=i.n(a);s.a},4556:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=i("b775");function s(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/examResult/answerManage",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/examResult/getAnswerInfo/".concat(t),method:"get"})}function n(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/examResult/delete/".concat(t),method:"get"})}},"45c5":function(t,e,i){"use strict";var a=i("d561"),s=i.n(a);s.a},4765:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"operate-panel"},[i("div",{staticClass:"operate-panel_left"},[[i("el-radio",{attrs:{label:""},on:{change:t.getList},model:{value:t.listQuery.isleaf,callback:function(e){t.$set(t.listQuery,"isleaf",e)},expression:"listQuery.isleaf"}},[t._v("全部分类")]),i("el-radio",{attrs:{label:"0"},on:{change:t.getList},model:{value:t.listQuery.isleaf,callback:function(e){t.$set(t.listQuery,"isleaf",e)},expression:"listQuery.isleaf"}},[t._v("只看一级分类")]),i("el-radio",{attrs:{label:"1"},on:{change:t.getList},model:{value:t.listQuery.isleaf,callback:function(e){t.$set(t.listQuery,"isleaf",e)},expression:"listQuery.isleaf"}},[t._v("只看二级分类")])],""!==t.listQuery.isleaf?i("el-input",{staticClass:"filter-item",staticStyle:{"margin-right":"5px"},attrs:{placeholder:"分类名称"},on:{input:t.forceUpdate},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}}):t._e(),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],2),i("div",{staticClass:"operate-panel_right"},[i("el-button",{directives:[{name:"permission",rawName:"v-permission:add",arg:"add"}],attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("新增一级分类")])],1)]),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"",height:"calc(100% - 119px)"}},[i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),i("el-table-column",{attrs:{label:"名称",prop:"classname",align:"left","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[a.edit&&"0"==a.parentid?[i("el-input",{staticClass:"edit-input",attrs:{maxlength:"5",placeholder:"最多可输入5个字符","show-word-limit":""},model:{value:a.classname,callback:function(e){t.$set(a,"classname",e)},expression:"row.classname"}})]:t._e(),a.edit&&"0"!==a.parentid?[i("el-input",{staticClass:"edit-input",attrs:{maxlength:"20",placeholder:"最多可输入20个字符","show-word-limit":""},model:{value:a.classname,callback:function(e){t.$set(a,"classname",e)},expression:"row.classname"}})]:i("span",[t._v(t._s(a.classname))])]}}])}),i("el-table-column",{attrs:{label:"上级分类",align:"left","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[a.edit&&!a.parentName?[i("el-input",{staticClass:"edit-input",attrs:{readonly:"",placeholder:"系统自动带出"}})]:i("span",[t._v(t._s(a.parentName||"/"))])]}}])}),i("el-table-column",{attrs:{label:"创建人",prop:"creatorName",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[a.edit&&!a.creatorName?[i("el-input",{staticClass:"edit-input",attrs:{readonly:"",placeholder:"系统自动带出"}})]:i("span",[t._v(t._s(a.creatorName))])]}}])}),i("el-table-column",{directives:[{name:"permission",rawName:"v-permission:operation",arg:"operation"}],attrs:{label:"操作",align:"center",width:"300px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-link",{directives:[{name:"show",rawName:"v-show",value:a.edit,expression:"row.edit"}],staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},nativeOn:{click:function(e){return t.confirmEdit(a)}}},[t._v(" 保存 ")]),i("el-link",{directives:[{name:"show",rawName:"v-show",value:!a.edit&&"0"==a.parentid,expression:"!row.edit && row.parentid=='0'"},{name:"permission",rawName:"v-permission:operation",arg:"operation"}],staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},nativeOn:{click:function(e){return t.addChildNode(a)}}},[t._v(" +二级分类 ")]),i("el-link",{directives:[{name:"permission",rawName:"v-permission:operation",arg:"operation"}],staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},nativeOn:{click:function(e){return t.isEdit(a)}}},[t._v(" "+t._s(a.edit?"取消":"编辑")+" ")]),i("el-link",{directives:[{name:"permission",rawName:"v-permission:operation",arg:"operation"}],staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},nativeOn:{click:function(e){return t.handleDelete(a)}}},[t._v("删除")])]}}])})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)],1)])},s=[],r=i("555e"),n=i("6724"),o=i("333d"),l=i("60b8"),c=(i("31a6").Base64,{components:{Pagination:o["a"]},directives:{waves:n["a"]},mixins:[l["a"]],props:["courseid"],data:function(){return{courseList:[],tableKey:0,list:[],topClassList:[],secondClassList:[],total:0,value:!0,listLoading:!0,listQuery:{pageIndex:0,currentPage:1,pageSize:10,isleaf:""},classid:"",classid2:""}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,this.listQuery.nameLevel=this.listQuery.isleaf,this.listQuery.isleaf||(this.listQuery.name=""),Object(r["m"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1,t.list&&t.list.length&&(t.topClassList=t.list.filter((function(t){return 0==t.isleaf})))}))},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["b"])(t.id).then((function(t){0==t.code?(e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.getList()):e.$message.error(t.msg)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleCreate:function(){this.list.push({classname:"",edit:!0,parentid:"0"})},resetQuery:function(){this.listQuery={isleaf:"",name:"",nameLevel:"",pageIndex:0,currentPage:1,pageSize:10}},addChildNode:function(t){this.list.push({classname:"",edit:!0,parentid:t.id,parentName:t.classname})},isEdit:function(t){t.edit?t.id?this.$set(t,"edit",!t.edit):this.list.splice(this.list.length-1,1):this.$set(t,"edit",!t.edit)},confirmEdit:function(t){var e=this;t.classname?(t.edit=!1,Object(r["g"])(t).then((function(t){e.$message.success("提交成功"),e.getList()}))):this.$message.error("请填写名称")},chooseClass:function(t){this.classid2="",this.listQuery.name="",this.list&&this.list.length&&this.list&&this.list.length&&(this.secondClassList=this.list.filter((function(e){return e.parentid==t})))},forceUpdate:function(){this.$forceUpdate()}}}),u=c,d=(i("880b"),i("9ca4")),p=Object(d["a"])(u,a,s,!1,null,"6d9420d8",null);e["default"]=p.exports},4854:function(t,e,i){"use strict";var a=i("af52"),s=i.n(a);s.a},4959:function(t,e,i){"use strict";var a=i("f50c"),s=i.n(a);s.a},"497d":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.formLoading,expression:"formLoading"}],staticStyle:{height:"100%"}},[i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"operate-panel"},[i("div",{staticClass:"operate-panel_left"},[i("el-form",{ref:"form",attrs:{"label-width":"78px"}},[i("el-form-item",{staticStyle:{"marign-top":"4px"},attrs:{label:"课程类型",required:""}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"bottom-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v(" 私有课程：上传后可指定所在的多个组织架构以及以下，或者指定组织内可看;"),i("br"),t._v(" 半公开课程：上传后可指定所在的多个公司组织根节点以及多个公司;"),i("br"),t._v(" 公开课程：全平台可看 ")]),i("span",{staticClass:"el-icon-question"})]),i("el-radio-group",{attrs:{required:""},model:{value:t.typeCopy,callback:function(e){t.typeCopy=e},expression:"typeCopy"}},[i("el-radio",{attrs:{label:1,disabled:null!==t.type}},[t._v("私有课程")]),i("el-radio",{attrs:{label:2,disabled:null!==t.type}},[t._v("半公开课程")]),i("el-radio",{attrs:{label:3,disabled:null!==t.type}},[t._v("公开课程")])],1),3!==t.typeCopy?i("el-input",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"学员姓名"},model:{value:t.listQuery.organizationName,callback:function(e){t.$set(t.listQuery,"organizationName",e)},expression:"listQuery.organizationName"}}):t._e(),3!==t.typeCopy?i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]):t._e(),3!==t.typeCopy?i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")]):t._e()],1)],1)],1),i("div",{staticClass:"operate-panel_right",staticStyle:{"margin-top":"-23px"}},[3!==t.typeCopy?i("el-button",{attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("新增学员")]):t._e(),3!==t.typeCopy?i("el-button",{attrs:{type:"primary"},on:{click:t.handleImport}},[t._v("导入学员")]):t._e()],1)]),1==t.typeCopy||2==t.typeCopy?i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%",height:"calc(100% - 128px)"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"","default-sort":{prop:"id",order:"descending"}}},[i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}],null,!1,1937816306)}),i("el-table-column",{attrs:{label:"学员姓名",prop:"organizationName",align:"left","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"组织架构",prop:"depName",align:"left"}}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"120px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDelete(a)}}},[t._v("删除")])]}}],null,!1,715777425)})],1):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0&&3!==t.typeCopy,expression:"total > 0 && typeCopy !== 3"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)],1),t.dialogFormVisible?i("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,width:"70%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("div",{staticStyle:{height:"600px","overflow-y":"auto","overflow-x":"hidden"}},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{span:12}},[i("el-input",{directives:[{name:"show",rawName:"v-show",value:2==t.typeCopy,expression:"typeCopy == 2"}],staticClass:"filter-item",staticStyle:{width:"240px","margin-right":"5px"},attrs:{placeholder:"公司名称"},model:{value:t.companyQuery.companyName,callback:function(e){t.$set(t.companyQuery,"companyName",e)},expression:"companyQuery.companyName"}}),i("el-button",{directives:[{name:"show",rawName:"v-show",value:2==t.typeCopy,expression:"typeCopy == 2"},{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handFilter}},[t._v("查询")]),2==t.typeCopy?i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.treeLoading1,expression:"treeLoading1"}],key:t.treeKey,ref:"tree",staticStyle:{"margin-top":"15px"},attrs:{props:t.props,data:t.companyList,"highlight-current":"","show-checkbox":"","node-key":"id"},on:{"check-change":t.handleNodeChange}}):t._e(),i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.total1>0&&2==t.typeCopy,expression:"total1 > 0 && typeCopy == 2"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total1,page:t.companyQuery.currentPage,limit:t.companyQuery.pageSize},on:{"update:page":function(e){return t.$set(t.companyQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.companyQuery,"pageSize",e)},pagination:t.getCompany}})],1)]),1==t.typeCopy?i("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.treeLoading,expression:"treeLoading"}],ref:"tree1",attrs:{data:t.orgTree,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"",props:t.defaultProps},on:{check:t.handleNodeCheck}}):t._e()],1),i("el-col",{attrs:{span:12}},[i("el-table",{ref:"personTab",staticStyle:{width:"100%"},attrs:{data:t.personList,"row-key":t.getRowKey},on:{"current-change":t.handleCurrentChange,"selection-change":t.handleSelectionChange,select:t.triggerSelect,"select-all":t.triggerAllSelect}},[i("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":!0}}),i("el-table-column",{attrs:{label:"姓名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}],null,!1,1895023226)}),i("el-table-column",{attrs:{prop:"phone",label:"电话"}}),2!==t.typeCopy?i("el-table-column",{attrs:{prop:"jobCode",label:"工号"}}):t._e(),2!==t.typeCopy?i("el-table-column",{attrs:{prop:"email",label:"邮箱","show-overflow-tooltip":""}}):t._e()],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total2,expression:"total2"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total2,page:t.personQuery.currentPage,limit:t.personQuery.pageSize},on:{"update:page":function(e){return t.$set(t.personQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.personQuery,"pageSize",e)},pagination:function(e){return t.getPerson(t.selectObj)}}})],1),i("div",{staticStyle:{"margin-top":"20px"}},[t._v(" 已选学员： "),i("ul",t._l(t.selectList,(function(e,a){return i("li",{key:a,staticClass:"item"},[i("span",{staticClass:"name"},[t._v(t._s(e.name))]),i("span",{staticClass:"el-icon-circle-close del",on:{click:function(i){return t.deleteItem(t.selectList,e)}}})])})),0)])],1)],1)],1),i("div",{staticClass:"dialog-footer text-right",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary",disabled:t.loading},on:{click:function(e){return t.updateData()}}},[t._v("确认")])],1)]):t._e(),t.dialogImportFormVisible?i("el-dialog",{attrs:{title:"导入学员",visible:t.dialogImportFormVisible,width:"40%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogImportFormVisible=e}}},[i("el-form",{ref:"newForm",attrs:{model:t.newForm,"label-width":"120px",rules:t.rules}},[i("el-form-item",{attrs:{label:"关联课程",prop:"courseid"}},[i("el-select",{attrs:{placeholder:"请选择-关联课程",filterable:"","value-key":"id"},model:{value:t.newForm.courseid,callback:function(e){t.$set(t.newForm,"courseid",e)},expression:"newForm.courseid"}},t._l(t.courseList,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.coursename}})})),1)],1)],1),i("div",{staticClass:"dialog-footer text-right",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogImportFormVisible=!1}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary",disabled:t.loadingStu},on:{click:t.importStu}},[t._v("确认")])],1)],1):t._e(),i("el-button",{staticStyle:{"margin-top":"15px"},attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v("保存")])],1)},s=[],r=(i("c0c3"),i("e697"),i("ed63"),i("8cf2"),i("e204"),i("6d57"),i("f548"),i("6724")),n=i("555e"),o=i("333d"),l=i("60b8"),c={components:{Pagination:o["a"]},directives:{waves:r["a"]},filters:{filterRelationtype:function(t){switch(t){case 1:return"企业";case 2:return"部门";case 3:return"员工";case 4:return"群组"}},mobileFilter:function(t){var e=/^(.{3}).*(.{4})$/;return t.replace(e,"$1****$2")}},mixins:[l["a"]],props:["courseid","type"],data:function(){return{tableKey:0,list:[],courseList:[],total:0,total1:0,total2:0,listLoading:!0,loading:!1,typeCopy:3,strictly:!1,selectList:[],personList:[],selectObj:{},props:{label:"deptName",children:"nodes"},defaultProps:{label:"deptName",children:"nodes"},listQuery:{pageIndex:0,currentPage:1,pageSize:10,organizationName:""},newForm:{courseid:null},loadingStu:!1,formLoading:!1,dialogImportFormVisible:!1,companyQuery:{pageIndex:0,currentPage:1,pageSize:20},personQuery:{pageIndex:0,currentPage:1,pageSize:20},treeKey:"1",dialogFormVisible:!1,form:{},dialogStatus:"",orgTree:[],companyList:[],textMap:{update:"更新",create:"新增"},treeLoading:!1,treeLoading1:!1,rules:{courseid:[{required:!0,message:"请选择课程",trigger:"blur,change"}]}}},created:function(){this.getList(),this.typeCopy=this.type||3},methods:{getRowKey:function(t){return t.id},getCourse:function(){var t=this;Object(n["o"])({pageIndex:0,currentPage:1,pageSize:1e7,type:this.typeCopy}).then((function(e){t.courseList=e.data.data||[]}))},resetQuery:function(){this.listQuery={organizationName:"",pageIndex:0,currentPage:1,pageSize:10,courseid:this.courseid,courseType:this.typeCopy}},search:function(){this.listQuery.currentPage=1,this.getList()},getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,this.listQuery.courseid=this.courseid,this.listQuery.courseType=this.typeCopy,Object(n["l"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1}))},handFilter:function(){this.companyQuery.currentPage=1,this.companyQuery.pageSize=10,this.companyQuery.pageIndex=0,this.getCompany()},getCompany:function(){var t=this;this.companyQuery.pageIndex=this.companyQuery.currentPage-1,Object(n["q"])(this.companyQuery).then((function(e){t.treeLoading1=!1,t.companyList=e.data.data,t.total1=e.data.totalCount;var i=[],a="";t.selectList&&t.selectList.length&&(i=t.selectList.reduce((function(t,e){return t.push(e.id),t}),[])),i&&(a=i.join(",")),t.companyList&&t.companyList.length&&t.companyList.forEach((function(t){t.deptName=t.companyName})),t.treeKey=+new Date,t.$nextTick((function(){t.companyList&&t.companyList.length&&t.companyList.forEach((function(e){e.deptName=e.companyName,a&&-1!==a.indexOf(e.id)&&t.$refs.tree.setChecked(e.id,!0,!1)}))}))}))},getPerson:function(t){var e=this;this.personQuery.pageIndex=this.personQuery.currentPage-1,t.entryDeptId?this.personQuery.entryDeptId=t.entryDeptId:t.companyId&&(this.personQuery.companyId=t.companyId),Object(n["r"])(this.personQuery).then((function(t){e.personList=t.data.data,e.total2=t.data.totalCount,e.personList&&e.personList.length&&e.personList.forEach((function(t){t.relationtype=3}));var i=e.selectList.reduce((function(t,e){return t.push(e.id),t}),[]).join(",");e.personList.forEach((function(t){-1==i.indexOf(t.id)&&e.selectList.push(t)})),e.setSelection()}))},getAllLeaf:function(t){var e=[];function i(t){t.length&&t.forEach((function(t){e.push(t),t.nodes&&i(t.nodes)}))}return i(t),e},handleNodeCheck:function(t,e){this.personQuery={pageIndex:0,currentPage:1,pageSize:20},t.setChecked=!t.setChecked,t.companyName?this.selectObj={companyId:t.id}:this.selectObj={entryDeptId:t.id},this.getPerson(this.selectObj)},handleNodeChange:function(t,e,i){this.personQuery={pageIndex:0,currentPage:1,pageSize:20},t.setChecked=!t.setChecked,t.companyName?this.selectObj={companyId:t.id}:this.selectObj={entryDeptId:t.id},this.getPerson(this.selectObj)},loadNode:function(t,e){0===t.level&&e(this.companyList),t.level>=1&&this.getIndex(t,e)},getIndex:function(t,e){1==t.level&&Object(n["v"])({companyId:t.data.id}).then((function(i){i.data.length&&(t.data.nodes=i.data),e(i.data)})),t.level>1&&t.data.nodes?e(t.data.nodes):e([])},resetTemp:function(){this.selectList=[],this.personList=[]},handleCreate:function(){var t=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,1==this.typeCopy?(this.treeLoading=!0,Object(n["x"])().then((function(e){t.orgTree=[{companyName:e.data.companyName,id:e.data.id,deptName:e.data.companyName,nodes:e.data.deptList||[]}],t.treeLoading=!1}))):2==this.typeCopy&&(this.treeLoading1=!0,this.getCompany())},handleImport:function(){this.getCourse(),this.newForm={},this.dialogImportFormVisible=!0,this.loadingStu=!1},deleteItem:function(t,e){var i=t.findIndex((function(t){return t.id==e.id}));t.splice(i,1),this.setSelection(),2==this.typeCopy?this.$refs.tree.setChecked(e.id,!1,!1):this.$refs.tree1.setChecked(e.id,!1,!1)},setSelection:function(){var t=this;this.$nextTick((function(){var e=t.selectList.map((function(t){return t.id}));t.personList.forEach((function(i){-1!==e.indexOf(i.id)?t.$refs.personTab.toggleRowSelection(i,!0):t.$refs.personTab.toggleRowSelection(i,!1)}))}))},triggerAllSelect:function(t){if(t.length)this.handleSelectionChange(t);else{var e=this.personList.map((function(t){return t.id}));this.selectList=this.selectList.filter((function(t){return!e.includes(t.id)}))}},triggerSelect:function(t,e){t.find((function(t){return t.id===e.id}))||(this.selectList=this.selectList.filter((function(t){return t.id!==e.id})),this.setSelection())},handleSelectionChange:function(t){var e=this.selectList.map((function(t){return t.id})),i=t.filter((function(t){return!e.includes(t.id)}));this.selectList=this.selectList.concat(i)},handleCurrentChange:function(t){this.selected=t},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["e"])(t.id).then((function(t){e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.getList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},updateData:function(){this.loading=!0,this.dialogFormVisible=!1,this.save(!0)},save:function(t){var e=this,i=[];if(t&&this.selectList.length&&this.selectList.forEach((function(t){i.push({relationid:t.id,relationtype:t.relationtype})})),this.type&&this.type!==this.typeCopy)this.$message.error("类型不允许修改！");else{var a={courseId:this.courseid,trainees:i,courseType:this.typeCopy};this.formLoading=!0,Object(n["j"])(a).then((function(t){0==t.code?(e.$message.success("提交成功"),e.search(),e.loading=!1,e.$emit("changeType",e.typeCopy)):e.$message.error(t.msg),e.formLoading=!1}))}},importStu:function(){var t=this;this.$refs["newForm"].validate((function(e){if(!e)return!1;t.loadingStu=!0,t.dialogImportFormVisible=!1;var i={newCourseId:t.courseid,oldCourseId:t.newForm.courseid,type:t.typeCopy||t.type};Object(n["y"])(i).then((function(e){0==e.code?(t.$message.success("导入成功"),t.search(),t.$emit("changeType",t.typeCopy)):t.$message.error(e.msg),t.loadingStu=!1}))}))}}},u=c,d=(i("9c89"),i("9ca4")),p=Object(d["a"])(u,a,s,!1,null,"7491f72a",null);e["default"]=p.exports},"4b3b":function(t,e,i){var a={"./error-page/401":"24e2","./error-page/401.vue":"24e2","./error-page/404":"1db4","./error-page/404.vue":"1db4","./mooc/answer/detail":"5795","./mooc/answer/detail.vue":"5795","./mooc/answer/list":"164e","./mooc/answer/list.vue":"164e","./mooc/bannerMange":"970f","./mooc/bannerMange/":"970f","./mooc/bannerMange/index":"970f","./mooc/bannerMange/index.vue":"970f","./mooc/components/showTicket":"de68","./mooc/components/showTicket.vue":"de68","./mooc/components/subjectItem":"8129","./mooc/components/subjectItem.vue":"8129","./mooc/components/tree":"89c6","./mooc/components/tree.vue":"89c6","./mooc/course/components/chapter":"1792","./mooc/course/components/chapter.vue":"1792","./mooc/course/components/classify":"4765","./mooc/course/components/classify.vue":"4765","./mooc/course/components/lecturer":"0ad8","./mooc/course/components/lecturer.vue":"0ad8","./mooc/course/components/list":"60bc","./mooc/course/components/list.vue":"60bc","./mooc/course/components/material":"e452","./mooc/course/components/material.vue":"e452","./mooc/course/components/student":"497d","./mooc/course/components/student.vue":"497d","./mooc/course/courseManage":"2e3f","./mooc/course/courseManage.vue":"2e3f","./mooc/course/coursePage":"75b5","./mooc/course/coursePage.vue":"75b5","./mooc/course/creatCourse":"d664","./mooc/course/creatCourse.vue":"d664","./mooc/course/newAddCourse":"94e5","./mooc/course/newAddCourse/":"94e5","./mooc/course/newAddCourse/index":"94e5","./mooc/course/newAddCourse/index.vue":"94e5","./mooc/exam/addExam":"1166","./mooc/exam/addExam.vue":"1166","./mooc/exam/list":"a20f","./mooc/exam/list.vue":"a20f","./mooc/exam/manage":"9c3c","./mooc/exam/manage.vue":"9c3c","./mooc/exam/project":"859c","./mooc/exam/project.vue":"859c","./mooc/exam/setStudent":"1ebc","./mooc/exam/setStudent.vue":"1ebc","./mooc/exam/uploadform":"5b26","./mooc/exam/uploadform.vue":"5b26","./mooc/moocTeacher":"932b","./mooc/moocTeacher/":"932b","./mooc/moocTeacher/crop":"0aff","./mooc/moocTeacher/crop.vue":"0aff","./mooc/moocTeacher/index":"932b","./mooc/moocTeacher/index.vue":"932b","./mooc/paper":"1c1d","./mooc/paper/":"1c1d","./mooc/paper/addPape":"57c3","./mooc/paper/addPape.vue":"57c3","./mooc/paper/addSubform":"a774","./mooc/paper/addSubform.vue":"a774","./mooc/paper/detail":"b109","./mooc/paper/detail.vue":"b109","./mooc/paper/index":"1c1d","./mooc/paper/index.vue":"1c1d","./mooc/showTicket":"5209","./mooc/showTicket.vue":"5209","./mooc/student/list":"53b4","./mooc/student/list.vue":"53b4","./mooc/subjectManage":"91a5","./mooc/subjectManage/":"91a5","./mooc/subjectManage/index":"91a5","./mooc/subjectManage/index.vue":"91a5","./mooc/subjectManage/showloadform":"6df0","./mooc/subjectManage/showloadform.vue":"6df0","./mooc/subjectManage/uploadform":"117b","./mooc/subjectManage/uploadform.vue":"117b","./mooc/test/addTest":"7902","./mooc/test/addTest.vue":"7902","./mooc/test/list":"e272","./mooc/test/list.vue":"e272","./mooc/test/manage":"6ba7","./mooc/test/manage.vue":"6ba7","./mooc/test/project":"3e30","./mooc/test/project.vue":"3e30","./mooc/test/setStudent":"1def","./mooc/test/setStudent.vue":"1def","./mooc/test/uploadform":"fe8d","./mooc/test/uploadform.vue":"fe8d","./mooc/util":"6d93","./mooc/util.js":"6d93","./redirect":"ef3c","./redirect/":"ef3c","./redirect/index":"ef3c","./redirect/index.vue":"ef3c","./register":"d5c2","./register/":"d5c2","./register/components/SocialSignin":"2217","./register/components/SocialSignin.vue":"2217","./register/forget-password":"51dc","./register/forget-password/":"51dc","./register/forget-password/index":"51dc","./register/forget-password/index.vue":"51dc","./register/index":"d5c2","./register/index.vue":"d5c2"};function s(t){var e=r(t);return i(e)}function r(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=r,t.exports=s,s.id="4b3b"},"4c08":function(t,e,i){"use strict";var a=i("a79a"),s=i.n(a);s.a},"4d1d":function(t,e,i){"use strict";var a=i("3523"),s=i.n(a);s.a},"4d9e":function(t,e,i){},5:function(t,e){},"51dc":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"register-container"},[i("div",{staticClass:"register_bg"}),i("div",{staticClass:"register_form"},[i("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:t.registerForm,rules:t.registerRules,autocomplete:"on","label-position":"left"}},[i("div",{staticClass:"title-container"},[i("h1",[t._v("忘记密码")])]),i("div",{staticClass:"register_form_content"},[i("div",[i("el-form-item",{attrs:{prop:"username"}},[i("span",{staticStyle:{color:"red"}},[t._v("* ")]),i("el-input",{ref:"username",staticStyle:{width:"98%"},attrs:{size:"large",placeholder:"输入用户名"},model:{value:t.registerForm.username,callback:function(e){t.$set(t.registerForm,"username",e)},expression:"registerForm.username"}},[i("template",{slot:"prepend"},[i("i",{staticClass:"el-icon-user",staticStyle:{fontSize:"20px"}})])],2)],1),i("el-form-item",[i("span",{staticStyle:{color:"red"}},[t._v("* ")]),i("el-input",{staticStyle:{width:"72%"},attrs:{size:"large",placeholder:"短信验证码"},model:{value:t.registerForm.code,callback:function(e){t.$set(t.registerForm,"code",e)},expression:"registerForm.code"}},[i("template",{slot:"prepend"},[i("i",{staticClass:"el-icon-folder-checked",staticStyle:{fontSize:"20px"}})])],2),t.showCode?i("button",{staticClass:"button_regCode",staticStyle:{width:"25%"},on:{click:function(e){return e.preventDefault(),t.getCode(e)}}},[t._v("获取验证码")]):t._e(),t.showCode?t._e():i("button",{staticClass:"button_regCode",staticStyle:{width:"25%"},attrs:{disabled:""}},[t._v(t._s(t.count)+"s")])],1),i("el-tooltip",{attrs:{placement:"right",manual:""},model:{value:t.capsTooltip,callback:function(e){t.capsTooltip=e},expression:"capsTooltip"}},[i("el-form-item",{attrs:{prop:"password"}},[i("span",{staticStyle:{color:"red"}},[t._v("* ")]),i("el-input",{key:t.passwordType,ref:"password",staticStyle:{width:"72%"},attrs:{size:"large",placeholder:"输入密码",maxlength:"16",minlength:"6",type:t.passwordType,"show-password":""},on:{blur:function(e){t.capsTooltip=!1}},nativeOn:{keyup:function(e){return t.checkCapslock(e)}},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password",e)},expression:"registerForm.password"}},[i("template",{slot:"prepend"},[t._v("设置密码")])],2),1==t.pwdLv?i("span",{staticClass:"codeIntensity_1"},[t._v("弱")]):t._e(),2==t.pwdLv?i("span",{staticClass:"codeIntensity_2"},[t._v("中")]):t._e(),3==t.pwdLv?i("span",{staticClass:"codeIntensity_3"},[t._v("强")]):t._e()],1)],1),i("el-form-item",{attrs:{prop:"confirmPassword"}},[i("span",{staticStyle:{color:"red"}},[t._v("* ")]),i("el-input",{key:t.passwordType,staticStyle:{width:"72%"},attrs:{size:"large",placeholder:"确认密码",type:t.passwordType,"show-password":""},on:{blur:function(e){t.capsTooltip=!1}},nativeOn:{keyup:function(e){return t.checkCapslock(e)}},model:{value:t.registerForm.confirmPassword,callback:function(e){t.$set(t.registerForm,"confirmPassword",e)},expression:"registerForm.confirmPassword"}},[i("template",{slot:"prepend"},[t._v("确认密码")])],2)],1),i("button",{staticClass:"button_regCode_register",staticStyle:{width:"100%","margin-bottom":"30px"},on:{click:function(e){return e.preventDefault(),t.save(e)}}},[t._v("确定")]),i("span",{staticClass:"hasIdToLogin"},[i("router-link",{attrs:{to:"/login"}},[t._v("已有账号，现在登陆")])],1)],1)])])],1)])},s=[],r=(i("9e76"),i("e0a5")),n={name:"ForgetPassword",inject:["reload"],data:function(){return{registerForm:{username:"",password:"",code:"",confirmPassword:""},registerRules:{username:{required:!0,trigger:"change",message:"用户名不能为空"},password:{required:!0,trigger:"change",message:"密码不能为空"},confirmPassword:{required:!0,trigger:"change",message:"密码不能为空"}},passwordType:"password",capsTooltip:!1,loading:!1,checked:!1,active:1,showCode:!0,count:"",timer:null,pwdLv:0}},mounted:function(){""===this.registerForm.username?this.$refs.username.focus():""===this.registerForm.password&&(this.$refs.password.focus(),this.reload())},methods:{checkCapslock:function(){this.pwdLv=0,this.registerForm.password.match(/[a-z]/g)&&this.pwdLv++,this.registerForm.password.match(/[0-9]/g)&&this.pwdLv++,this.registerForm.password.match(/[A-Z]/g)&&this.pwdLv++,this.registerForm.password.length<6&&(this.pwdLv=0),this.pwdLv>3&&(this.pwdLv=3)},registerDone:function(){var t=this;this.registerForm.username?this.registerForm.code?this.registerForm.password&&this.registerForm.confirmPassword?this.registerForm.password===this.registerForm.confirmPassword?this.$nextTick((function(){var e={username:t.registerForm.username,password:t.registerForm.password,verifyCode:t.registerForm.code,passwordTwo:t.registerForm.confirmPassword};Object(r["a"])(e).then((function(e){0==e.code?(t.$message.success("密码修改成功！"),t.$router.push({path:"/index"})):t.$message.error(msg)}))})):this.$message.error("密码输入不一致,请重新输入"):this.$message.error("请确认密码"):this.$message.error("请输入验证码"):this.$message.error("请输入用户名")},getCode:function(){var t=this,e=60;this.registerForm.username?Object(r["d"])({username:this.registerForm.username}).then((function(i){0==i.code?(t.count=e,t.showCode=!1,t.timer=setInterval((function(){t.count>1&&t.count<=e?t.count--:(t.showCode=!0,clearInterval(t.timer),t.timer=null)}),1e3),t.$message({message:"短信发送成功，请注意查收！",type:"success"})):t.$message.error(i.msg)})):this.$message.error("请输入手机号")},save:function(){var t=this;this.$refs.registerForm.validate((function(e){if(!e)return!1;t.registerDone()}))}}},o=n,l=(i("882b"),i("9ca4")),c=Object(l["a"])(o,a,s,!1,null,"1d581886",null);e["default"]=c.exports},5209:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Show-ticket",{attrs:{showPrint:t.flag,data:t.stuObj}})],1)},s=[],r=(i("9e76"),i("de68")),n=i("f60c"),o={components:{ShowTicket:r["default"]},name:"showTicket",data:function(){return{flag:!1,stuObj:{}}},methods:{isMobile:function(){var t=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return t},getData:function(t){var e=this;Object(n["g"])(t).then((function(t){e.stuObj=t.data}))}},mounted:function(){this.isMobile()?this.flag=!1:this.flag=!0,this.getData(this.$route.query.id)},activated:function(){this.isMobile()?this.flag=!1:this.flag=!0,this.getData(this.$route.query.id)}},l=o,c=(i("45c5"),i("9ca4")),u=Object(c["a"])(l,a,s,!1,null,"88df4ed0",null);e["default"]=u.exports},"524d":function(t,e,i){},"53b4":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("div",{staticClass:"operate-panel"},[a("div",{staticClass:"operate-panel_left"},[a("el-input",{staticClass:"filter-item",attrs:{placeholder:"姓名"},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}}),a("el-input",{staticClass:"filter-item",attrs:{placeholder:"账号"},model:{value:t.listQuery.idcard,callback:function(e){t.$set(t.listQuery,"idcard",e)},expression:"listQuery.idcard"}}),a("el-input",{staticClass:"filter-item",attrs:{placeholder:"手机号"},model:{value:t.listQuery.phone,callback:function(e){t.$set(t.listQuery,"phone",e)},expression:"listQuery.phone"}}),a("el-date-picker",{staticStyle:{"margin-right":"5px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至",clearable:!1,"start-placeholder":"创建开始日期","end-placeholder":"创建结束日期"},on:{blur:function(e){return t.$forceUpdate()}},model:{value:t.dateObj,callback:function(e){t.dateObj=e},expression:"dateObj"}}),a("el-select",{staticClass:"filter-item",staticStyle:{"margin-right":"5px"},attrs:{placeholder:"请选择-考试科目",filterable:"","value-key":"id"},on:{change:function(e){return t.chooseProject(t.listQuery.projectid)}},model:{value:t.listQuery.projectid,callback:function(e){t.$set(t.listQuery,"projectid",e)},expression:"listQuery.projectid"}},t._l(t.projectList,(function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1),a("el-select",{staticClass:"filter-item",staticStyle:{"margin-right":"5px"},attrs:{"value-key":"examineName",placeholder:"请选择-考试名称"},on:{change:function(e){return t.chooseExam(t.examObj)}},model:{value:t.examObj,callback:function(e){t.examObj=e},expression:"examObj"}},t._l(t.eduList,(function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t.examineName}})})),1),a("el-select",{staticClass:"filter-item",staticStyle:{"margin-right":"5px"},attrs:{placeholder:"请选择-报考批次","value-key":"id"},on:{change:function(e){return t.chooseBatch(t.testbatchObj)}},model:{value:t.testbatchObj,callback:function(e){t.testbatchObj=e},expression:"testbatchObj"}},t._l(t.batchList,(function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t.showName}})})),1),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],1)]),a("div",{staticClass:"operate-panel_right",staticStyle:{"margin-bottom":"5px"}},[a("el-button",{staticClass:"pull-right",staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.downloadTicket}},[t._v("导出准考证")]),a("el-button",{staticClass:"pull-right",staticStyle:{"margin-left":"10px"},attrs:{disabled:!t.ids,type:"primary"},on:{click:t.sendMsg}},[t._v("发送准考证链接")]),a("el-button",{staticClass:"pull-right",attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("新增")])],1),a("div",{staticClass:"panel-body"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"",height:"100%","default-sort":{prop:"id",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"姓名",prop:"name",align:"left","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"证件照",prop:"image","min-width":"80px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[s.image?a("el-image",{staticStyle:{width:"33px",height:"51px"},attrs:{src:t.processImgUrl(s.image),"preview-src-list":s.image.split(","),fit:"contain"}}):t._e(),s.image?t._e():a("img",{staticStyle:{width:"33px",height:"51px"},attrs:{src:i("3a29"),alt:""}})]}}])}),a("el-table-column",{attrs:{label:"账号",prop:"idcard",align:"left",width:"190px"}}),a("el-table-column",{attrs:{label:"手机号",prop:"phone",align:"left",width:"120px"}}),a("el-table-column",{attrs:{label:"考号",prop:"code",align:"left",width:"220px"}}),a("el-table-column",{attrs:{label:"创建时间",prop:"createtime",align:"left",width:"180px"}}),a("el-table-column",{attrs:{label:"报考科目",prop:"project",align:"left",width:"120px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"考试名称",prop:"examine",align:"left",width:"120px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"报考批次",prop:"testbatch",align:"left",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(i.year)+"年第"+t._s(i.testbatch)+"批次 ")]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.pre(i)}}},[t._v("预览准考证")]),a("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleUpdate(i)}}},[t._v("编辑")]),a("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDelete(i)}}},[t._v("删除")])]}}])})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[a("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)]),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,width:"50%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[t.readOnlyStu?a("div",{staticStyle:{"margin-top":"-10px","margin-bottom":"10px",color:"red"}},[t._v("考试开始时间前30分钟不可修改学员信息")]):t._e(),a("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"手动导入",name:"manual"}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"150px",rules:t.rules}},[a("el-form-item",{attrs:{label:"账号/身份证号",prop:"idcard"}},[a("el-input",{attrs:{readonly:t.readOnlyStu,disabled:t.readOnlyStu},model:{value:t.form.idcard,callback:function(e){t.$set(t.form,"idcard",e)},expression:"form.idcard"}})],1),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{readonly:t.readOnlyStu,disabled:t.readOnlyStu},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"考号",prop:"code"}},[a("el-input",{attrs:{readonly:"",disabled:t.readOnlyStu,placeholder:"系统自动生成"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{readonly:t.readOnlyStu,disabled:t.readOnlyStu},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"报考科目",prop:"projectObj"}},[a("el-select",{attrs:{placeholder:"请选择-报考科目",filterable:"","value-key":"id",disabled:t.readOnlyStu},on:{change:function(e){return t.chooseProject(t.form.projectObj,!0)}},model:{value:t.form.projectObj,callback:function(e){t.$set(t.form,"projectObj",e)},expression:"form.projectObj"}},t._l(t.projectList,(function(t){return a("el-option",{key:t.id,attrs:{value:t,label:t.name}})})),1)],1),a("el-form-item",{attrs:{label:"考试名称",prop:"examObj"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择-考试名称","value-key":"examineName",disabled:t.readOnlyStu},on:{change:function(e){return t.chooseExam(t.form.examObj,!0)}},model:{value:t.form.examObj,callback:function(e){t.$set(t.form,"examObj",e)},expression:"form.examObj"}},t._l(t.eduListCopy,(function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t.examineName}})})),1)],1),a("el-form-item",{attrs:{label:"报考地区",prop:"region"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择-省",filterable:"","value-key":"id",disabled:t.readOnlyStu},on:{change:function(e){return t.findCity(t.form.province)}},model:{value:t.form.province,callback:function(e){t.$set(t.form,"province",e)},expression:"form.province"}},t._l(t.provinceList,(function(t){return a("el-option",{key:t.id,attrs:{value:t,label:t.name}})})),1),a("span",{staticStyle:{margin:"0 10px"}},[t._v("省")]),a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择-市",filterable:"","value-key":"id",disabled:t.readOnlyStu},on:{change:function(e){return t.findRegion(t.form.city)}},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}},t._l(t.cityList,(function(t){return a("el-option",{key:t.id,attrs:{value:t,label:t.name}})})),1),a("span",{staticStyle:{margin:"0 10px"}},[t._v("市")]),a("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择-区/县",filterable:"","value-key":"id",disabled:t.readOnlyStu},on:{change:function(e){return t.changeRegion(t.form.region)}},model:{value:t.form.region,callback:function(e){t.$set(t.form,"region",e)},expression:"form.region"}},t._l(t.regionList,(function(t){return a("el-option",{key:t.id,attrs:{value:t,label:t.name}})})),1),a("span",{staticStyle:{margin:"0 10px"}},[t._v("区/县")])],1),a("el-form-item",{attrs:{label:"报考批次",prop:"testbatchObj"}},[a("el-select",{attrs:{placeholder:"请选择-报考批次",filterable:"","value-key":"id",disabled:t.readOnlyStu},on:{change:function(e){return t.chooseBatch(t.form.testbatchObj,!0)}},model:{value:t.form.testbatchObj,callback:function(e){t.$set(t.form,"testbatchObj",e)},expression:"form.testbatchObj"}},t._l(t.batchListCopy,(function(t,e){return a("el-option",{key:e,attrs:{value:t,label:t.showName}})})),1)],1),a("el-form-item",{attrs:{label:"学历",prop:"education"}},[a("el-select",{attrs:{placeholder:"请选择-学历",filterable:"","value-key":"id",disabled:t.readOnlyStu},model:{value:t.form.education,callback:function(e){t.$set(t.form,"education",e)},expression:"form.education"}},t._l(t.educationList,(function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1)],1),a("el-form-item",{attrs:{label:"在读学校/所在企业",prop:"unit"}},[a("el-input",{attrs:{readonly:t.readOnlyStu,disabled:t.readOnlyStu},model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}})],1),a("el-form-item",{attrs:{label:"培训机构",prop:"trainagency"}},[a("el-input",{attrs:{readonly:t.readOnlyStu,disabled:t.readOnlyStu},model:{value:t.form.trainagency,callback:function(e){t.$set(t.form,"trainagency",e)},expression:"form.trainagency"}})],1),a("el-form-item",{attrs:{label:"紧急联系人",prop:"urgentcontact"}},[a("el-input",{attrs:{readonly:t.readOnlyStu,disabled:t.readOnlyStu},model:{value:t.form.urgentcontact,callback:function(e){t.$set(t.form,"urgentcontact",e)},expression:"form.urgentcontact"}})],1),a("el-form-item",{attrs:{label:"紧急联系人电话",prop:"urgentcontactphone"}},[a("el-input",{attrs:{readonly:t.readOnlyStu,disabled:t.readOnlyStu},model:{value:t.form.urgentcontactphone,callback:function(e){t.$set(t.form,"urgentcontactphone",e)},expression:"form.urgentcontactphone"}})],1),a("el-form-item",{attrs:{label:"学员照片",prop:"image"}},[t.readOnlyStu?t._e():a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.baseUrl,"show-file-list":!1,"auto-upload":!1,"on-change":t.uploadFileMethodAnswer,"on-success":t.handleAvatarSuccess}},[t.form.image?a("img",{staticClass:"avatar",attrs:{src:t.processImgUrl(t.form.image)}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),t.form.image&&null!=t.form.image?a("i",{staticClass:"el-icon-close",staticStyle:{position:"absolute","z-index":"8",right:"10px","font-size":"16px"},on:{click:function(e){return t.removeImg(e)}}}):t._e(),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"#999595","margin-top":"0px","line-height":"17px"},attrs:{slot:"tip"},slot:"tip"},[t._v(" 请上传考生本人近期免冠正面半身照，照片要求人像清晰，轮廓分明"),a("br"),t._v(" 建议图片尺寸为413px（宽）x626px（高）"),a("br"),t._v("格式必须为jpg、jpeg、png，且不大于500KB ")])]),t.readOnlyStu&&t.form.image?a("img",{staticClass:"avatar",attrs:{src:t.processImgUrl(t.form.image)}}):t._e(),t.readOnlyStu&&!t.form.image?a("img",{staticClass:"avatar",attrs:{src:i("3a29")}}):t._e()],1)],1)],1),a("el-tab-pane",{attrs:{label:"批量导入",name:"batch"}},[a("div",{staticClass:"block"},[a("el-timeline",t._l(t.activities,(function(e,i){return a("el-timeline-item",{key:i,attrs:{icon:e.icon,type:e.type,color:e.color,size:e.size,timestamp:e.timestamp}},[t._v(" "+t._s(e.content)+" ")])})),1)],1)])],1),"manual"==t.activeName?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v(t._s(t.readOnlyStu?"关闭":"取消"))]),t.readOnlyStu?t._e():a("el-button",{attrs:{type:"primary",disabled:t.loading},on:{click:function(e){return t.updateData()}}},[t._v("确认")])],1):t._e(),"manual"!==t.activeName?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.downloadFile}},[t._v("下载模板")]),a("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{action:t.baseUrlImport,"on-success":t.importTemp,accept:".xls,.xlsx","show-file-list":!1}},[a("el-button",{attrs:{type:"primary"}},[t._v("文件导入")])],1)],1):t._e()],1),a("Crop",{ref:"dialogCropVisible",attrs:{"img-url":t.optionImg,"auto-crop-height":626,"auto-crop-width":413,"img-height":t.imgHeight,"img-width":t.imgWidth,"img-file":t.imgFile},on:{imgUrl:t.getUrl}}),a("el-dialog",{attrs:{title:"预览准考证",visible:t.dialogTicketVisible,width:"700px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogTicketVisible=e}}},[a("Show-ticket",{attrs:{"show-print":!1,data:t.stuObj}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogTicketVisible=!1}}},[t._v("关闭")])],1)],1)],1)},s=[],r=(i("cc57"),i("6d57"),i("f60c")),n=i("3922"),o=i("0c38"),l=i("6724"),c=i("333d"),u=i("60b8"),d=i("0aff"),p=i("de68"),m={components:{Pagination:c["a"],Crop:d["default"],ShowTicket:p["default"]},directives:{waves:l["a"]},mixins:[u["a"]],data:function(){return{batchList:[],batchListCopy:[],tableKey:0,list:[],total:0,value:!0,listLoading:!0,activeName:"manual",educationList:[{id:1,name:"中专及以下"},{id:2,name:"大专"},{id:3,name:"本科"},{id:4,name:"研究生(硕士)"},{id:5,name:"研究生(博士)"}],dateObj:"",readOnlyStu:!1,projectList:[],activities:[{content:"第一步",timestamp:"下载Excel考试学员批量导入模版",color:"#0bbd87"},{content:"第二步",timestamp:"使用模版整理考试学员，点击“上传Excel”完成批量导入"}],listQuery:{pageIndex:0,currentPage:1,pageSize:10,name:"",idcard:"",phone:"",projectid:null,examine:null,examineid:null,createStartTime:null,createEndTime:null},dialogTicketVisible:!1,dialogFormVisible:!1,dialogStatus:"",textMap:{update:"更新",create:"新增"},form:{projectObj:{},testbatchObj:{},examObj:{},province:{},city:{},region:{},citycode:null,education:null,examine:"",examineid:null,idcard:"",image:"",name:"",phone:"",project:"",projectid:null,provincecode:null,regioncode:null,testbatch:null,trainagency:"",unit:"",urgentcontact:"",urgentcontactphone:""},loading:!1,rules:{idcard:[{required:!0,message:"请填写账号/身份证号",trigger:"blur"},{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}$)/,message:"证件号码格式有误！",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^[1][2,3,4,5,6,7,8,9][0-9]{9}$/,message:"手机号格式有误",trigger:"blur"}],urgentcontactphone:[{pattern:/^[1][2,3,4,5,6,7,8,9][0-9]{9}$/,message:"电话格式有误",trigger:"blur"}],projectObj:[{required:!0,message:"请选择报考科目",trigger:"change,blur"}],examObj:[{required:!0,message:"请选择考试名称",trigger:"change,blur"}],region:[{required:!0,message:"请选择报考地区",trigger:"change,blur"}],testbatchObj:[{required:!0,message:"请选择考试批次",trigger:"change,blur"}],education:[{required:!0,message:"请选择学历",trigger:"change,blur"}],trainagency:[{required:!0,message:"请输入培训机构",trigger:"blur"}],image:{required:!0,message:"请上传图片",trigger:"change"}},baseUrlImport:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationstudent/exportStudent",baseUrl:"/ovu-base/uploadImg",imgWidth:0,imgHeight:0,optionImg:"",imgFile:{},examObj:{},testbatchObj:{},query:{pageIndex:0,currentPage:1,pageSize:1e3,type:2},eduList:[],eduListCopy:[],queryPro:{pageIndex:0,currentPage:1,pageSize:1e3,projectid:""},provinceList:[],cityList:[],regionList:[],stuObj:{},ids:""}},mounted:function(){this.getList(),this.getPro(),this.findProvince()},activated:function(){this.getList(),this.getPro(),this.findProvince()},methods:{resetQuery:function(){this.listQuery={pageIndex:0,currentPage:1,pageSize:10,name:"",idcard:"",phone:"",projectid:null,examine:null,examineid:null,createStartTime:null,createEndTime:null},this.dateObj="",this.examObj=null,this.eduList=[],this.batchList=[],this.testbatchObj=null},getPro:function(){var t=this;Object(o["c"])(this.query).then((function(e){t.projectList=e.data.data||[];var i={id:-1,name:"默认科目"};t.projectList.unshift(i),t.findEdu(t.listQuery.projectid)}))},getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,this.dateObj&&(this.listQuery.createStartTime=this.moment(new Date(this.dateObj[0])).format("YYYY-MM-DD HH:mm:ss"),this.listQuery.createEndTime=this.moment(new Date(this.dateObj[1])).format("YYYY-MM-DD HH:mm:ss")),Object(r["d"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1}))},findEdu:function(t,e){var i=this;Object(n["d"])({projectid:t}).then((function(t){e?i.eduListCopy=t.data||[]:i.eduList=t.data||[],i.eduList&&i.eduList.length&&i.eduList.forEach((function(t){t.testBatch&&t.testBatch.length&&t.testBatch.forEach((function(e){e.showName=e.year+"年第"+e.testBatch+"批次",e.name==i.listQuery.examine&&(i.examObj=t,i.batchList=t.testBatch,i.testbatchObj=e)}))})),i.eduListCopy&&i.eduListCopy.length&&i.eduListCopy.forEach((function(t){t.testBatch&&t.testBatch.length&&t.testBatch.forEach((function(e){e.showName=e.year+"年第"+e.testBatch+"批次",e.id==i.form.examineid&&(i.form.examObj=t,i.batchListCopy=t.testBatch,i.form.testbatchObj=e)}))})),i.$forceUpdate()}))},chooseProject:function(t,e){var i;e?(this.form.projectid=t.id,this.form.project=t.name,this.form.examObj={},i=t.id):(this.examObj={},i=t),this.findEdu(i,e),this.$forceUpdate()},chooseBatch:function(t,e){e?(this.form.examineid=t.id,this.form.testbatch=t.testBatch):(this.examineid=t.id,this.listQuery.examineid=t.id),this.$forceUpdate()},downloadFile:function(){window.location.href="/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationstudent/downLoadStudentModel"},downloadTicket:function(){if(0===this.list.length)this.$message.error("暂无数据，无法导出");else{var t="/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationstudent/batchExport",e=this.listQuery;e.url=this.downUrl+window.location.pathname+"#/showTicket",this.ids&&(e.ids=this.ids),this.openForm(t,e,"POST")}},importTemp:function(t){var e=this;if(t.success)e.$message({type:"success",message:"导入成功！"}),this.dialogFormVisible=!1,this.handleFilter();else{var i="";Array.isArray(t.error)?(i="<div>",t.error.forEach((function(t){i+='<div style="line-height: 20px;">'+t+"</div>"})),i+="</div>"):i=t.error,this.dialogFormVisible=!1,this.$message({showClose:!0,dangerouslyUseHTMLString:!0,message:i,duration:0})}},findProvince:function(){var t=this;Object(r["e"])(0).then((function(e){t.provinceList=e.data,t.provinceList.forEach((function(e){e.code==t.form.provincecode&&(t.form.province=e,t.findCity(e))}))}))},findCity:function(t){var e=this;this.form.city=null,this.form.region=null,this.form.provincecode=t.code,Object(r["e"])(t.code).then((function(t){e.cityList=t.data,e.cityList.forEach((function(t){t.code==e.form.citycode&&(e.form.city=t,e.findRegion(t))}))})),this.$forceUpdate()},findRegion:function(t){var e=this;this.form.region=null,this.form.citycode=t.code,Object(r["e"])(t.code).then((function(t){e.regionList=t.data,e.regionList.forEach((function(t){t.code==e.form.regioncode&&(e.form.region=t)}))})),this.$forceUpdate()},changeRegion:function(t){this.form.regioncode=t.code,this.$forceUpdate()},chooseExam:function(t,e){e?(this.form.examine=t.examineName,this.form.examineid=t.id,this.batchListCopy=t.testBatch):(this.listQuery.examine=t.examineName,this.examineid=t.id,this.batchList=t.testBatch),this.$forceUpdate()},resetTemp:function(){this.form={image:"",appview:1}},handleCreate:function(){var t=this;this.resetTemp(),this.activeName="manual",this.dialogStatus="create",this.readOnlyStu=!1,this.dialogFormVisible=!0,this.loading=!1,this.$nextTick((function(){t.$refs["form"].clearValidate()}))},sendMsg:function(){var t=this,e=this;this.$confirm("此操作将批量发送准考证链接, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["a"])({ids:e.ids,url:e.downUrl+window.location.pathname+"#/showTicket"}).then((function(t){0==t.code?e.$notify({title:"Success",message:"操作成功!",type:"success",duration:2e3}):e.$message.error(t.msg)}))})).catch((function(){t.$message({type:"info",message:"已取消发送"})}))},handleUpdate:function(t){var e=this;this.dialogStatus="update",this.loading=!1,this.readOnlyStu=!1;var i=this;i.dialogFormVisible=!0,i.activeName="manual",i.$nextTick((function(){i.$refs["form"].clearValidate()})),Object(r["f"])(t.id).then((function(t){if(0==t.code&&(t.data&&t.data.student&&(e.$set(e,"form",t.data.student),e.form.provincecode=e.form.provincecode-0,e.form.regioncode=e.form.regioncode-0,e.form.citycode=e.form.citycode-0,e.projectList.length&&e.projectList.forEach((function(i){i.id==t.data.student.projectid&&(e.form.projectObj=i,e.form.project=i.name,e.form.projectid=i.id,e.chooseProject(e.form.projectObj,!0))})),e.form.provincecode&&e.provinceList.forEach((function(t){t.code==e.form.provincecode&&(e.form.province=t,e.findCity(e.form.province))}))),t.data&&t.data.examineStartTime)){var a=t.data.examineStartTime.starttime,s=new Date(a).getTime()-18e5,r=(new Date).getTime();i.readOnlyStu=r>s}}))},pre:function(t){var e=this;Object(r["g"])(t.id).then((function(t){e.dialogTicketVisible=!0,e.stuObj=t.data}))},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["b"])(t.id).then((function(t){e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.handleFilter()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleAvatarSuccess:function(t,e){this.form.image=t.urls,this.$set(this.form,"image",t.urls)},uploadFileMethodAnswer:function(t){var e=this,i="image/jpeg"===t.raw.type,a="image/png"===t.raw.type,s=i||a,r=t.size/1024<500;if(s)if(r){this.imgFile=t;var n=new Image;n.src=URL.createObjectURL(t.raw);var o=this;n.onload=function(t){this.width-0>413?this.width<=1e3?(o.imgWidth=this.width,o.imgHeight=this.height):(o.imgWidth=1e3,o.imgHeight=1e3/this.width*this.height):(o.imgWidth=413,o.imgHeight=this.height),this.height-0<626&&(o.imgHeight=626)},this.$nextTick((function(){e.optionImg=URL.createObjectURL(t.raw);var i=e.$refs.dialogCropVisible;i.dialog=!0}))}else this.$message.error("上传头像图片大小不能超过 500Kb!");else this.$message.error("上传头像图片只能是 JPG 、 PNG 、JPEG格式!")},getUrl:function(t){this.form.image=t},handleSelectionChange:function(t){t&&t.length?this.ids=t.reduce((function(t,e){return t.push(e.id),t}),[]).join(","):this.ids=""},removeImg:function(t){t.stopPropagation(),this.form.image=""},updateData:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;t.loading=!0,t.dialogFormVisible=!1,Object(r["c"])(t.form).then((function(e){0==e.code?(t.$message.success("提交成功"),t.getList()):t.$message.error(e.msg),t.loading=!1}))}))}}},h=m,f=(i("abec"),i("9ca4")),g=Object(f["a"])(h,a,s,!1,null,"874893cc",null);e["default"]=g.exports},"543e":function(t,e,i){},"555e":function(t,e,i){"use strict";i.d(e,"o",(function(){return s})),i.d(e,"p",(function(){return r})),i.d(e,"n",(function(){return n})),i.d(e,"m",(function(){return o})),i.d(e,"l",(function(){return l})),i.d(e,"q",(function(){return c})),i.d(e,"r",(function(){return u})),i.d(e,"h",(function(){return d})),i.d(e,"i",(function(){return p})),i.d(e,"j",(function(){return m})),i.d(e,"c",(function(){return h})),i.d(e,"d",(function(){return f})),i.d(e,"b",(function(){return g})),i.d(e,"a",(function(){return v})),i.d(e,"e",(function(){return y})),i.d(e,"u",(function(){return b})),i.d(e,"t",(function(){return x})),i.d(e,"v",(function(){return w})),i.d(e,"x",(function(){return _})),i.d(e,"s",(function(){return k})),i.d(e,"k",(function(){return S})),i.d(e,"g",(function(){return C})),i.d(e,"f",(function(){return L})),i.d(e,"y",(function(){return j})),i.d(e,"w",(function(){return $}));i("e10e"),i("6d57");var a=i("b775");function s(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/mooccourse/page",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/mooccoursematerial/page",method:"get",params:t})}function n(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocteacher/page",method:"get",params:t})}function o(t){var e=new FormData;return Object.keys(t).forEach((function(i){e.append(i,t[i])})),Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocclass/page",method:"post",data:e})}function l(t){var e=new FormData;return Object.keys(t).forEach((function(i){e.append(i,t[i])})),Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/mooccoursetrainee/page",method:"post",data:e})}function c(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/park/companyPage",method:"get",params:t})}function u(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/park/staffPage",method:"get",params:t})}function d(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/mooccourse/save",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/mooccoursematerial/save",method:"post",data:t})}function m(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/mooccoursetrainee/save",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/mooccourse/delete/".concat(t),method:"get"})}function f(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/mooccoursematerial/delete/".concat(t),method:"get"})}function g(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocclass/delete/".concat(t),method:"get"})}function v(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/mooccoursechapter/delete/".concat(t),method:"get"})}function y(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/mooccoursetrainee/delete/".concat(t),method:"get"})}function b(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocclass/listByTree",method:"get",params:t})}function x(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocteacher/teacherList",method:"get",params:t})}function w(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/park/deptTree",method:"get"})}function _(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/park/peronalOrgTree",method:"get",params:t})}function k(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/mooccoursechapter/listByTree",method:"get",params:t})}function S(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/mooccourse/relTeacher",method:"post",data:t})}function C(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocclass/save",method:"post",data:t})}function L(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/mooccoursechapter/save",method:"post",data:t})}function j(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/mooccoursetrainee/addStudent",method:"get",params:t})}function $(t){return Object(a["a"])({url:"/ovu-base/getQiNiuToken",method:"get",query:t})}},5795:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{background:"#f8f8f8","font-size":"16px",height:"calc(100% - 62px)"}},[i("el-form",{staticClass:"app-container"},[i("el-page-header",{attrs:{content:"答卷详情",title:"返回答卷列表"},on:{back:function(e){return t.$router.push("/paper/answer/list")}}}),i("el-row",{attrs:{gutter:10}},[i("el-col",{staticStyle:{"max-height":"calc(100% - 19px)",overflow:"auto"},attrs:{span:6}},[i("el-card",{staticClass:"box-card"},[i("div",{staticStyle:{"font-size":"18px","font-weight":"800"}},[t._v(" 答题卡 ")]),t.countList[0]>0?i("div",{staticStyle:{"margin-top":"20px"}},[i("div",[t._v(" 单选题（共"+t._s(t.countList[0])+"题，合计"+t._s(t.countList[0]*t.scoreList[0])+"分） ")]),i("div",{staticStyle:{"margin-top":"20px"}},t._l(t.selectSubList,(function(e,a){return 1==e.type?i("a",{key:a,staticClass:"dtk",class:{activated:t.activatedItemId==e.id,pass:1==e.isRight,erro:0==e.isRight,noanser:2==e.isRight},attrs:{href:"javascript:void(0);"},on:{click:function(i){return t.checkSub(e,"ty1"+a)}}},[t._v(" "+t._s(a+1)+" ")]):t._e()})),0)]):t._e(),t.countList[1]>0?i("div",{staticStyle:{"margin-top":"20px"}},[i("div",[t._v(" 多选题（共"+t._s(t.countList[1])+"题，合计"+t._s(t.countList[1]*t.scoreList[1])+"分） ")]),i("div",{staticStyle:{"margin-top":"20px"}},t._l(t.selectSubList,(function(e,a){return 2==e.type?i("a",{key:a,staticClass:"dtk",class:{activated:t.activatedItemId==e.id,pass:1==e.isRight,erro:0==e.isRight,noanser:2==e.isRight},attrs:{href:"javascript:void(0);"},on:{click:function(i){return t.checkSub(e,"ty2"+a)}}},[t._v(" "+t._s(a+1-t.countList[0])+" ")]):t._e()})),0)]):t._e(),t.countList[2]>0?i("div",{staticStyle:{"margin-top":"20px"}},[i("div",[t._v(" 判断题（共"+t._s(t.countList[2])+"题，合计"+t._s(t.countList[2]*t.scoreList[2])+"分） ")]),i("div",{staticStyle:{"margin-top":"20px"}},t._l(t.selectSubList,(function(e,a){return 3==e.type?i("a",{key:a,staticClass:"dtk",class:{activated:t.activatedItemId==e.id,pass:1==e.isRight,erro:0==e.isRight,noanser:2==e.isRight},attrs:{href:"javascript:void(0);"},on:{click:function(i){return t.checkSub(e,"ty3"+a)}}},[t._v(" "+t._s(a+1-t.countList[0]-t.countList[1])+" ")]):t._e()})),0)]):t._e(),t.countList[3]>0?i("div",{staticStyle:{"margin-top":"20px"}},[i("div",[t._v(" 问答题（共"+t._s(t.countList[3])+"题，合计"+t._s(t.countList[3]*t.scoreList[3])+"分） ")]),i("div",{staticStyle:{"margin-top":"20px"}},t._l(t.selectSubList,(function(e,a){return 5==e.type?i("a",{key:a,staticClass:"dtk",class:{activated:t.activatedItemId==e.id,pass:1==e.isRight,erro:0==e.isRight,noanser:2==e.isRight},attrs:{href:"javascript:void(0);"},on:{click:function(i){return t.checkSub(e,"ty5"+a)}}},[t._v(" "+t._s(a+1-t.countList[0]-t.countList[1]-t.countList[2])+" ")]):t._e()})),0)]):t._e(),i("div",{staticStyle:{"margin-top":"100px"}},[i("a",{staticClass:"dtk pass",staticStyle:{"margin-bottom":"0"},attrs:{href:"javascript:void(0);"}}),i("span",{staticClass:"right_level1",staticStyle:{"margin-right":"10px"}},[t._v("正确")]),i("a",{staticClass:"dtk erro",staticStyle:{"margin-bottom":"0"},attrs:{href:"javascript:void(0);"}}),i("span",{staticClass:"right_level1",staticStyle:{"margin-right":"10px"}},[t._v("错误")]),i("a",{staticClass:"dtk noanser",staticStyle:{"margin-bottom":"0"},attrs:{href:"javascript:void(0);"}}),i("span",{staticClass:"right_level1",staticStyle:{"margin-right":"10px"}},[t._v("未答")])])])],1),i("el-col",{staticStyle:{height:"calc(100% - 19px)",overflow:"auto",style:"margin-left:10px","margin-right":"10px"},attrs:{span:15}},[t.countList[0]>0?i("el-card",{staticClass:"box-card "},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 单选题（共"+t._s(t.countList[0])+"题，合计"+t._s(t.countList[0]*t.scoreList[0])+"分） ")]),i("div",{staticClass:"filter-container"},t._l(t.selectSubList,(function(e,a){return 1==e.type?i("div",{key:a,staticStyle:{"margin-top":"10px"},attrs:{id:"ty1"+a}},[i("subject-item",{attrs:{item:e,index:a,hasanswer:t.hasanswer,"count-list":t.countList}})],1):t._e()})),0)]):t._e(),t.countList[1]>0?i("el-card",{staticClass:"box-card mt20"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 多选题（共"+t._s(t.countList[1])+"题，合计"+t._s(t.countList[1]*t.scoreList[1])+"分） ")]),i("div",{staticClass:"filter-container"},t._l(t.selectSubList,(function(e,a){return 2==e.type?i("div",{key:a,staticStyle:{"margin-top":"10px"},attrs:{id:"ty2"+a}},[i("subject-item",{attrs:{item:e,index:a,hasanswer:t.hasanswer,"count-list":t.countList}})],1):t._e()})),0)]):t._e(),t.countList[2]>0?i("el-card",{staticClass:"box-card mt20"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 判断题（共"+t._s(t.countList[2])+"题，合计"+t._s(t.countList[2]*t.scoreList[2])+"分） ")]),i("div",{staticClass:"filter-container"},t._l(t.selectSubList,(function(e,a){return 3==e.type?i("div",{key:a,staticStyle:{"margin-top":"10px"},attrs:{id:"ty3"+a}},[i("subject-item",{attrs:{item:e,index:a,hasanswer:t.hasanswer,"count-list":t.countList}})],1):t._e()})),0)]):t._e(),t.countList[3]>0?i("el-card",{staticClass:"box-card mt20"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 问答题（共"+t._s(t.countList[3])+"题，合计"+t._s(t.countList[3]*t.scoreList[3])+"分） ")]),i("div",{staticClass:"filter-container"},t._l(t.selectSubList,(function(e,a){return 5==e.type?i("div",[i("div",{key:a,staticStyle:{"margin-top":"10px","margin-bottom":"15px"},attrs:{id:"ty5"+a}},[i("subject-item",{attrs:{item:e,index:a,hasanswer:t.hasanswer,"count-list":t.countList}})],1)]):t._e()})),0)]):t._e()],1),i("el-col",{staticStyle:{height:"274px"},attrs:{span:3}},[i("el-card",{staticClass:"box-card "},[i("div",{staticClass:"right_level1"},[t._v(" 学员姓名 ")]),i("div",{staticClass:"right_level2"},[t._v(" "+t._s(t.form.examinee)+" ")]),i("el-divider"),i("div",{staticClass:"right_level1"},[t._v(" 考试成绩 ")]),i("div",{staticClass:"right_level2"},[t._v(" "+t._s(t.form.totalScore)+" ")]),i("el-divider"),i("div",{staticClass:"right_level1"},[t._v(" 考试状态 ")]),i("div",{staticClass:"right_level2 ",class:{unpass:0==t.form.isPass,rig:1==t.form.isPass}},[t._v(" "+t._s(0==t.form.isPass?"未通过":1==t.form.isPass?"已通过":"")+" ")])],1)],1)],1),i("div",{staticStyle:{"text-align":"right",height:"30px"}},[t._v(" 卷面总计 "+t._s(t.countList[0]*t.scoreList[0]+t.countList[1]*t.scoreList[1]+t.countList[2]*t.scoreList[2]+t.countList[3]*t.scoreList[3])+"分 "),i("span",{staticStyle:{"margin-left":"30px"}},[t._v("及格分：")]),t._v(" "+t._s(t.form.passGrade)+"分 ")])],1)],1)},s=[],r=(i("9a33"),i("6d57"),i("6724")),n=i("8ecb"),o=i.n(n),l=i("333d"),c=(i("60b8"),i("8129")),u=i("4556"),d=(i("6d93"),i("31a6").Base64,{directives:{waves:r["a"]},components:{Pagination:l["a"],draggable:o.a,SubjectItem:c["default"]},filters:{filterSubtype:function(t){switch(t){case 1:return"单选题";case 2:return"多选题";case 3:return"判断题";case 5:return"问答题"}}},data:function(){return{hasanswer:!0,options:[],groupList:[],activatedItemId:"",paperClassificationId:"",defaultProps:{children:"nodes",label:"text"},showInput:!1,selClassTree:{},showTree:!1,tableKey:0,list:[],total:0,loading:!1,form:{examinee:"",totalScore:"",isPass:null},data:[],dialog:!1,listQuery:{pageIndex:0,currentPage:1,pageSize:10,text:""},rules:{text:[{required:!0,message:"试卷名称",trigger:"blur"},{max:32,message:"最多可输入32个字符",trigger:"blur"}],description:[{max:200,message:"最多可输入200个字符",trigger:"blur"}],playway:{required:!0}},listLoading:!1,checkAll:!1,checkedTypes:[],countList:[0,0,0,0],scoreList:[0,0,0,0],isIndeterminate:!0,scoreData:[],passGrade:0,totalScore:0,types:[{label:"单选题",value:1},{label:"多选题",value:2},{label:"判断题",value:3},{label:"问答题",value:5}],selectSubList:[]}},mounted:function(){this.getData()},activated:function(){this.getData()},methods:{generateCode:function(){for(var t=[],e=65;e<91;e++)t.push(String.fromCharCode(e));return t},getRowKey:function(t){return t.id},back:function(){this.$router.push({path:"/coursePage/index"})},checkSub:function(t,e){this.activatedItemId=t.id;e="#"+e;this.$el.querySelector(e).scrollIntoView()},getData:function(){var t=this;this.$route.query.id?Object(u["c"])(this.$route.query.id).then((function(e){t.form=e.data,t.selectSubList=t.form.subjectDetail,t.selectSubList.forEach((function(e){e.score=e.paperScore,1==e.type?(t.countList[0]=t.countList[0]+1,t.scoreList[0]=e.score):2==e.type?(t.countList[1]=t.countList[1]+1,t.scoreList[1]=e.score,e.choose?e.chooseList=e.choose.split("$"):e.chooseList=[],e.answerList=e.answer.split("$")):3==e.type?(t.countList[2]=t.countList[2]+1,t.scoreList[2]=e.score):(t.countList[3]=t.countList[3]+1,t.scoreList[3]=e.score,e.keyWordList=JSON.parse(e.keyWord))}))})):this.form={},this.options=this.generateCode(),this.$forceUpdate()}}}),p=d,m=(i("2347"),i("9ca4")),h=Object(m["a"])(p,a,s,!1,null,"33191a1e",null);e["default"]=h.exports},"57c3":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-form",{staticClass:"app-container"},[i("el-page-header",{attrs:{content:(t.form.id?"编辑":"新增")+"试卷",title:"返回试卷列表"},on:{back:function(e){return t.$router.push("/paper/paper/index")}}}),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"form",staticStyle:{"margin-top":"15px"},attrs:{model:t.form,"label-width":"120px",rules:t.rules}},[i("el-card",{staticClass:"box-card",staticStyle:{margin:"0 15px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"el-card-header-title"},[t._v("试卷信息")])]),i("div",[i("el-form-item",{attrs:{label:"试卷名称",prop:"text"}},[i("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"最多可输入32个字符"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1),i("el-form-item",{attrs:{label:"试卷分组",required:""}},[t._l(t.groupList,(function(e){return i("el-tag",{key:e.id,staticClass:"group_item",class:{tag_active:t.paperClassificationId==e.id},attrs:{closable:-1!==e.id},on:{close:function(i){return t.delGroup(e)},click:function(i){return t.getGroup(e)}}},[t._v(t._s(e.text))])})),i("div",{staticClass:"inline_block"},[i("el-input",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticStyle:{width:"160px"},attrs:{placeholder:"请输入分组名称"},on:{input:function(e){return t.$forceUpdate()}},nativeOn:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.saveGroup(e):null}},model:{value:t.form.paperClassificationNameCopy,callback:function(e){t.$set(t.form,"paperClassificationNameCopy",e)},expression:"form.paperClassificationNameCopy"}})],1),i("span",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"el-icon-check saveGroup",on:{click:t.saveGroup}}),i("span",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"el-icon-refresh-left saveGroup",on:{click:t.uoGroup}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"margin-left":"50px"},attrs:{type:"primary"},on:{click:t.addGroup}},[t._v("+自定义分组")])],2),t.erroMessage?i("div",{staticStyle:{color:"#ff4949","font-size":"12px","line-height":"1","margin-left":"120px","margin-top":"-13px","margin-bottom":"5px"}},[t._v(" 请选择试卷分组 ")]):t._e(),i("el-form-item",{attrs:{label:"试卷描述",prop:"description"}},[i("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"最多可输入200个字符",type:"textarea"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)]),i("el-card",{staticClass:"box-card",staticStyle:{margin:"15px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticStyle:{color:"#ff4949","margin-right":"4px"}},[t._v("*")]),i("span",{staticClass:"el-card-header-title "},[t._v("选择题库")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"margin-left":"50px"},attrs:{type:"primary"},on:{click:t.addSubject}},[t._v("+添加题库")])],1),t.selectSubList.length?i("div",[i("span",{staticStyle:{"font-size":"12px",color:"red"}},[t._v("*拖拽题目，可进行排序")]),i("div",{staticClass:"filter-container"},[i("div",{staticClass:"panel",staticStyle:{padding:"15px",border:"0"}},[t.countList[0]>0?i("el-card",{staticClass:"box-card "},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 单选题（共"+t._s(t.countList[0])+"题，合计"+t._s(t.countList[0]*t.scoreList[0])+"分） ")]),i("draggable",{attrs:{list:t.selectSubList},on:{update:t.datadragEnd}},t._l(t.selectSubList,(function(e,a){return 1==e.type?i("div",{key:a,staticStyle:{cursor:"move","margin-bottom":"15px"}},[i("div",{staticClass:"question_title"},[i("span",[t._v("Q"+t._s(a+1)+".["+t._s(t._f("filterSubtype")(e.type))+"] "+t._s(e.question)+" ("+t._s(e.score)+"分)")]),i("el-link",{staticStyle:{padding:"0 3px","vertical-align":"top","margin-left":"10px"},attrs:{type:"primary",underline:!1},on:{click:function(i){return t.delSub(e)}}},[t._v("删除")])],1),5!==e.type?i("div",{staticStyle:{margin:"10px 0"}},[3!==e.type?i("div",{staticClass:"inline_block"},[t._v(" 选项 ")]):t._e(),3!==e.type?i("div",{staticClass:"inline_block",staticStyle:{"vertical-align":"text-top","margin-left":"10px"}},t._l(e.optionDetail,(function(e,a){return i("div",{key:a,staticClass:"question_option"},[t._v(" "+t._s(t.options[a])+". "),i("span",{staticClass:"question_option_content"},[t._v(t._s(e.optionContent))])])})),0):t._e(),i("div",{staticStyle:{margin:"10px 0"}},[1==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]):t._e(),2==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answerList.join(",")))])]):t._e(),3==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s("A"==e.answer?"对":"错"))])]):t._e()])]):i("div",{staticStyle:{margin:"10px 0"}},[i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]),t._l(e.keyWordList,(function(e,a){return i("div",{key:a,staticStyle:{"margin-top":"10px"}},[i("span",[t._v("关键词 "+t._s(e.synonym)+" ")]),t._v(" "),i("span",[t._v("权重 "+t._s(e.weight)+"%")])])}))],2),i("el-divider")],1):t._e()})),0)],1):t._e(),t.countList[1]>0?i("el-card",{staticClass:"box-card mt20"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 多选题（共"+t._s(t.countList[1])+"题，合计"+t._s(t.countList[1]*t.scoreList[1])+"分） ")]),i("draggable",{attrs:{list:t.selectSubList},on:{update:t.datadragEnd}},t._l(t.selectSubList,(function(e,a){return 2==e.type?i("div",{key:a,staticStyle:{cursor:"move","margin-bottom":"15px"}},[i("div",{staticClass:"question_title"},[i("span",[t._v("Q"+t._s(a+1-t.countList[0])+".["+t._s(t._f("filterSubtype")(e.type))+"] "+t._s(e.question)+" ("+t._s(e.score)+"分)")]),i("el-link",{staticStyle:{padding:"0 3px","vertical-align":"top","margin-left":"10px"},attrs:{type:"primary",underline:!1},on:{click:function(i){return t.delSub(e)}}},[t._v("删除")])],1),5!==e.type?i("div",{staticStyle:{margin:"10px 0"}},[3!==e.type?i("div",{staticClass:"inline_block"},[t._v(" 选项 ")]):t._e(),3!==e.type?i("div",{staticClass:"inline_block",staticStyle:{"vertical-align":"text-top","margin-left":"10px"}},t._l(e.optionDetail,(function(e,a){return i("div",{key:a,staticClass:"question_option"},[t._v(" "+t._s(t.options[a])+". "),i("span",{staticClass:"question_option_content"},[t._v(t._s(e.optionContent))])])})),0):t._e(),i("div",{staticStyle:{margin:"10px 0"}},[1==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]):t._e(),2==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answerList.join(",")))])]):t._e(),3==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s("A"==e.answer?"对":"错"))])]):t._e()])]):i("div",{staticStyle:{margin:"10px 0"}},[i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]),t._l(e.keyWordList,(function(e,a){return i("div",{key:a,staticStyle:{"margin-top":"10px"}},[i("span",[t._v("关键词 "+t._s(e.synonym)+" ")]),t._v(" "),i("span",[t._v("权重 "+t._s(e.weight)+"%")])])}))],2),i("el-divider")],1):t._e()})),0)],1):t._e(),t.countList[2]>0?i("el-card",{staticClass:"box-card mt20"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 判断题（共"+t._s(t.countList[2])+"题，合计"+t._s(t.countList[2]*t.scoreList[2])+"分） ")]),i("draggable",{attrs:{list:t.selectSubList},on:{update:t.datadragEnd}},t._l(t.selectSubList,(function(e,a){return 3==e.type?i("div",{key:a,staticStyle:{cursor:"move","margin-bottom":"15px"}},[i("div",{staticClass:"question_title"},[i("span",[t._v("Q"+t._s(a+1-t.countList[0]-t.countList[1])+".["+t._s(t._f("filterSubtype")(e.type))+"] "+t._s(e.question)+" ("+t._s(e.score)+"分)")]),i("el-link",{staticStyle:{padding:"0 3px","vertical-align":"top","margin-left":"10px"},attrs:{type:"primary",underline:!1},on:{click:function(i){return t.delSub(e)}}},[t._v("删除")])],1),5!==e.type?i("div",{staticStyle:{margin:"10px 0"}},[3!==e.type?i("div",{staticClass:"inline_block"},[t._v(" 选项 ")]):t._e(),3!==e.type?i("div",{staticClass:"inline_block",staticStyle:{"vertical-align":"text-top","margin-left":"10px"}},t._l(e.optionDetail,(function(e,a){return i("div",{key:a,staticClass:"question_option"},[t._v(" "+t._s(t.options[a])+". "),i("span",{staticClass:"question_option_content"},[t._v(t._s(e.optionContent))])])})),0):t._e(),i("div",{staticStyle:{margin:"10px 0"}},[1==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]):t._e(),2==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answerList.join(",")))])]):t._e(),3==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s("A"==e.answer?"对":"错"))])]):t._e()])]):i("div",{staticStyle:{margin:"10px 0"}},[i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]),t._l(e.keyWordList,(function(e,a){return i("div",{key:a,staticStyle:{"margin-top":"10px"}},[i("span",[t._v("关键词 "+t._s(e.synonym)+" ")]),t._v(" "),i("span",[t._v("权重 "+t._s(e.weight)+"%")])])}))],2),i("el-divider")],1):t._e()})),0)],1):t._e(),t.countList[3]>0?i("el-card",{staticClass:"box-card mt20"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 问答题（共"+t._s(t.countList[3])+"题，合计"+t._s(t.countList[3]*t.scoreList[3])+"分） ")]),i("draggable",{attrs:{list:t.selectSubList},on:{update:t.datadragEnd}},t._l(t.selectSubList,(function(e,a){return 5==e.type?i("div",{key:a,staticStyle:{cursor:"move","margin-bottom":"15px"}},[i("div",{staticClass:"question_title"},[i("span",[t._v("Q"+t._s(a+1-t.countList[0]-t.countList[1]-t.countList[2])+".["+t._s(t._f("filterSubtype")(e.type))+"] "+t._s(e.question)+" ("+t._s(e.score)+"分)")]),i("el-link",{staticStyle:{padding:"0 3px","vertical-align":"top","margin-left":"10px"},attrs:{type:"primary",underline:!1},on:{click:function(i){return t.delSub(e)}}},[t._v("删除")])],1),5!==e.type?i("div",{staticStyle:{margin:"10px 0"}},[3!==e.type?i("div",{staticClass:"inline_block"},[t._v(" 选项 ")]):t._e(),3!==e.type?i("div",{staticClass:"inline_block",staticStyle:{"vertical-align":"text-top","margin-left":"10px"}},t._l(e.optionDetail,(function(e,a){return i("div",{key:a,staticClass:"question_option"},[t._v(" "+t._s(t.options[a])+". "),i("span",{staticClass:"question_option_content"},[t._v(t._s(e.optionContent))])])})),0):t._e(),i("div",{staticStyle:{margin:"10px 0"}},[1==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]):t._e(),2==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answerList.join(",")))])]):t._e(),3==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s("A"==e.answer?"对":"错"))])]):t._e()])]):i("div",{staticStyle:{margin:"10px 0"}},[i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]),t._l(e.keyWordList,(function(e,a){return i("div",{key:a,staticStyle:{"margin-top":"10px"}},[i("span",[t._v("关键词 "+t._s(e.synonym)+" ")]),t._v(" "),i("span",[t._v("权重 "+t._s(e.weight)+"%")])])}))],2),i("el-divider")],1):t._e()})),0)],1):t._e()],1),i("div",{staticClass:"panel"},[t._v(" 已选题库 "),i("span",{staticStyle:{color:"red"}},[t._v(" 当前已选中:"+t._s(t.selectSubList.length)+"道题")]),i("div",{staticStyle:{"margin-top":"10px"}},t._l(t.selectSubList,(function(e){return i("div",{key:e.id,staticClass:"subItem"},[t._v(" "+t._s(e.question)+" "),i("span",{staticClass:"el-icon-circle-close del",on:{click:function(i){return t.delSub(e)}}})])})),0)])])]):t._e()]),i("el-card",{staticClass:"box-card",staticStyle:{margin:"0 15px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"el-card-header-title"},[t._v("设置分值")])]),i("div",[i("table",{staticClass:"table",staticStyle:{"margin-top":"10px"}},[i("thead",[i("tr",[i("th",[t._v("题目类型")]),i("th",[t._v("单选题")]),i("th",[t._v("多选题")]),i("th",[t._v("判断题")]),i("th",[t._v("问答题")])])]),i("tbody",[i("tr",[i("td",[t._v("数量")]),i("td",[t._v(t._s(t.countList[0])+"个")]),i("td",[t._v(t._s(t.countList[1])+"个")]),i("td",[t._v(t._s(t.countList[2])+"个")]),i("td",[t._v(t._s(t.countList[3])+"个")])]),i("tr",[i("td",[t._v("数量分值")]),i("td",[i("el-input-number",{staticClass:"input_score",attrs:{min:0,disabled:0==t.countList[0],controls:!1},on:{input:function(e){return t.calculate(t.scoreList[0],1)}},model:{value:t.scoreList[0],callback:function(e){t.$set(t.scoreList,0,t._n(e))},expression:"scoreList[0]"}}),t._v("分/题 ")],1),i("td",[i("el-input-number",{staticClass:"input_score",attrs:{min:0,disabled:0==t.countList[1],controls:!1},on:{input:function(e){return t.calculate(t.scoreList[1],2)}},model:{value:t.scoreList[1],callback:function(e){t.$set(t.scoreList,1,t._n(e))},expression:"scoreList[1]"}}),t._v("分/题 ")],1),i("td",[i("el-input-number",{staticClass:"input_score",attrs:{min:0,disabled:0==t.countList[2],controls:!1},on:{input:function(e){return t.calculate(t.scoreList[2],3)}},model:{value:t.scoreList[2],callback:function(e){t.$set(t.scoreList,2,t._n(e))},expression:"scoreList[2]"}}),t._v("分/题 ")],1),i("td",[i("el-input-number",{staticClass:"input_score",attrs:{min:0,disabled:0==t.countList[3],controls:!1},on:{input:function(e){return t.calculate(t.scoreList[3],5)}},model:{value:t.scoreList[3],callback:function(e){t.$set(t.scoreList,3,t._n(e))},expression:"scoreList[3]"}}),t._v("分/题 ")],1)]),i("tr",[i("td",[t._v("统计")]),i("td",{attrs:{colspan:"5"}},[i("div",{staticStyle:{"text-align":"right"}},[t._v(" 卷面总计 "+t._s(t.countList[0]*t.scoreList[0]+t.countList[1]*t.scoreList[1]+t.countList[2]*t.scoreList[2]+t.countList[3]*t.scoreList[3])+"分 "),i("span",{staticStyle:{"margin-left":"30px"}},[t._v("及格分：")]),i("el-input-number",{staticClass:"input_score",attrs:{min:0,controls:!1},model:{value:t.form.passGrade,callback:function(e){t.$set(t.form,"passGrade",t._n(e))},expression:"form.passGrade"}}),t._v("分 ")],1)])])])])])])],1),i("div",{staticClass:"dialog-footer text-center",staticStyle:{margin:"15px 0"}},[i("el-button",{on:{click:function(e){return t.$router.push("/paper/paper/index")}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.updata}},[t._v("创建")])],1)],1),i("addSubform",{ref:"dialogAddVisible",attrs:{"select-list":t.selectSubList},on:{changSub:t.handleSelectionChange22}})],1)},s=[],r=(i("c904"),i("9a33"),i("6d57"),i("6724")),n=i("8ecb"),o=i.n(n),l=i("a774"),c=i("3d70"),u=i("3f4b"),d=i("6d93"),p={directives:{waves:r["a"]},components:{draggable:o.a,AddSubform:l["default"]},filters:{filterSubtype:function(t){switch(t){case 1:return"单选题";case 2:return"多选题";case 3:return"判断题";case 5:return"问答题"}}},data:function(){return{options:[],groupList:[],paperClassificationId:"",defaultProps:{children:"nodes",label:"text"},showInput:!1,selClassTree:{},showTree:!1,tableKey:0,list:[],total:0,loading:!1,form:{},data:[],dialog:!1,erroMessage:!1,listQuery:{pageIndex:0,currentPage:1,pageSize:10,text:""},rules:{text:[{required:!0,message:"试卷名称",trigger:"blur"},{max:32,message:"最多可输入32个字符",trigger:"blur"}],description:[{max:200,message:"最多可输入200个字符",trigger:"blur"}]},listLoading:!1,checkAll:!1,checkedTypes:[],countList:[0,0,0,0],scoreList:[0,0,0,0],isIndeterminate:!0,scoreData:[],passGrade:0,totalScore:0,types:[{label:"单选题",value:1},{label:"多选题",value:2},{label:"判断题",value:3},{label:"问答题",value:5}],selectSubList:[]}},mounted:function(){var t=this;this.$route.query.id?(Object(c["g"])(this.$route.query.id).then((function(e){t.form=e.data,t.paperClassificationId=t.form.paperClassificationId,t.form.paperClassificationNameCopy=t.form.paperClassificationName,t.selectSubList=t.form.subjectDetail,t.selectSubList.forEach((function(e){e.score=e.paperScore,1==e.type?(t.countList[0]=t.countList[0]+1,t.scoreList[0]=e.score):2==e.type?(t.countList[1]=t.countList[1]+1,t.scoreList[1]=e.score,e.answerList=e.answer.split("$")):3==e.type?(t.countList[2]=t.countList[2]+1,t.scoreList[2]=e.score):(t.countList[3]=t.countList[3]+1,t.scoreList[3]=e.score,e.keyWordList=JSON.parse(e.keyWord))}))})),this.$route.meta.title="编辑试卷",this.$set(this.$route.meta,"title","编辑试卷")):(this.form={},this.$route.meta.title="新增试卷",this.$set(this.$route.meta,"title","新增试卷")),Object(u["e"])().then((function(e){t.data=e.data})),this.getGroupList(),this.options=this.generateCode(),this.$forceUpdate()},activated:function(){var t=this;this.$route.query.id?(Object(c["g"])(this.$route.query.id).then((function(e){t.form=e.data,t.paperClassificationId=t.form.paperClassificationId,t.form.paperClassificationNameCopy=t.form.paperClassificationName,t.selectSubList=t.form.subjectDetail,t.selectSubList.forEach((function(e){e.score=e.paperScore,1==e.type?(t.countList[0]=t.countList[0]+1,t.scoreList[0]=e.score):2==e.type?(t.countList[1]=t.countList[1]+1,t.scoreList[1]=e.score,e.answerList=e.answer.split("$")):3==e.type?(t.countList[2]=t.countList[2]+1,t.scoreList[2]=e.score):(t.countList[3]=t.countList[3]+1,t.scoreList[3]=e.score,e.keyWordList=JSON.parse(e.keyWord))}))})),this.$route.meta.title="编辑试卷",this.$set(this.$route.meta,"title","编辑试卷")):(this.form={},this.$route.meta.title="新增试卷",this.$set(this.$route.meta,"title","新增试卷")),Object(u["e"])().then((function(e){t.data=e.data})),this.getGroupList(),this.options=this.generateCode(),this.$forceUpdate()},methods:{generateCode:function(){for(var t=[],e=65;e<91;e++)t.push(String.fromCharCode(e));return t},getRowKey:function(t){return t.id},getGroupList:function(t){var e=this;Object(c["e"])().then((function(i){var a={id:-1,text:"默认分组"};e.groupList=i.data||[],e.groupList.unshift(a),e.$route.query.id||(e.paperClassificationId=-1,e.form.paperClassificationNameCopy="默认分组"),t&&(e.paperClassificationId=e.groupList[e.groupList.length-1].id,e.form.paperClassificationNameCopy=e.groupList[e.groupList.length-1].text)}))},back:function(){this.$router.push({path:"/coursePage/index"})},addSubject:function(){var t=this;this.$nextTick((function(){var e=t.$refs["dialogAddVisible"];e.dialog=!0}))},handleSelectionChange22:function(t){var e=this;this.selectSubList=t,this.countList[0]=0,this.countList[1]=0,this.countList[2]=0,this.countList[3]=0,this.selectSubList.forEach((function(t){1==t.type?(e.countList[0]=e.countList[0]+1,t.score=e.scoreList[0]||0):2==t.type?(e.countList[1]=e.countList[1]+1,t.score=e.scoreList[1]||0,t.answerList=t.answer.split("$")):3==t.type?(e.countList[2]=e.countList[2]+1,t.score=e.scoreList[2]||0):(e.countList[3]=e.countList[3]+1,t.score=e.scoreList[3]||0,t.keyWordList=JSON.parse(t.keyWord))})),this.selectSubList=this.selectSubList.sort((function(t,e){return t.type-e.type}))},datadragEnd:function(t){},calculate:function(t,e){this.selectSubList.forEach((function(i){i.type==e&&(i.score=t)})),this.$forceUpdate()},delSub:function(t){var e=this;this.selectSubList.splice(this.selectSubList.indexOf(t),1),this.countList[0]=0,this.countList[1]=0,this.countList[2]=0,this.countList[3]=0,this.selectSubList.forEach((function(t){1==t.type?(e.countList[0]=e.countList[0]+1,t.score=e.scoreList[0]||0):2==t.type?(e.countList[1]=e.countList[1]+1,t.score=e.scoreList[1]||0,t.answerList=t.answer.split("$")):3==t.type?(e.countList[2]=e.countList[2]+1,t.score=e.scoreList[2]||0):(e.countList[3]=e.countList[3]+1,t.score=e.scoreList[3]||0,t.keyWordList=JSON.parse(t.keyWord))}))},addGroup:function(){this.form.paperClassificationNameCopy="",this.showInput=!0,this.paperClassificationId=""},delGroup:function(t){var e=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["b"])(t.id).then((function(t){0==t.code?(e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.getGroupList()):e.$message.error(t.msg)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},getGroup:function(t){this.form.paperClassificationNameCopy=t.text,this.paperClassificationId=t.id,-1!==t.id&&(this.showInput=!0),this.$forceUpdate(),this.$refs.form.validateField("paperClassificationNameCopy")},saveGroup:function(){var t=this;if(this.form.paperClassificationNameCopy){this.showInput=!1;var e={parentId:"0",text:this.form.paperClassificationNameCopy,id:this.paperClassificationId||""};Object(c["h"])(e).then((function(e){0==e.code?(t.$message.success("操作成功"),t.getGroupList(!0)):t.$message.error(e.msg)}))}else this.$message.error("请填写分组名称")},uoGroup:function(){this.showInput=!1,this.form.paperClassificationNameCopy=""},updata:function(){var t=this;this.paperClassificationId?this.erroMessage=!1:this.erroMessage=!0,0!=this.selectSubList.length?0===this.countList[0]||0!=this.scoreList[0]?0===this.countList[1]||0!=this.scoreList[1]?0===this.countList[2]||0!=this.scoreList[2]?0===this.countList[3]||0!=this.scoreList[3]?this.form.passGrade?(this.form.totalGrade=this.countList[0]*this.scoreList[0]+this.countList[1]*this.scoreList[1]+this.countList[2]*this.scoreList[2]+this.countList[3]*this.scoreList[3],0!=this.form.totalGrade?this.form.passGrade>this.form.totalGrade?this.$message.error("及格分不得大于总分"):this.$refs["form"].validate((function(e){if(!e||t.erroMessage)return!1;t.form.paperClassificationId=t.paperClassificationId,t.form.type=1,t.form.isPublish=0,t.form.count=t.countList&&t.countList.length&&t.countList.reduce((function(t,e){return t+e}),0);var i=t.selectSubList&&t.selectSubList.length&&t.selectSubList.reduce((function(t,e){return t.push(e.score),t}),[]);t.form.score=i.join(","),t.form.questionList=[],t.selectSubList.forEach((function(e){1==e.type?e.score=t.scoreList[0]:2==e.type?e.score=t.scoreList[1]:3==e.type?e.score=t.scoreList[2]:e.score=t.scoreList[3],t.form.questionList.push({id:e.id,score:e.score})})),t.loading=!0,Object(c["d"])(t.form).then((function(e){0==e.code?(t.$message.success("提交成功"),t.$router.push("/paper/paper/index"),d["default"].$emit("getlist")):(t.$message.error(e.msg),t.$router.push("/paper/paper/index")),t.loading=!1}))})):this.$message.error("总分不得等于0")):this.$message.error("请输入及格分"):this.$message.error("请设置问答题分数"):this.$message.error("请设置判断题分数"):this.$message.error("请设置多选题分数"):this.$message.error("请设置单选题分数"):this.$message.error("请选择题目")}}},m=p,h=(i("cb41"),i("9ca4")),f=Object(h["a"])(m,a,s,!1,null,"2f02b3e0",null);e["default"]=f.exports},"5b26":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:"测评详情",width:"60%",visible:t.dialog,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialog=e}}},[i("el-card",{staticClass:"card_item",attrs:{shadow:"hover"}},[i("h4",[t._v(t._s(t.item.personName))]),i("div"),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("div",[t._v("测评名称："+t._s(t.item.text))])]),i("el-col",{attrs:{span:8}},[i("div",[t._v("完成时间:"+t._s(t.item.submitTime))])]),i("el-col",{attrs:{span:8}},[i("div",[t._v("用时/分钟："+t._s(t.item.time))])])],1)],1),i("el-card",{staticClass:"box-card card_item inline_block",staticStyle:{width:"200px"},attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("得分")])]),i("div",{staticStyle:{"margin-bottom":"15px"}},[i("span",[i("strong",{staticStyle:{color:"#FCA54D","margin-right":"5px","font-size":"25px"}},[t._v(" "+t._s(null!==t.item.subjectiveScore?t.item.subjectiveScore:"--"))]),t._v("分")]),t._v(" "),i("span",{staticStyle:{"font-size":"25px",margin:"0 10px"}},[t._v("/")]),t._v(" "),i("strong",{staticStyle:{"margin-right":"5px","font-size":"25px"}},[t._v(t._s(null!==t.item.objectiveScore?t.item.objectiveScore:"--"))]),t._v("分 ")]),i("div",[i("span",{staticStyle:{"margin-right":"15px"}},[t._v("主观题 "+t._s(null!==t.item.subjectiveNum?t.item.subjectiveNum:"--")+" ")]),t._v(" "),i("span",[t._v("客观题 "+t._s(null!==t.item.objectiveNum?t.item.objectiveNum:"--")+" ")])]),i("div")]),i("el-card",{staticClass:"box-card card_item inline_block",staticStyle:{width:"calc(100% - 220px)","max-height":"500px",overflow:"auto"},attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("答题情况")])]),i("div",{staticStyle:{height:"280px"}},[i("el-table",{key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.item.infoList,border:"",fit:"","highlight-current-row":"",height:"100%","default-sort":{prop:"id",order:"descending"}}},[i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),i("el-table-column",{attrs:{label:"题型",prop:"type",align:"left"}}),i("el-table-column",{attrs:{label:"正确题数/题数",align:"left","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(i.correctCount)+" / "+t._s(i.errorCount-0+(i.correctCount-0))+" ")]}}])}),i("el-table-column",{attrs:{label:"得分",prop:"score",align:"left"}})],1)],1)])],1)],1)},s=[],r=i("200d"),n={props:["item"],data:function(){var t;return t={list:[],dialog:!1,loading:!1,tableKey:0},Object(r["a"])(t,"list",[]),Object(r["a"])(t,"total",0),Object(r["a"])(t,"listLoading",!0),Object(r["a"])(t,"listQuery",{pageIndex:0,currentPage:1,pageSize:10}),t},created:function(){},methods:{}},o=n,l=(i("018d"),i("9ca4")),c=Object(l["a"])(o,a,s,!1,null,"5ffa3150",null);e["default"]=c.exports},"5de5":function(t,e,i){"use strict";(function(t){i("32a6");e["a"]={props:["showPrint","data"],data:function(){return{}},methods:{print:function(){t.print("#printTable")}}}}).call(this,i("a336"))},"5fbc":function(t,e,i){},"60b8":function(t,e,i){"use strict";var a=i("4f54"),s=(i("e10e"),i("6d57"),i("31a6").Base64);e["a"]={data:function(){return{otherHeight:210}},computed:{maxHeight:function(){return this.$store.getters["settings/getClientHeight"]-this.otherHeight}},created:function(){this.assignQuery()},methods:{assignQuery:function(){var t=this.$route.query,e={};Object.keys(t).forEach((function(i){if(t.hasOwnProperty(i)&&t[i])try{var a=JSON.parse(s.decode(t[i]));if(!a.value)return;"string"===a.type?e[i]=a.value:"number"===a.type&&(e[i]=parseFloat(a.value))}catch(r){}})),Object.assign(this.listQuery,e)},handleFilter:function(){var t=this;this.listQuery.currentPage=1;var e=this.$route,i=e.path,r=e.query,n={};Object.keys(this.listQuery).forEach((function(e){n[e]=s.encode(JSON.stringify({type:Object(a["a"])(t.listQuery[e]),value:t.listQuery[e]})),"string"===typeof t.listQuery[e]&&(t.listQuery[e]=t.listQuery[e].trim())})),this.$router.push({path:i,query:Object.assign({},r,n)}),this.getList()}}}},"60bc":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%"}},[a("div",{staticStyle:{height:"100%"}},[a("div",{staticClass:"operate-panel"},[a("div",{staticClass:"operate-panel_left"},[a("div",{staticClass:"pro-sty"},[a("el-input",{attrs:{placeholder:"请选择分类",clearable:"","read-only":""},on:{change:t.changeTree},nativeOn:{click:function(e){return t.deptogglePanel(e,"classTree",t.selClassTree)}},model:{value:t.listQuery.classname,callback:function(e){t.$set(t.listQuery,"classname",e)},expression:"listQuery.classname"}}),t.showTree?a("div",{ref:"suoShuMenTree",staticClass:"treeDiv"},[a("el-tree",{ref:"classTree",staticClass:"suoshubumen",attrs:{data:t.nodes,props:t.defaultProps,"node-key":"id","highlight-current":"","expand-on-click-node":!1},on:{"node-click":t.handleNodeClick}})],1):t._e()],1),a("el-input",{staticClass:"filter-item",staticStyle:{"margin-right":"5px"},attrs:{placeholder:"课程名称"},model:{value:t.listQuery.coursename,callback:function(e){t.$set(t.listQuery,"coursename",e)},expression:"listQuery.coursename"}}),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],1),a("div",{staticClass:"operate-panel_right"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("新增")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"",height:"calc(100% - 119px)","default-sort":{prop:"id",order:"descending"}}},[a("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),a("el-table-column",{attrs:{label:"封面",prop:"coverimg",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[s.coverimg?a("el-image",{staticStyle:{width:"164px",height:"90px","object-fit":"contain"},attrs:{src:t.processImgUrl(s.coverimg),"preview-src-list":s.coverimg.split(",")}}):t._e(),s.coverimg?t._e():a("img",{staticStyle:{width:"164px",height:"90px"},attrs:{src:i("05cf"),alt:""}})]}}])}),a("el-table-column",{attrs:{label:"课程",prop:"coursename",align:"left","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"分类",prop:"classNamePath",align:"left","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"类型",width:"150px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.type?a("span",[t._v(" "+t._s(1==i.type?"私有":2==i.type?"半公开":"公开"))]):t._e()]}}])}),a("el-table-column",{attrs:{label:"创建人/时间",align:"left","show-overflow-tooltip":"","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("div",[t._v(" "+t._s(i.creatorName)+" ")]),a("div",[t._v(" "+t._s(i.createtime)+" ")])]}}])}),a("el-table-column",{attrs:{label:"排序",prop:"sort",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.hasSort?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"回车保存",placement:"right-end"}},[a("el-input",{staticClass:"filter-item",staticStyle:{"margin-right":"5px",width:"100px"},attrs:{oninput:"value=value.replace(/[^\\d]/g,'')"},nativeOn:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.UpdateSort(i):null}},model:{value:i.sort,callback:function(e){t.$set(i,"sort",e)},expression:"row.sort"}})],1):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"120px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.admin||i.oneCompany?a("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.ToBaseInfo(i)}}},[t._v("管理")]):t._e(),i.admin||i.oneCompany?a("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDelete(i)}}},[t._v("删除")]):t._e()]}}])})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[a("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)],1),a("el-dialog",{attrs:{title:"预览",visible:t.dialogImgVisible,width:"300px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogImgVisible=e}}},[a("div",{staticClass:"qrcodeimg"},[a("el-image",{staticStyle:{width:"100px",height:"80px"},attrs:{src:t.tempImg,fit:"contain"}})],1),a("div",[a("el-button",{staticStyle:{margin:"0 auto",display:"inherit"},attrs:{type:"primary"},on:{click:function(e){return t.saveImg(t.tempImg)}}},[t._v("保存二维码")])],1)])],1)},s=[],r=(i("c904"),i("6d57"),i("b449"),i("6648")),n=i("555e"),o=i("6724"),l=i("333d"),c=i("60b8"),u=i("31a6").Base64,d={components:{Pagination:l["a"]},directives:{waves:o["a"]},mixins:[c["a"]],data:function(){return{courseList:[],tableKey:0,list:[],total:0,value:!0,listLoading:!0,listQuery:{pageIndex:0,currentPage:1,pageSize:10,coursename:"",classid:"",state:""},selClassTree:{},nodes:[],defaultProps:{children:"nodes",label:"classname"},tempImg:"",stateList:[{value:"1",name:"未发布"},{value:"2",name:"审核中"},{value:"3",name:"已发布"}],dialogImgVisible:!1,showTree:!1}},mounted:function(){this.handleFilter(),this.getDataTree()},methods:{resetQuery:function(){this.listQuery={pageIndex:0,currentPage:1,pageSize:10,coursename:"",classid:"",state:""}},getDataTree:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Object(n["u"])().then((function(t){e.nodes=t.data}));case 4:return t.prev=4,this.loading=!1,t.finish(4);case 7:case"end":return t.stop()}}),t,this,[[0,,4,7]])})));function e(){return t.apply(this,arguments)}return e}(),getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,this.listQuery.coursename&&(this.listQuery.currentPage=1,this.listQuery.pageIndex=0),Object(n["o"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1,t.list&&t.list.length&&t.list.forEach((function(t){t.admin?t.hasSort=!0:t.oneCompany?(1==t.type||t.type,t.type&&1==t.type?t.hasSort=!0:t.hasSort=!1):t.hasSort=!1}))}))},resetTemp:function(){this.form={bannerlogo:""}},handleCreate:function(){this.$router.push({path:"/create/index"})},UpdateSort:function(t){var e=this;t.sort=t.sort-0,Object(n["h"])(t).then((function(t){0==t.code?(e.$message.success("提交成功"),e.handleFilter()):e.$message.error(t.msg),e.loading=!1}))},handleUpdate:function(t){this.dialogStatus="update",t.id?(this.form=Object.assign({},t),this.dialogFormVisible=!0):handleCreate()},ToBaseInfo:function(t){var e=Object.assign({},t);this.$delete(e,"coverimg"),this.$router.push({path:"/courseManage/index",query:{info:u.encode(JSON.stringify(e)),coverimg:t.coverimg}})},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["c"])(t.id).then((function(t){e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.handleFilter()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleNodeClick:function(t){this.listQuery.classname=t.classname,this.selClassTree={id:t.id,classname:t.classname},this.showTree=!1,this.listQuery.classid=t.id,this.$set(this.listQuery,"classid",t.id),this.$set(this.listQuery,"classname",t.classname)},changeTree:function(){this.listQuery.classname="",this.listQuery.classid=""},deptogglePanel:function(t,e,i){t||(t=window.event),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.showTree?this.dephide(e,i):this.depshow(e,i)},depshow:function(t,e){var i=this;this.showTree=!0,this.$nextTick((function(){i.$refs[t].setCurrentKey(e.id)})),document.addEventListener("click",this.dephidePanel,!1)},dephide:function(){this.showTree=!1,document.addEventListener("click",this.dephidePanel,!1)},dephidePanel:function(t){this.$refs.suoShuMenTree&&!this.$refs.suoShuMenTree.contains(t.target)&&this.dephide()},handleAvatarSuccess:function(t,e){this.form.bannerlogo=this.processImgUrl(t.urls),this.$set(this.form,"bannerlogo",this.processImgUrl(t.urls))},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type||"image/png"===t.type;return e||this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),e},removeImg:function(t){t.stopPropagation(),this.form.bannerlogo=""},updateData:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(n["h"])(this.form).then((function(t){e.$message.success("提交成功"),e.dialogFormVisible=!1,e.getList()}));case 3:return t.prev=3,t.finish(3);case 5:case"end":return t.stop()}}),t,this,[[0,,3,5]])})));function e(){return t.apply(this,arguments)}return e}(),showQRcodeing:function(t){this.dialogImgVisible=!0,this.tempImg=t},handleFilter:function(){this.getList()},saveImg:function(t){}}},p=d,m=(i("0dd7"),i("9ca4")),h=Object(m["a"])(p,a,s,!1,null,"17dc19f4",null);e["default"]=h.exports},"61db":function(t,e,i){},"61e1":function(t,e,i){},"64ed":function(t,e,i){},6551:function(t,e,i){},6724:function(t,e,i){"use strict";i("8d41");var a="@@wavesContext";function s(t,e){function i(i){var a=Object.assign({},e.value),s=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},a),r=s.ele;if(r){r.style.position="relative",r.style.overflow="hidden";var n=r.getBoundingClientRect(),o=r.querySelector(".waves-ripple");switch(o?o.className="waves-ripple":(o=document.createElement("span"),o.className="waves-ripple",o.style.height=o.style.width=Math.max(n.width,n.height)+"px",r.appendChild(o)),s.type){case"center":o.style.top=n.height/2-o.offsetHeight/2+"px",o.style.left=n.width/2-o.offsetWidth/2+"px";break;default:o.style.top=(i.pageY-n.top-o.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",o.style.left=(i.pageX-n.left-o.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return o.style.backgroundColor=s.color,o.className="waves-ripple z-active",!1}}return t[a]?t[a].removeHandle=i:t[a]={removeHandle:i},i}var r={bind:function(t,e){t.addEventListener("click",s(t,e),!1)},update:function(t,e){t.removeEventListener("click",t[a].removeHandle,!1),t.addEventListener("click",s(t,e),!1)},unbind:function(t){t.removeEventListener("click",t[a].removeHandle,!1),t[a]=null,delete t[a]}},n=function(t){t.directive("waves",r)};window.Vue&&(window.waves=r,Vue.use(n)),r.install=n;e["a"]=r},"68fb":function(t,e,i){"use strict";var a=i("6551"),s=i.n(a);s.a},"699a":function(t,e,i){"use strict";var a=i("524d"),s=i.n(a);s.a},"6a99":function(t,e,i){},"6ba7":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container",staticStyle:{height:"calc(100% - 3px) !important"}},[i("div",{staticClass:"filter-container"},[i("div",{staticStyle:{height:"100%"}},[[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"测评设置",name:"set"}},[i("EditTest")],1),i("el-tab-pane",{attrs:{label:"考生成绩",name:"result"}},[i("el-card",{staticClass:"box-card res",staticStyle:{"margin-bottom":"10px",height:"60px"},attrs:{name:"second"}},[i("el-row",{attrs:{gutter:20}},[i("el-col",{staticStyle:{"border-right":"1px solid #ccc"},attrs:{span:12}},[i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{"line-height":"60px"}},[t._v(" 通过率： "+t._s(null!==t.resolveObj.passRate?t.resolveObj.passRate:"-")+" ")])]),i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{"line-height":"33px"}},[t._v(" 通过人数："+t._s(null!==t.resolveObj.passCount?t.resolveObj.passCount+"人":"-")+" ")]),i("div",[t._v(" 考试人数： "+t._s(null!==t.resolveObj.attendCount?t.resolveObj.attendCount+"人":"-")+" ")])])],1),i("el-col",{attrs:{span:12}},[i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{"line-height":"60px"}},[t._v(" 平均分： "+t._s(null!==t.resolveObj.avgScore?t.resolveObj.avgScore:"-")+" ")])]),i("el-col",{attrs:{span:12}},[i("div",{staticStyle:{"line-height":"33px"}},[t._v(" 最高分："+t._s(null!==t.resolveObj.maxScore?t.resolveObj.maxScore:"-")+" ")]),i("div",[t._v(" 最低分："+t._s(null!==t.resolveObj.minScore?t.resolveObj.minScore:"-")+" ")])])],1)],1)],1),i("div",{staticClass:"operate-panel_left",staticStyle:{"margin-bottom":"10px"}},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"学员姓名/工号"},model:{value:t.listQuery.params,callback:function(e){t.$set(t.listQuery,"params",e)},expression:"listQuery.params"}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"vertical-align":"top"},attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"vertical-align":"top"},attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"vertical-align":"top",float:"right"},attrs:{type:"default"},on:{click:t.downloadFile}},[t._v("导出成绩")]),i("div",{staticStyle:{display:"inline-block",float:"right","line-height":"40px","margin-right":"10px"}},[i("span",{staticStyle:{"margin-right":"10px"}},[t._v("是否保留每个人的最高分")]),i("el-radio",{attrs:{label:"1"},on:{change:t.handleFilter},model:{value:t.listQuery.isSaveMaxScore,callback:function(e){t.$set(t.listQuery,"isSaveMaxScore",e)},expression:"listQuery.isSaveMaxScore"}},[t._v("是")]),i("el-radio",{attrs:{label:"0"},on:{change:t.handleFilter},model:{value:t.listQuery.isSaveMaxScore,callback:function(e){t.$set(t.listQuery,"isSaveMaxScore",e)},expression:"listQuery.isSaveMaxScore"}},[t._v("否")])],1)],1),i("div",{staticClass:"panel-body",staticStyle:{width:"100%",height:"calc(100% - 190px)"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"",height:"100%","default-sort":{prop:"id",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),i("el-table-column",{attrs:{label:"姓名",prop:"personName",align:"left"}}),i("el-table-column",{attrs:{label:"工号",prop:"jobCode",align:"left","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"状态",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(0==i.isAttend?"未参加":0==i.isSubmit?" 未交卷":" 已交卷")+" ")]}}])}),i("el-table-column",{attrs:{label:"分数",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(0==i.isAttend||0==i.isSubmit?" -":i.totalScore)+" ")]}}])}),i("el-table-column",{attrs:{label:"排名",prop:"range",align:"left"}}),i("el-table-column",{attrs:{label:"考试次数",align:"left",prop:"num"}}),i("el-table-column",{attrs:{label:"用时",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(null!==i.time?i.time+"m":"-")+" ")]}}])}),i("el-table-column",{attrs:{label:"交卷时间",prop:"submitTime",align:"left",width:"200"}}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"100px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDetail(a)}}},[t._v("查看详情")])]}}])})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)],1),t.analyseList.length?i("el-tab-pane",{attrs:{label:"答题分析",name:"Analysis"}},t._l(t.analyseList,(function(e,a){return i("div",{key:e.id,staticStyle:{"margin-bottom":"20px"}},[i("label",{staticStyle:{"margin-bottom":"0"}},[i("span",[t._v(t._s(a+1)+".")]),i("span",{staticStyle:{"white-space":"normal","word-break":"break-all",margin:"0 5px"}},[t._v(t._s(e.question))]),i("span",[t._v("["+t._s(t._f("filterType")(e.type))+"]")]),i("span",{staticStyle:{"font-weight":"400","margin-left":"15px"}},[t._v("("+t._s(e.paperScore)+"分)")])]),i("table",{staticClass:"fxTabal table table-striped table-hover",staticStyle:{"margin-top":"10px"}},[i("thead",[i("tr",[i("th",[t._v(t._s("5"==e.type?"关键字":"选项"))]),i("th",{staticStyle:{width:"130px"}},[t._v("小计")]),i("th",{staticStyle:{width:"200px"}},[t._v("比例")])])]),"5"!=e.type?i("tbody",[t._l(e.optionDetail,(function(a,s){return i("tr",{key:s},[1==e.type||2==e.type?i("td",[i("span",{class:{active:-1!=e.answerList.indexOf(t.options[s])}},[t._v(t._s(t.options[s])+" ")]),i("span",{class:{active:-1!=e.answerList.indexOf(t.options[s])},staticStyle:{"margin-left":"10px"}},[t._v(t._s(a.optionContent))])]):t._e(),3==e.type?i("td",[i("span",{class:{active:-1!=e.answerList.indexOf(t.options[s])},staticStyle:{"margin-left":"10px"}},[t._v(t._s(0==s?"对":"错"))])]):t._e(),i("td",[i("span",{class:{active:-1!=e.answerList.indexOf(t.options[s])}},[t._v(t._s(a.count))])]),i("td",[i("el-progress",{attrs:{percentage:a.countRate}})],1)])})),i("tr",[i("td",[t._v("正确率")]),i("td",[t._v(t._s(e.correctRate))]),i("td")])],2):i("tbody",[t._l(e.optionDetail,(function(e,a){return i("tr",{key:a},[i("td",[t._v(t._s(e.optionContent))]),i("td",[t._v(t._s(e.count))]),i("td",[i("el-progress",{attrs:{percentage:e.countRate}})],1)])})),i("tr",[i("td",[t._v("正确率")]),i("td",[t._v(t._s(e.correctRate))]),i("td")])],2)])])})),0):t._e()],1)]],2)]),i("Uploadform",{ref:"dialogFormVisible",attrs:{item:t.form}})],1)},s=[],r=(i("f548"),i("6d57"),i("9a33"),i("7528")),n=i("6724"),o=i("333d"),l=i("60b8"),c=i("fe8d"),u=i("7902"),d=(i("31a6").Base64,{components:{Pagination:o["a"],Uploadform:c["default"],EditTest:u["default"]},directives:{waves:n["a"]},filters:{filterType:function(t){switch(t){case 1:return"单选题";case 2:return"多选题";case 3:return"判断题";case 5:return"问答题"}}},mixins:[l["a"]],data:function(){return{activeName:"set",ids:"",groupList:[],courseList:[],tableKey:0,list:[],test:{},total:0,analyseList:[],listLoading:!0,listQuery:{pageIndex:0,currentPage:1,pageSize:10,params:"",examineId:"",isSaveMaxScore:"0"},listQueryCopy:{pageIndex:0,currentPage:1,pageSize:10,id:""},form:{},resolveObj:{passRate:null,passCount:null,maxScore:null,attendCount:null,avgScore:null,minScore:null},options:[]}},mounted:function(){var t=this;this.listQueryCopy.id=this.$route.query.id-0,this.listQuery.id=this.$route.query.id-0,this.test.id=this.$route.query.id-0,this.getList(),Object(r["d"])(this.listQueryCopy).then((function(e){t.test=e.data.data[0],t.test.date=[new Date(t.test.startTime),new Date(t.test.endTime)],t.test.personIds&&(t.selectStuList=t.test.personIds.split(",")),t.test.testreport&&(t.testreport=JSON.parse(t.test.testreport)),t.$set(t,"test",e.data.data[0])})),Object(r["f"])(this.test.id).then((function(e){e.data&&(t.analyseList=e.data.subjectDetail||[]),t.analyseList.length&&t.analyseList.forEach((function(t){t.optionDetail&&t.optionDetail.length&&t.optionDetail.forEach((function(t){t.countRate&&(t.countRate=t.countRate.replace(/%/g,"")-0)})),"5"!=t.type?t.answerList=t.answer.split("$"):(t.answerList=t.answer,t.keyWord&&(t.keyWordList=JSON.parse(t.keyWord)))}))})),this.options=this.generateCode()},activated:function(){var t=this;this.listQueryCopy.id=this.$route.query.id-0,this.listQuery.id=this.$route.query.id-0,this.test.id=this.$route.query.id-0,this.getList(),Object(r["d"])(this.listQueryCopy).then((function(e){t.test=e.data.data[0],t.test.date=[new Date(t.test.startTime),new Date(t.test.endTime)],t.test.personIds&&(t.selectStuList=t.test.personIds.split(",")),t.test.testreport&&(t.testreport=JSON.parse(t.test.testreport)),t.$set(t,"test",e.data.data[0])})),Object(r["f"])(this.test.id).then((function(e){e.data&&(t.analyseList=e.data.subjectDetail||[]),t.analyseList.length&&t.analyseList.forEach((function(t){t.optionDetail&&t.optionDetail.length&&t.optionDetail.forEach((function(t){t.countRate&&(t.countRate=t.countRate.replace(/%/g,"")-0)})),"5"!=t.type?t.answerList=t.answer.split("$"):(t.answerList=t.answer,t.keyWord&&(t.keyWordList=JSON.parse(t.keyWord)))}))})),this.options=this.generateCode()},methods:{resetQuery:function(){this.listQuery={pageIndex:0,currentPage:1,pageSize:10,examineId:"",isSaveMaxScore:"0",params:""}},getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,this.listQuery.examineId=this.test.id,Object(r["e"])(this.listQuery).then((function(e){e.data&&(t.list=e.data.pageResult.data,t.total=e.data.pageResult.totalCount,t.resolveObj=e.data),t.listLoading=!1}))},generateCode:function(){for(var t=[],e=65;e<91;e++)t.push(String.fromCharCode(e));return t},handleClick:function(t,e){},downloadFile:function(){window.location.href="/ovu-zuul/ovu-mooc/api/v1/newknowledge/result/export?examineId="+this.test.id},handleDetail:function(t){var e=this;Object(r["g"])(t.id).then((function(t){e.form=t.data})),this.$nextTick((function(){var t=e.$refs["dialogFormVisible"];t.dialog=!0}))},handleTestNum:function(){},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){deleteRow(t.id).then((function(t){e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.handleFilter()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleDeleteAll:function(){var t=this,e=this;this.$confirm("此操作将永久删除选中记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){deleteRow(e.ids).then((function(e){t.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),t.handleFilter()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(t){t&&t.length?this.ids=t.reduce((function(t,e){return t.push(e.id),t}),[]).join(","):this.ids=""},keepHighest:function(){var t=this;this.$confirm("此操作根据身份标识[手机]判决答卷归属于哪个学员,并只保留每个学员有效答卷中总分最高的答卷,其他答卷判为无效, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){deleteRow(that.ids).then((function(e){t.$notify({title:"Success",message:"操作成功!",type:"success",duration:2e3}),t.handleFilter()}))})).catch((function(){t.$message({type:"info",message:"已取消操作"})}))}}}),p=d,m=(i("68fb"),i("9ca4")),h=Object(m["a"])(p,a,s,!1,null,"74b9f6d9",null);e["default"]=h.exports},"6d93":function(t,e,i){"use strict";i.r(e);var a=i("6e6d");e["default"]=new a["default"]},"6df0":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:"详情",width:"40%",visible:t.dialog,"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(e){t.dialog=e}}},[i("el-form",{ref:"form",attrs:{model:t.item,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"题型",prop:"type"}},[i("el-select",{attrs:{disabled:""},model:{value:t.item.type,callback:function(e){t.$set(t.item,"type",e)},expression:"item.type"}},t._l(t.types,(function(t){return i("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1),i("el-form-item",{attrs:{label:"知识体系分类"}},[i("div",{staticClass:"pro-sty"},[i("el-input",{attrs:{"read-only":""},model:{value:t.item.hierarchyClassificationName,callback:function(e){t.$set(t.item,"hierarchyClassificationName",e)},expression:"item.hierarchyClassificationName"}})],1)]),i("el-form-item",{attrs:{label:"题干",prop:"question"}},[i("el-input",{attrs:{"read-only":""},model:{value:t.item.question,callback:function(e){t.$set(t.item,"question",e)},expression:"item.question"}})],1),i("div",{staticClass:"subjectPanel",staticStyle:{"margin-left":"120px"}},[1==t.item.type?i("div",t._l(t.item.optionDetail,(function(e,a){return i("div",{key:a,staticClass:"subjectPanel_item"},[i("el-radio",{attrs:{label:t.options[a],value:t.options[a],disabled:""},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}}),i("el-input",{class:{showErroMsg:e.showErroMsg},attrs:{readonly:""},model:{value:e.optionContent,callback:function(i){t.$set(e,"optionContent",i)},expression:"option.optionContent"}})],1)})),0):t._e(),2==t.item.type?i("div",[i("div",{staticClass:"subjectPanel_item"},[i("el-checkbox-group",{model:{value:t.item.answerList,callback:function(e){t.$set(t.item,"answerList",e)},expression:"item.answerList"}},t._l(t.item.optionDetail,(function(e,a){return i("el-checkbox",{key:a,staticClass:"type2",attrs:{label:t.options[a],value:t.options[a],disabled:""}},[i("span",{class:{active:-1!=t.item.answerList.join(",").indexOf(t.options[a])}},[t._v(t._s(t.options[a])+" ")]),i("el-input",{attrs:{required:"",readonly:""},model:{value:e.optionContent,callback:function(i){t.$set(e,"optionContent",i)},expression:"option.optionContent"}})],1)})),1),i("div")],1)]):t._e(),3==t.item.type?i("div",[i("div",[i("el-radio",{staticClass:"subjectPanel_item",staticStyle:{width:"calc(100% - 200px)"},attrs:{label:t.options[0],disabled:""},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}},[i("span",{class:{active:"A"==t.item.answer}},[t._v("对")])])],1),i("div",{staticClass:"subjectPanel_item"},[i("el-radio",{staticStyle:{width:"calc(100% - 200px)"},attrs:{label:t.options[1],disabled:""},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}},[i("span",{class:{active:"B"==t.item.answer}},[t._v("错")])])],1)]):t._e()]),5==t.item.type?i("el-form-item",{attrs:{label:"答案",prop:"answer"}},[i("el-input",{attrs:{type:"textarea",readonly:""},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}})],1):t._e(),i("el-form-item",{attrs:{label:"解析"}},[i("el-input",{attrs:{type:"textarea",readonly:""},model:{value:t.item.analysis,callback:function(e){t.$set(t.item,"analysis",e)},expression:"item.analysis"}})],1),5==t.item.type?i("div",t._l(t.item.keyWordList,(function(e,a){return i("el-form-item",{key:a,attrs:{label:"关键词"+(a+1)}},[i("el-input",{staticClass:"keywords",attrs:{readonly:""},model:{value:e.synonym,callback:function(i){t.$set(e,"synonym",i)},expression:"k.synonym"}}),i("el-input-number",{staticClass:"weight",attrs:{controls:!1,readonly:""},model:{value:e.weight,callback:function(i){t.$set(e,"weight",i)},expression:"k.weight"}}),i("span",{staticStyle:{"margin-left":"-10px","margin-right":"15px"}},[t._v("%")])],1)})),1):t._e(),"5"!=t.item.type?i("el-form-item",{attrs:{label:"正确答案"}},["3"!=t.item.type?i("label",[t._v(t._s(t.item.answerList?t.item.answerList.join(","):t.item.answer))]):i("label",[t._v(t._s("A"==t.item.answer?"对":"错"))])]):t._e()],1)],1)],1)},s=[],r={props:["item","types"],data:function(){return{answer:"",options:[],dialog:!1}},created:function(){this.options=this.generateCode()},methods:{generateCode:function(){for(var t=[],e=65;e<91;e++)t.push(String.fromCharCode(e));return t}}},n=r,o=(i("180d"),i("9ca4")),l=Object(o["a"])(n,a,s,!1,null,"78551029",null);e["default"]=l.exports},"6e0c":function(t,e,i){},"6e23":function(t,e,i){},"730e":function(t,e,i){"use strict";var a=i("4d9e"),s=i.n(a);s.a},7528:function(t,e,i){"use strict";i.d(e,"d",(function(){return s})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"e",(function(){return l})),i.d(e,"g",(function(){return c})),i.d(e,"f",(function(){return u}));var a=i("b775");function s(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/examine/list",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/examine/edit",method:"post",data:t})}function n(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/examine/publish",method:"get",params:t})}function o(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/examine/delete?ids=".concat(t),method:"get"})}function l(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/result/list",method:"get",params:t})}function c(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/result/info?resultId=".concat(t),method:"get"})}function u(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/result/analyse?examineId=".concat(t),method:"get"})}},"75b5":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-tabs",{attrs:{type:"card"}},[i("el-tab-pane",{attrs:{label:"课程列表"}},[i("List")],1),i("el-tab-pane",{attrs:{label:"课程分类"}},[i("Classify")],1)],1)],1)},s=[],r=(i("555e"),i("6724")),n=i("60bc"),o=i("4765"),l={components:{List:n["default"],Classify:o["default"]},directives:{waves:r["a"]},data:function(){return{}}},c=l,u=(i("33b3"),i("9ca4")),d=Object(u["a"])(c,a,s,!1,null,"09fbf5f6",null);e["default"]=d.exports},7902:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"app-container"},[i("el-page-header",{attrs:{content:t.form.id?"编辑测评":"新增测评",title:"返回"},on:{back:function(e){return t.$router.go(-1)}}}),i("el-form",{ref:"form",staticStyle:{"margin-top":"15px"},attrs:{model:t.form,"label-width":"120px",rules:t.rules}},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"el-card-header-title"},[t._v("基本设置")])]),i("div",[i("div",{staticClass:"inline_block"},[i("div",[i("el-form-item",{staticClass:"inline_block",attrs:{label:"测评项目",prop:"projectObj"}},[i("el-select",{staticStyle:{"margin-right":"5px"},attrs:{placeholder:"请选择-测评项目",filterable:"","value-key":"id"},on:{change:function(e){return t.chooseProject(t.form.projectObj)}},model:{value:t.form.projectObj,callback:function(e){t.$set(t.form,"projectObj",e)},expression:"form.projectObj"}},t._l(t.projectList,(function(t){return i("el-option",{key:t.id,attrs:{value:t,label:t.name}})})),1)],1),i("el-form-item",{staticClass:"inline_block",attrs:{label:"测评名称",prop:"text"}},[i("el-input",{attrs:{type:"text",placeholder:"最多可输入32个字符"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1)],1),i("div",[i("el-form-item",{staticClass:"inline_block",attrs:{label:"关联课程"}},[i("el-select",{attrs:{filterable:"",placeholder:"选择课程","value-key":"id",clearable:""},on:{change:function(e){return t.checkCourse(t.form.courseObj)},clear:t.clearObj},model:{value:t.form.courseObj,callback:function(e){t.$set(t.form,"courseObj",e)},expression:"form.courseObj"}},t._l(t.list,(function(t){return i("el-option",{key:t.id,attrs:{value:t,label:t.coursename}})})),1)],1),i("el-form-item",{staticClass:"inline_block",attrs:{label:"有效期",prop:"date"}},[i("el-date-picker",{attrs:{type:"datetimerange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{blur:function(e){return t.$forceUpdate()}},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),i("el-form-item",{attrs:{label:"测评类型",prop:"type"}},[i("el-radio",{attrs:{label:1,disabled:1==t.type||2==t.type},on:{change:t.changeType},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[t._v("公开")]),i("el-radio",{attrs:{label:2},on:{change:t.changeType},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[t._v("私有")]),i("el-radio",{attrs:{label:3,disabled:1==t.type},on:{change:t.changeType},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[t._v("邀请")])],1)],1),t.form.courseid&&2==t.form.type&&3!=t.type?i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addStudent()}}},[t._v("添加学员")])],1):t._e()],1),i("div",{staticClass:"inline_block",staticStyle:{"vertical-align":"top"}},[i("el-form-item",{staticClass:"inline_block",attrs:{label:"封面",prop:"coverimage"}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.baseUrl,"show-file-list":!1,"auto-upload":!1,"on-change":t.uploadFileMethodAnswer,"on-success":t.handleAvatarSuccess}},[t.form.coverimage?i("img",{staticClass:"avatar",attrs:{src:t.processImgUrl(t.form.coverimage)}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),t.form.coverimage?i("i",{staticClass:"el-icon-close",staticStyle:{position:"absolute","z-index":"8",right:"10px","font-size":"16px"},on:{click:function(e){return t.removeImg(e)}}}):t._e(),i("div",{staticClass:"el-upload__tip",staticStyle:{color:"red","margin-top":"0"},attrs:{slot:"tip"},slot:"tip"},[t._v(" 建议尺寸:210px*120px ")])])],1)],1)])]),i("el-card",{staticClass:"box-card",staticStyle:{margin:"15px 0"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"el-card-header-title"},[t._v("选择试卷")])]),i("div",[i("el-form-item",{attrs:{label:"选择试卷",prop:"paperId"}},[i("el-select",{attrs:{placeholder:"选择试卷"},on:{change:function(e){return t.$forceUpdate()}},model:{value:t.form.paperId,callback:function(e){t.$set(t.form,"paperId",e)},expression:"form.paperId"}},t._l(t.paperList,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.text}})})),1)],1),i("el-form-item",{attrs:{label:"考试次数",prop:"count"}},[i("el-input-number",{staticStyle:{width:"178px"},attrs:{min:0,controls:!1},model:{value:t.form.count,callback:function(e){t.$set(t.form,"count",t._n(e))},expression:"form.count"}}),i("span",{staticClass:"test_tip"},[t._v("0次表示无限制")])],1),i("el-form-item",{attrs:{label:"考试时长",prop:"time"}},[i("el-input-number",{staticStyle:{width:"178px"},attrs:{min:0,controls:!1},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",t._n(e))},expression:"form.time"}}),i("span",{staticClass:"test_tip"},[t._v("0分钟表示无限制")])],1),i("el-form-item",{attrs:{label:"通过条件",prop:"passcondition"}},[i("el-select",{attrs:{placeholder:"请选择-通过条件"},model:{value:t.form.passcondition,callback:function(e){t.$set(t.form,"passcondition",e)},expression:"form.passcondition"}},t._l(t.conditions,(function(t){return i("el-option",{key:t.label,attrs:{label:t.label,value:t.value}})})),1)],1),i("el-form-item",{attrs:{label:"是否显示答案",prop:"isPublic"}},[i("el-radio",{attrs:{label:1},model:{value:t.form.isPublic,callback:function(e){t.$set(t.form,"isPublic",e)},expression:"form.isPublic"}},[t._v("显示")]),i("el-radio",{attrs:{label:0},model:{value:t.form.isPublic,callback:function(e){t.$set(t.form,"isPublic",e)},expression:"form.isPublic"}},[t._v("不显示")])],1)],1)]),i("el-card",{staticClass:"box-card",staticStyle:{margin:"15px 0"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"el-card-header-title"},[t._v("测评报告")])]),i("div",[t._l(t.testreport,(function(e,a){return i("div",{key:a},[i("label",{staticClass:"el-form-item__label",staticStyle:{"margin-left":"87px"}},[t._v("规则"+t._s(a+1))]),i("label",{staticClass:"el-form-item__label",staticStyle:{"margin-left":"87px"}},[t._v("得分")]),i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.rule,callback:function(i){t.$set(e,"rule",i)},expression:"item.rule"}},t._l(t.symbol,(function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})})),1),i("el-input",{staticStyle:{width:"178px",margin:"0 10px"},attrs:{type:"number",min:"0",placeholder:"请输入分值"},model:{value:e.score,callback:function(i){t.$set(e,"score",t._n(i))},expression:"item.score"}}),i("label",{staticClass:"el-form-item__label",staticStyle:{clear:"both",float:"none","margin-left":"15px"}},[t._v("评论内容")]),i("el-input",{staticStyle:{width:"calc(100% - 859px)",margin:"0 10px"},attrs:{placeholder:"请输入内容"},model:{value:e.content,callback:function(i){t.$set(e,"content",i)},expression:"item.content"}}),i("el-button",{on:{click:function(i){return t.delIrule(e)}}},[t._v("-")]),i("el-divider")],1)})),i("el-button",{staticClass:"addButtom",attrs:{type:"default",size:"medium"},on:{click:t.addRule}},[t._v("+新增规则")])],2)]),i("el-card",{staticClass:"box-card",staticStyle:{margin:"15px 0"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"el-card-header-title"},[t._v("其他设置")])]),i("div",[i("el-form-item",{attrs:{label:"测评须知",prop:"beforenotice"}},[i("el-input",{attrs:{placeholder:"最多可输入200个字符"},model:{value:t.form.beforenotice,callback:function(e){t.$set(t.form,"beforenotice",e)},expression:"form.beforenotice"}})],1),i("el-form-item",{attrs:{label:"测后说明",prop:"afterexplain"}},[i("el-input",{attrs:{placeholder:"最多可输入200个字符"},model:{value:t.form.afterexplain,callback:function(e){t.$set(t.form,"afterexplain",e)},expression:"form.afterexplain"}})],1)],1)])],1),i("div",{staticClass:"dialog-footer text-center",staticStyle:{margin:"15px 0"}},[i("el-button",{on:{click:t.cancel}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateData()}}},[t._v("确定")])],1)],1),i("Crop",{ref:"dialogCropVisible",attrs:{"img-url":t.optionImg,"auto-crop-height":120,"auto-crop-width":210,"img-height":t.imgHeight,"img-width":t.imgWidth,"img-file":t.imgFile},on:{imgUrl:t.getUrl}}),t.form.courseid?i("Student",{ref:"dialogStudentVisible",attrs:{id:t.form.courseid,"stu-list":t.stuList},on:{changStu:t.changStu}}):t._e()],1)},s=[],r=(i("9a33"),i("cc57"),i("6d57"),i("6724")),n=(i("333d"),i("60b8"),i("555e")),o=i("3d70"),l=i("7528"),c=i("0aff"),u=i("1def"),d=i("6d93"),p=i("0c38"),m=i("31a6").Base64,h={directives:{waves:r["a"]},components:{Crop:c["default"],Student:u["default"]},data:function(){return{conditions:[{value:1,label:"提交试卷"},{value:2,label:"分数达标"}],project:{},projectList:[],selectStuList:[],testreport:[],list:[],total:0,loading:!1,form:{text:"",project:"",projectid:"",course:"",courseObj:{},startTime:"",endTime:"",type:1,ids:"",count:"",time:0,passcondition:2,isPublic:0,testreport:"",beforenotice:"",afterexplain:"",isRestrict:"",coverimage:"",date:"",projectObj:{},paperId:""},symbol:[">","<","="],type:3,queryPaper:{pageIndex:0,currentPage:1,pageSize:1e4,ispublish:1},queryPro:{pageIndex:0,currentPage:1,pageSize:1e4,type:1},query:{pageIndex:0,currentPage:1,pageSize:1e4,status:1},paperList:[],baseUrl:"/ovu-base/uploadImg",imgWidth:0,imgHeight:0,optionImg:"",imgFile:{},stuList:[],rules:{text:[{required:!0,message:"测评名称",trigger:"blur"},{max:32,message:"最多可输入32个字符",trigger:"blur"}],coverimage:[{required:!0,message:"请上传封面",trigger:"change"}],date:[{required:!0,message:"请选择有效期",trigger:"change"}],type:[{required:!0,message:"请选择测评类型",trigger:"change"}],ids:[{required:!0,message:"请选择试卷",trigger:"change"}],time:[{required:!0,message:"请输入考试时长",trigger:"blur"}],count:[{required:!0,message:"请输入考试次数",trigger:"blur"}],passcondition:[{required:!0,message:"请选择通过条件",trigger:"blur"}],isPublic:[{required:!0,message:"请选择是否显示答案",trigger:"change,blur"}],beforenotice:[{max:200,message:"最多可输入200个字符",trigger:"blur"}],afterexplain:[{max:200,message:"最多可输入200个字符",trigger:"blur"}],projectObj:[{required:!0,message:"请选择项目",trigger:"change,blur"}],paperId:[{required:!0,message:"请选择试卷",trigger:"change"}]},listLoading:!1,pickerOptions:{},value2:"",value3:"",listQuery:{pageIndex:0,currentPage:1,pageSize:10,id:""}}},mounted:function(){this.$route.query.info&&(this.project=JSON.parse(m.decode(this.$route.query.info))),localStorage.getItem("id")?(this.listQuery.id=localStorage.getItem("id"),this.getData()):(this.getList(),this.getPro())},activated:function(){this.$route.query.info&&(this.project=JSON.parse(m.decode(this.$route.query.info))),localStorage.getItem("id")?(this.listQuery.id=localStorage.getItem("id"),this.getData()):(this.getList(),this.getPro())},methods:{getList:function(){var t=this;this.query.pageIndex=this.query.currentPage-1,Object(n["o"])(this.query).then((function(e){t.list=e.data.data,t.form.courseid&&t.list.length&&t.list.forEach((function(e){e.id==t.form.courseid&&(t.form.courseObj=e,t.type=e.type,3==t.type&&(t.selectStuList=[],t.stuList=[],t.$forceUpdate(),t.form.personIds=void 0))}))})),Object(o["f"])(this.queryPaper).then((function(e){t.paperList=e.data.data}))},getPro:function(){var t=this;Object(p["c"])(this.queryPro).then((function(e){t.projectList=e.data.data||[];var i={id:-1,name:"默认项目"};t.projectList.unshift(i),t.projectList.length&&t.projectList.forEach((function(e){(t.project&&t.project.id&&e.id==t.project.id||t.form.projectid&&e.id==t.form.projectid)&&(t.form.projectObj=e,t.form.project=e.name,t.form.projectid=e.id)})),t.$forceUpdate()}))},checkCourse:function(t){this.form.courseid=t.id,this.form.course=t.coursename,this.type=t.type,3==this.type?this.form.type=1:this.form.type=2,this.form.personIds=void 0,this.selectStuList=[],this.stuList=[],this.$forceUpdate()},changeType:function(){this.selectStuList=[],this.stuList=[],this.$forceUpdate()},clearObj:function(){this.form.courseid=void 0,this.form.courseObj={},this.form.course="",this.form.type=1,this.form.personIds=void 0,this.selectStuList=[],this.stuList=[],this.$forceUpdate()},addStudent:function(){var t=this;this.$nextTick((function(){var e=t.$refs.dialogStudentVisible;e.dialog=!0}))},changStu:function(t,e){this.selectStuList=t,this.stuList=e,this.$forceUpdate()},chooseProject:function(t){this.form.project=t.name,this.form.projectid=t.id,this.$forceUpdate()},handleAvatarSuccess:function(t,e){this.form.coverimage=t.urls},uploadFileMethodAnswer:function(t){var e=this,i="image/jpeg"===t.raw.type||"image/png"===t.raw.type;if(!i)return this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),!1;this.imgFile=t;var a=new Image;a.src=URL.createObjectURL(t.raw);var s=this;a.onload=function(t){this.width-0>472?this.width<=1e3?(s.imgWidth=this.width,s.imgHeight=this.height):(s.imgWidth=1e3,s.imgHeight=1e3/this.width*this.height):(s.imgWidth=472,s.imgHeight=this.height),this.height-0<258&&(s.imgHeight=258)},this.$nextTick((function(){e.optionImg=URL.createObjectURL(t.raw);var i=e.$refs.dialogCropVisible;i.dialog=!0}))},getUrl:function(t){this.form.coverimage=t,this.$set(this.form,"coverimage",t),this.$forceUpdate()},removeImg:function(t){t.stopPropagation(),this.form.coverimage="",this.$forceUpdate()},addRule:function(){5!=this.testreport.length?this.testreport.push({}):this.$message.error("规则不能超过5个！")},delIrule:function(t){this.testreport.splice(this.testreport.indexOf(t),1),this.$forceUpdate()},cancel:function(){this.form.id?this.getData():this.$router.push("/test/project")},updateData:function(){var t=this;this.form.courseid&&2==this.form.type&&3!=this.type&&0==this.selectStuList.length?this.$message.error("请设置学员"):(2!=this.form.type?(this.selectStuList=[],this.form.personIds=void 0):this.form.courseid||(this.form.personIds=void 0),this.$refs["form"].validate((function(e){if(!e)return!1;0==t.form.count?t.form.isRestrict=0:t.form.isRestrict=1,t.form.startTime=t.moment(new Date(t.form.date[0])).format("YYYY-MM-DD HH:mm:ss"),t.form.endTime=t.moment(new Date(t.form.date[1])).format("YYYY-MM-DD HH:mm:ss"),t.form.ispublish=0,t.selectStuList.length&&(t.form.personIds=t.selectStuList.join(",")),t.form.testreport=JSON.stringify(t.testreport),t.loading=!0,t.form.id||(t.form.ids=t.form.paperId),Object(l["c"])(t.form).then((function(e){0==e.code?(t.$message.success("提交成功"),t.form.id||(t.$refs["form"].clearValidate(),t.$refs["form"].resetFields(),t.$router.push("/test/testList"),d["default"].$emit("getlist"))):(t.$message.error(e.msg),t.$router.push("/test/testList")),t.loading=!1}))})))},getData:function(){var t=this;this.listQuery.pageIndex=this.listQuery.currentPage-1,Object(l["d"])(this.listQuery).then((function(e){t.form=e.data.data[0],t.total=e.data.totalCount,t.form.courseid&&2==t.form.type?(t.stuList=t.form.personList||[],t.form.personIds&&(t.selectStuList=t.form.personIds.split(","))):t.stuList=[],t.stuList.length&&t.stuList.forEach((function(t){t.relationid=t.id})),t.form.date=[new Date(t.form.startTime),new Date(t.form.endTime)],t.form.testreport&&(t.testreport=JSON.parse(t.form.testreport)),t.getList(),t.getPro()})),this.$forceUpdate()}}},f=h,g=(i("18d9"),i("9ca4")),v=Object(g["a"])(f,a,s,!1,null,"d6a6b86e",null);e["default"]=v.exports},"7e73":function(t,e,i){},8129:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.hasanswer?a("div",{staticStyle:{float:"right","margin-bottom":"10px"}},[0==t.item.isRight||2==t.item.isRight?a("img",{staticStyle:{"margin-right":"5px"},attrs:{src:i("a77f"),alt:""}}):t._e(),1==t.item.isRight?a("img",{staticStyle:{"margin-right":"5px"},attrs:{src:i("0f2a"),alt:""}}):t._e(),1==t.item.isRight?a("img",{staticStyle:{"margin-right":"5px"},attrs:{src:i("f13f"),alt:""}}):t._e(),0==t.item.isRight||2==t.item.isRight?a("img",{staticStyle:{"margin-right":"5px"},attrs:{src:i("fa93"),alt:""}}):t._e()]):t._e(),a("div",{staticClass:"question_title",staticStyle:{clear:"both"}},[1==t.item.type?a("span",[t._v(t._s(t.index+1)+". "+t._s(t.item.question)+" ("+t._s(t.item.score)+"分)")]):t._e(),2==t.item.type?a("span",[t._v(" "+t._s(t.index+1-t.countList[0])+". "+t._s(t.item.question)+" ("+t._s(t.item.score)+"分)")]):t._e(),3==t.item.type?a("span",[t._v(" "+t._s(t.index+1-t.countList[0]-t.countList[1])+". "+t._s(t.item.question)+" ("+t._s(t.item.score)+"分)")]):t._e(),5==t.item.type?a("span",[t._v(" "+t._s(t.index+1-t.countList[0]-t.countList[1]-t.countList[2])+". "+t._s(t.item.question)+" ("+t._s(t.item.score)+"分)")]):t._e()]),5!==t.item.type?a("div",{style:{margin:t.hasanswer?"":"10px 0"}},[3!==t.item.type?a("div",{staticClass:"inline_block",staticStyle:{"vertical-align":"text-top","margin-left":"10px",width:"100%"}},[t._l(t.item.optionDetail,(function(e,i){return 1==t.item.type?a("div",{key:i,staticClass:"question_option"},[a("el-radio",{attrs:{label:t.options[i],value:t.options[i],disabled:""},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}}),a("span",{staticClass:"lable_font"},[t._v(".")]),a("div",{staticClass:"question_option_content"},[t._v(t._s(e.optionContent))])],1):t._e()})),2==t.item.type?a("div",[a("el-checkbox-group",{on:{change:function(e){return t.$forceUpdate()}},model:{value:t.item.answerList,callback:function(e){t.$set(t.item,"answerList",e)},expression:"item.answerList"}},t._l(t.item.optionDetail,(function(e,i){return a("el-checkbox",{key:i,staticStyle:{width:"100%"},attrs:{label:t.options[i],value:t.options[i],disabled:""}},[a("span",{staticClass:"lable_font"},[t._v(t._s(t.options[i])+".")]),a("div",{staticClass:"question_option_content"},[t._v(t._s(e.optionContent))])])})),1)],1):t._e()],2):t._e()]):t._e(),a("div",{staticStyle:{background:"#F8F8F8","border-radius":"3px",padding:"15px 30px","margin-bottom":"10px","font-size":"14px"},style:{marginTop:5==t.item.type?"10px":"0"}},[t.hasanswer?a("div",{staticStyle:{"margin-bottom":"5px"}},[t._v(" 学员答案: "),1==t.item.type||4==t.item.type||5==t.item.type?a("span",{staticStyle:{color:"#E87B0F","margin-left":"5px","font-weight":"700"}},[t._v(t._s(t.item.choose))]):t._e(),2==t.item.type?a("span",{staticStyle:{color:"#E87B0F","margin-left":"5px","font-weight":"700"}},[t._v(t._s(t.item.chooseList.join("")))]):t._e(),3==t.item.type?a("span",{staticStyle:{color:"#E87B0F","margin-left":"5px","font-weight":"700"}},[t._v(t._s(t.item.choose?"A"==t.item.choose?"对":"错":""))]):t._e()]):t._e(),5!==t.item.type?a("div",[1==t.item.type?a("div",[t._v(" 正确答案: "),a("span",{staticStyle:{color:"#E87B0F","margin-left":"5px","font-weight":"700"}},[t._v(t._s(t.item.answer))])]):t._e(),2==t.item.type?a("div",[t._v(" 正确答案: "),a("span",{staticStyle:{color:"#E87B0F","margin-left":"5px","font-weight":"700"}},[t._v(t._s(t.item.answerList.join("")))])]):t._e(),3==t.item.type?a("div",[t._v(" 正确答案: "),a("span",{staticStyle:{color:"#E87B0F","margin-left":"5px","font-weight":"700"}},[t._v(t._s("A"==t.item.answer?"对":"错"))])]):t._e()]):a("div",[a("div",[t._v(" 正确答案: "),a("span",{staticStyle:{color:"#E87B0F","margin-left":"5px","font-weight":"700"}},[t._v(t._s(t.item.answer))])]),t._l(t.item.keyWordList,(function(e,i){return a("div",{key:i,staticStyle:{"margin-top":"10px"}},[a("span",{staticStyle:{"margin-right":"30px"}},[t._v("关键词 "+t._s(e.synonym)+" ")]),a("span",[t._v("权重 "+t._s(e.weight)+"%")])])}))],2),t.item.analysis?a("div",{staticStyle:{"margin-top":"5px"}},[t._v(" 解析说明: "),a("span",{staticStyle:{"margin-left":"5px","line-height":"18px"}},[t._v(t._s(t.item.analysis))])]):t._e()])])},s=[];function r(){for(var t=[],e=65;e<91;e++)t.push(String.fromCharCode(e));return t}var n={filters:{filterSubtype:function(t){switch(t){case 1:return"单选题";case 2:return"多选题";case 3:return"判断题";case 5:return"问答题"}}},props:["item","index","countList","hasanswer"],data:function(){return{options:r(),groupList:[],paperClassificationId:"",checkedTypes:[],scoreList:[0,0,0,0],isIndeterminate:!0,scoreData:[],passGrade:0,totalScore:0,types:[{label:"单选题",value:1},{label:"多选题",value:2},{label:"判断题",value:3},{label:"问答题",value:5}],selectSubList:[]}},methods:{}},o=n,l=(i("2de7"),i("9ca4")),c=Object(l["a"])(o,a,s,!1,null,"6e7ff30e",null);e["default"]=c.exports},"815f":function(t,e,i){"use strict";var a=i("5fbc"),s=i.n(a);s.a},"846f":function(t,e,i){},"859c":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("div",{staticClass:"operate-panel"},[i("div",{staticClass:"operate-panel_left"},[i("el-input",{staticClass:"filter-item",attrs:{placeholder:"考试科目名称"},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],1)]),i("div",{staticClass:"box-card"},[i("span",{staticClass:"addProject",on:{click:t.addProject}},[t._v(" + 新增考试科目 ")])]),t._l(t.list,(function(e,a){return i("div",{key:a,staticClass:"box-card"},[i("div",{staticClass:"card_body",on:{click:function(i){return t.goList(e.id)}}},[i("h3",{staticStyle:{"word-break":"break-all"}},[t._v(" "+t._s(e.name)+" ")]),i("div",{staticStyle:{"word-break":"break-all"}},[t._v(" "+t._s(e.describe)+" ")])]),i("div",{staticClass:"card_bottom"},[i("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(i){return t.addTest(e)}}},[t._v("新增考试")]),-1!==e.id?i("el-dropdown",[i("el-link",{staticStyle:{"border-left":"1px solid #ccc",width:"93px"},attrs:{type:"primary",underline:!1}},[t._v("更多"),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{nativeOn:{click:function(i){return t.editPro(e)}}},[t._v("编辑科目")]),i("el-dropdown-item",{nativeOn:{click:function(i){return t.delPro(e)}}},[t._v("删除科目")])],1)],1):t._e()],1)])})),i("div"),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,width:"40%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px",rules:t.rules}},[i("el-form-item",{attrs:{label:"科目名称",prop:"name"}},[i("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),i("el-form-item",{attrs:{label:"科目描述",prop:"describe"}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.form.describe,callback:function(e){t.$set(t.form,"describe",e)},expression:"form.describe"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updateData()}}},[t._v("确认")])],1)],1)],2)])},s=[],r=i("0c38"),n=i("60b8"),o=i("6724"),l=i("31a6").Base64,c={directives:{waves:o["a"]},mixins:[n["a"]],data:function(){return{listQuery:{name:"",type:2},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"更新",create:"新增"},form:{},rules:{name:[{required:!0,message:"请填写名称",trigger:"blur"},{max:32,message:"最多可输入32个字符",trigger:"blur"}],describe:[{max:150,message:"最多可输入150个字符",trigger:"blur"}]},loading:!1,list:[]}},mounted:function(){this.getList()},activated:function(){this.getList()},methods:{resetQuery:function(){this.listQuery={type:2,name:null}},getList:function(){this.listLoading=!0;var t=this;Object(r["c"])(t.listQuery).then((function(e){t.list=e.data.data||[];var i={id:-1,name:"默认科目"};t.list.unshift(i),t.$set(t,"list",t.list),t.listLoading=!1,t.$forceUpdate()}))},resetTemp:function(){this.form={bannerlogo:"",appview:1}},handleCreate:function(){this.$router.push({path:"/paper/addPaper"})},handleUpdate:function(t){var e=this;this.loading=!1,this.$nextTick((function(){e.$refs["form"].clearValidate()})),this.form=Object.assign({},t),this.dialogFormVisible=!0},addProject:function(){var t=this;this.dialogStatus="create",this.dialogFormVisible=!0,this.form={},this.$nextTick((function(){t.$refs["form"].clearValidate()}))},editPro:function(t){var e=this;this.dialogStatus="update",this.dialogFormVisible=!0,this.form=Object.assign({},t),this.$nextTick((function(){e.$refs["form"].clearValidate()}))},delPro:function(t){var e=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["a"])(t.id).then((function(t){0==t.code?(e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.getList()):e.$message.error(res.msg)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},addTest:function(t){localStorage.getItem("examtInfo")&&localStorage.removeItem("examtInfo"),localStorage.getItem("examtid")&&localStorage.removeItem("examtid"),this.$router.push({path:"/exam/addExam",query:{info:l.encode(JSON.stringify(t))}})},goList:function(t){this.$router.push({path:"/exam/examList",query:{id:t}})},updateData:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;t.loading=!0,t.dialogFormVisible=!1,t.form.type=2,Object(r["b"])(t.form).then((function(e){0==e.code?(t.$message.success("提交成功"),t.getList()):t.$message.error(e.msg),t.loading=!1}))}))}}},u=c,d=(i("34eb"),i("9ca4")),p=Object(d["a"])(u,a,s,!1,null,"6ce894f2",null);e["default"]=p.exports},8619:function(t,e,i){"use strict";var a=i("3248"),s=i.n(a);s.a},"86e3":function(t,e,i){"use strict";var a=i("14c2"),s=i.n(a);s.a},"880b":function(t,e,i){"use strict";var a=i("3aa9"),s=i.n(a);s.a},8826:function(t,e,i){"use strict";var a=i("846f"),s=i.n(a);s.a},"882b":function(t,e,i){"use strict";var a=i("e64b"),s=i.n(a);s.a},"89c6":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pro-sty",style:{width:t.width+"px"}},[i("el-input",{attrs:{placeholder:"请选择-知识体系分类",clearable:"","read-only":""},on:{change:t.changeTree},nativeOn:{click:function(e){return t.deptogglePanel(e,"classTree",t.selClassTree)}},model:{value:t.selClassTree.text,callback:function(e){t.$set(t.selClassTree,"text",e)},expression:"selClassTree.text"}}),t.showTree?i("div",{ref:"suoShuMenTree",staticClass:"treeDiv"},[i("el-tree",{ref:"classTree",staticClass:"suoshubumen",attrs:{data:t.treeData,props:t.defaultProps,"node-key":"id","highlight-current":"","expand-on-click-node":!1},on:{"node-click":t.handleNodeClick}})],1):t._e()],1)},s=[],r=i("6724"),n={directives:{waves:r["a"]},props:["treeData","width","defaultProps","selClassTree"],data:function(){return{showTree:!1}},methods:{handleNodeClick:function(t){this.showTree=!1,this.selClassTree.id=t.id,this.selClassTree.text=t.text,this.$emit("handleNodeClick",t)},changeTree:function(){this.$emit("changeTree")},deptogglePanel:function(t,e,i){t||(t=window.event),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.showTree?this.dephide(e,i):this.depshow(e,i)},depshow:function(t,e){var i=this;this.showTree=!0,this.$nextTick((function(){i.$refs[t].setCurrentKey(e.id)})),document.addEventListener("click",this.dephidePanel,!1)},dephide:function(){this.showTree=!1,document.addEventListener("click",this.dephidePanel,!1)},dephidePanel:function(t){this.$refs.suoShuMenTree&&!this.$refs.suoShuMenTree.contains(t.target)&&this.dephide()}}},o=n,l=(i("1b6e"),i("9ca4")),c=Object(l["a"])(o,a,s,!1,null,"f17e46a0",null);e["default"]=c.exports},"8d41":function(t,e,i){},"8f35":function(t,e,i){},"91a5":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-row",{staticStyle:{height:"100%"},attrs:{gutter:20}},[i("el-col",{staticStyle:{height:"100%"},attrs:{span:6}},[i("div",{staticStyle:{"line-height":"30px"}},[i("div",{staticClass:"inline-block tree_title"},[t._v("知识体系分类")]),i("el-link",{staticStyle:{float:"right"},attrs:{type:"primary",underline:!1},on:{click:t.append}},[t._v("+一级分类")]),i("el-divider")],1),i("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}}),i("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:t.data,props:t.defaultProps,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"filter-node-method":t.filterNode},on:{"node-click":t.nodeclick},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node,s=e.data;return i("span",{staticClass:"custom-tree-node"},[1==s.isEdit?[i("el-input",{ref:"input",attrs:{placeholder:"最多可输入32位字符"},nativeOn:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?(e.stopPropagation(),function(){return t.submitEdit(a,s)}()):null}},model:{value:s.text,callback:function(e){t.$set(s,"text",e)},expression:"data.text"}}),i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return e.stopPropagation(),function(){return t.cancelEdit(a,s)}()}}},[i("i",{staticClass:"el-icon-refresh-left"})]),i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return e.stopPropagation(),function(){return t.submitEdit(a,s)}()}}},[i("i",{staticClass:"el-icon-check"})])]:i("span",{staticStyle:{display:"inline-block",width:"100%"},domProps:{textContent:t._s(s.text)}}),1!==s.isEdit&&-1!==s.id?i("span",{staticStyle:{width:"70px","margin-right":"20px"}},[i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return e.stopPropagation(),function(){return t.edit(a,s)}()}}},[i("i",{staticClass:"el-icon-edit"})]),0==s.parentId?i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return e.stopPropagation(),function(){return t.append(a,s)}()}}},[i("i",{staticClass:"el-icon-plus"})]):t._e(),i("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return e.stopPropagation(),function(){return t.remove(a,s)}()}}},[i("i",{staticClass:"el-icon-delete"})])],1):t._e()],2)}}])})],1),i("el-col",{staticStyle:{height:"100%"},attrs:{span:18}},[i("div",{staticClass:"panel-body",staticStyle:{"margin-bottom":"15px"}},[[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),i("div",{staticStyle:{margin:"5px 0"}}),i("el-checkbox-group",{on:{change:t.handleCheckedTypesChange},model:{value:t.checkedTypes,callback:function(e){t.checkedTypes=e},expression:"checkedTypes"}},t._l(t.types,(function(e){return i("el-checkbox",{key:e.value,attrs:{label:e.value,value:e.value}},[t._v(t._s(e.label))])})),1)]],2),i("div",{staticClass:"operate-panel"},[i("div",{staticClass:"operate-panel_left"},[i("el-input",{staticClass:"filter-item",attrs:{placeholder:"输入题干"},model:{value:t.listQuery.question,callback:function(e){t.$set(t.listQuery,"question",e)},expression:"listQuery.question"}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],1),i("div",{staticClass:"operate-panel_right"},[i("el-button",{attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("新增")]),i("el-button",{attrs:{disabled:!t.ids,type:"primary"},on:{click:t.handleMove}},[t._v("移动")]),i("el-button",{attrs:{disabled:!t.ids,type:"primary"},on:{click:t.handleDeleteAll}},[t._v("批量删除")]),i("el-button",{attrs:{type:"primary"},on:{click:t.downloadFile}},[t._v("下载模板")]),i("el-upload",{ref:"upload",staticClass:"upload-demo",staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{action:t.baseUrl,"on-success":t.importTemp,accept:".xls,.xlsx"}},[i("el-button",{attrs:{type:"primary"}},[t._v("导入")])],1)],1)]),i("div",{staticClass:"panel-body",staticStyle:{height:"calc(100% - 174px)"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"",height:"100%","default-sort":{prop:"id",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{label:"类型",prop:"",align:"left","show-overflow-tooltip":"",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(t._f("filterSubtype")(i.type))+" ")]}}])}),i("el-table-column",{attrs:{label:"题干",prop:"question",align:"left","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"创建日期",prop:"createTime",align:"left",width:"200"}}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"200px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDetail(a)}}},[t._v("查看详情")]),i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleUpdate(a)}}},[t._v("编辑")]),i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDelete(a.id)}}},[t._v("删除")])]}}])})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)])],1),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.treeLoading,expression:"treeLoading"}],staticClass:"treeDialog",attrs:{title:"移动分类",visible:t.dialogFormTreeVisible,width:"40%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormTreeVisible=e}}},[i("el-form",{attrs:{"label-width":"120px"}},[i("el-form-item",{attrs:{label:"知识体系分类"}},[i("div",{staticClass:"pro-sty"},[i("el-input",{attrs:{placeholder:"请选择-分类",clearable:"","read-only":""},on:{change:t.changeTree1},nativeOn:{click:function(e){return t.deptogglePanel1(e,"classTree1",t.selClassTree1)}},model:{value:t.hierarchyClassificationName,callback:function(e){t.hierarchyClassificationName=e},expression:"hierarchyClassificationName"}}),t.showTree1?i("div",{ref:"suoShuMenTree1",staticClass:"treeDiv"},[i("el-tree",{ref:"classTree1",staticClass:"suoshubumen",attrs:{data:t.data,props:t.defaultProps,"node-key":"id","highlight-current":"","expand-on-click-node":!1},on:{"node-click":t.handleNodeClick1}})],1):t._e()],1)])],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormTreeVisible=!1}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.moveData()}}},[t._v("确认")])],1)],1),i("Uploadform",{ref:"dialogFormVisible",attrs:{item:t.form,data:t.data,types:t.types,"default-props":t.defaultProps},on:{getList:t.getList}}),i("Showloadform",{ref:"dialogFormShowVisible",attrs:{item:t.form,types:t.types}})],1)},s=[],r=(i("6d57"),i("e204"),i("9a33"),i("3f4b")),n=i("6724"),o=i("333d"),l=i("60b8"),c=i("117b"),u=i("6df0"),d=[{label:"单选题",value:"1"},{label:"多选题",value:"2"},{label:"判断题",value:"3"},{label:"问答题",value:"5"}],p={name:"SubjectManage",components:{Pagination:o["a"],Uploadform:c["default"],Showloadform:u["default"]},directives:{waves:n["a"]},filters:{filterSubtype:function(t){switch(t){case 1:return"单选题";case 2:return"多选题";case 3:return"判断题";case 5:return"问答题"}}},mixins:[l["a"]],data:function(){return{baseUrl:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/subject/importSubject",data:[],ids:"",newText:"",filterText:"",courseList:[],defaultProps:{children:"nodes",label:"text"},dialogFormTreeVisible:!1,hierarchyClassificationName:"",treeLoading:!1,tableKey:0,list:[],total:0,value:!0,listLoading:!0,selClassTree1:{},showTree1:!1,listQuery:{pageIndex:0,currentPage:1,pageSize:10,question:"",hierarchyClassificationId:"",typeList:null},checkAll:!1,checkedTypes:[],types:d,isIndeterminate:!1,form:{}}},watch:{filterText:function(t){this.$refs.tree.filter(t)}},mounted:function(){this.listQuery.typeList?this.checkedTypes=this.listQuery.typeList.split(","):this.checkedTypes=[],this.checkAll=4===this.checkedTypes.length,this.isIndeterminate=this.checkedTypes.length>0&&this.checkedTypes.length<4,this.findTree()},activated:function(){this.listQuery.typeList?this.checkedTypes=this.listQuery.typeList.split(","):this.checkedTypes=[],this.checkAll=4===this.checkedTypes.length,this.isIndeterminate=this.checkedTypes.length>0&&this.checkedTypes.length<4,this.findTree()},methods:{getBlankTmpl:function(t,e){var i=document.createElement("iframe");i.src=t+"?type="+e,i.style.display="none",document.body.appendChild(i)},findTree:function(){var t=this;Object(r["e"])().then((function(e){var i={id:-1,nodes:null,parentId:0,parentName:null,pids:"0",text:"默认分类"};t.data=e.data||[],t.data.unshift(i),t.getList()}))},filterNode:function(t,e){return!t||-1!==e.text.indexOf(t)},resetQuery:function(){this.checkedTypes=[],this.isIndeterminate=!1,this.checkAll=!1,this.listQuery={question:"",pageIndex:0,currentPage:1,pageSize:10,typeList:""}},append:function(t,e){var i={isEdit:1,text:"",nodes:[],parentId:e?e.parentId:"0"};e?(e.nodes||this.$set(e,"nodes",[]),e.nodes.push(i)):this.data.push(i)},remove:function(t,e){var i=this;e.nodes&&e.nodes.length?this.$message.error("此节点有下级节点,不能删除！"):this.$confirm("此操作将永久删除该节点, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["g"])(e.id).then((function(t){0==t.code?(i.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),i.findTree()):i.$message.error(t.msg)}))})).catch((function(){i.$message({type:"info",message:"已取消删除"})}))},edit:function(t,e){var i=this;this.newText=e.text,this.$set(e,"isEdit",1),this.$nextTick((function(){i.$refs.input.focus()}))},submitEdit:function(t,e){this.$set(e,"isEdit",0);var i={text:e.text};e.id?i={text:e.text,id:e.id,parentId:e.parentId}:Array.isArray(t.parent.data)?i.parentId=0:i.parentId=t.parent.data.id,this.updateApiGroup(i,t,e)},cancelEdit:function(t,e){if(e.id)this.$set(e,"text",this.newText),this.$set(e,"isEdit",0);else{var i=[];i=t.parent.data.nodes?t.parent.data.nodes:this.data;var a=i.findIndex((function(t){return t.$treeNodeId==e.$treeNodeId}));i.splice(a,1)}},updateApiGroup:function(t,e,i){var a=this;if(!t.text||""==t.text)return this.$message.error("请填写分类名称!"),void this.cancelEdit(e,t);t.text=t.text.substr(0,32),Object(r["c"])(t).then((function(t){0==t.code?(a.$message.success("提交成功"),a.findTree()):(a.cancelEdit(e,i),a.$message.error(t.msg))}))},nodeclick:function(t,e,i){this.listQuery.hierarchyClassificationId=t.id,this.getList()},getList:function(){var t=this;this.ids="",this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,Object(r["d"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1}))},resetTemp:function(){this.form={type:"1",answer:"A",answerList:["A"],optionDetail:[{optionContent:"",option:"A"},{optionContent:"",option:"B"},{optionContent:"",option:"C"},{optionContent:"",option:"D"}],keyWordList:[]}},handleCreate:function(){var t=this;this.resetTemp(),this.$nextTick((function(){var e=t.$refs["dialogFormVisible"];e.dialog=!0}))},handleCheckAllChange:function(t){this.checkedTypes=t?d&&d.length&&d.reduce((function(t,e){return t.push(e.value),t}),[]):[],this.isIndeterminate=!1,this.listQuery.typeList=this.checkedTypes.join(","),this.getList()},handleCheckedTypesChange:function(t){var e=t.length;this.checkAll=e===this.types.length,this.isIndeterminate=e>0&&e<this.types.length,this.listQuery.typeList=this.checkedTypes.join(","),this.getList()},handleSelectionChange:function(t){t&&t.length?this.ids=t.reduce((function(t,e){return t.push(e.id),t}),[]).join(","):this.ids=""},handleNodeClick1:function(t){this.hierarchyClassificationName=t.text,this.selClassTree1={id:t.id,hierarchyClassificationName:t.text},this.showTree1=!1,this.hierarchyClassificationId=t.id,this.$set(this,"hierarchyClassificationId",t.id),this.$set(this,"hierarchyClassificationName",t.text)},changeTree1:function(){this.hierarchyClassificationName=void 0,this.hierarchyClassificationId=void 0},deptogglePanel1:function(t,e,i){t||(t=window.event),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.showTree1?this.dephide1(e,i):this.depshow1(e,i)},depshow1:function(t,e){var i=this;this.showTree1=!0,this.$nextTick((function(){i.$refs[t].setCurrentKey(e.id)})),document.addEventListener("click",this.dephidePanel1,!1)},dephide1:function(){this.showTree1=!1,document.addEventListener("click",this.dephidePanel1,!1)},dephidePanel1:function(t){this.$refs.suoShuMenTree1&&!this.$refs.suoShuMenTree1.contains(t.target)&&this.dephide1()},setForm:function(t){if(this.form=JSON.parse(JSON.stringify(t)),2==t.type){this.form.answerList=this.form.answer.split("$");var e=[];this.form.answerList.forEach((function(t){-1==e.indexOf(t)&&1==t.length&&e.push(t)})),this.form.answerList=e}5==t.type&&(this.form.keyWordList=JSON.parse(this.form.keyWord)),this.form.type=this.form.type+""},handleUpdate:function(t){var e=this;this.setForm(t),this.$nextTick((function(){var t=e.$refs["dialogFormVisible"];t.dialog=!0}))},handleDetail:function(t){var e=this;this.setForm(t),this.$nextTick((function(){var t=e.$refs["dialogFormShowVisible"];t.dialog=!0}))},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["a"])(t).then((function(t){0==t.code?e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}):e.$message.error(t.msg),e.getList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleDeleteAll:function(){var t=this;this.handleDelete(t.ids)},handleMove:function(){this.dialogFormTreeVisible=!0,this.hierarchyClassificationId="",this.hierarchyClassificationName=""},importTemp:function(t){var e=this;if(t.success)e.$message({type:"success",message:"导入成功！"}),this.findTree();else{var i="";Array.isArray(t.error)?(i="<div>",t.error.forEach((function(t){i+='<div style="line-height: 20px;">'+t+"</div>"})),i+="</div>"):i=t.error,this.$message({showClose:!0,dangerouslyUseHTMLString:!0,message:i,duration:0})}},moveData:function(){var t=this;this.hierarchyClassificationId?(this.treeLoading=!0,Object(r["f"])({subjectIds:this.ids,hierarchyId:this.hierarchyClassificationId}).then((function(e){0==e.code?(t.$notify({title:"Success",message:"操作成功!",type:"success",duration:2e3}),t.getList()):t.$message.error(e.msg),t.treeLoading=!1,t.dialogFormTreeVisible=!1,t.ids=""}))):this.$message.error("请选择分类")},downloadFile:function(){window.location.href="/ovu-zuul/ovu-mooc/api/v1/newknowledge/subject/downloadExcel"}}},m=p,h=(i("3b2a"),i("9ca4")),f=Object(h["a"])(m,a,s,!1,null,"2f7aeb9c",null);e["default"]=f.exports},"932b":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("div",{staticClass:"operate-panel"},[a("div",{staticClass:"operate-panel_left"},[a("el-input",{staticClass:"filter-item",attrs:{placeholder:"讲师姓名"},model:{value:t.listQuery.teachername,callback:function(e){t.$set(t.listQuery,"teachername",e)},expression:"listQuery.teachername"}}),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],1),a("div",{staticClass:"operate-panel_right"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("新增")])],1)]),a("div",{staticClass:"panel-body"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"",height:"100%","default-sort":{prop:"id",order:"descending"}}},[a("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),a("el-table-column",{attrs:{label:"头像",prop:"icon","min-width":"80px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[s.icon?a("el-image",{staticStyle:{width:"70px",height:"50px"},attrs:{src:t.processImgUrl(s.icon),"preview-src-list":s.icon.split(","),fit:"contain"}}):t._e(),s.icon?t._e():a("img",{staticStyle:{width:"70px",height:"50px"},attrs:{src:i("05cf"),alt:""}})]}}])}),a("el-table-column",{attrs:{label:"讲师姓名",prop:"teachername",align:"left","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"讲师级别",prop:"appview",width:"150px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(t._f("filterTeacherlevel")(i.teacherlevel))+" ")]}}])}),a("el-table-column",{attrs:{label:"创建人",prop:"creatorName",align:"left","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"创建时间",prop:"createtime",align:"left"}}),a("el-table-column",{attrs:{label:"排序",prop:"sort",align:"left",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.admin?[0!==e.$index?a("span",{staticClass:"el-icon-top",staticStyle:{cursor:"pointer"},on:{click:function(i){return t.sort(e.$index,"top")}}}):t._e(),e.$index!==t.list.length-1?a("span",{staticClass:"el-icon-bottom",staticStyle:{cursor:"pointer"},on:{click:function(i){return t.sort(e.$index,"bottom")}}}):t._e()]:void 0}}],null,!0)}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"250px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[!i.apprecommand&&i.admin?a("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.recommendApp(i.id)}}},[t._v("APP首页推荐")]):t._e(),i.apprecommand&&i.admin?a("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.unrecommendApp(i.id)}}},[t._v("下架APP推荐")]):t._e(),i.admin||i.oneCompany?a("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleUpdate(i)}}},[t._v("编辑")]):t._e(),i.admin||i.oneCompany?a("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDelete(i)}}},[t._v("删除")]):t._e()]}}])})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[a("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)]),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,width:"40%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px",rules:t.rules}},[a("el-form-item",{attrs:{label:"头像",prop:"icon"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.baseUrl,"show-file-list":!1,"auto-upload":!1,"on-change":t.uploadFileMethodAnswer,"on-success":t.handleAvatarSuccess}},[t.form.icon?a("img",{staticClass:"avatar",attrs:{src:t.processImgUrl(t.form.icon)}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),t.form.icon?a("i",{staticClass:"el-icon-close",staticStyle:{position:"absolute","z-index":"8",right:"10px","font-size":"16px"},on:{click:function(e){return t.removeImg(e)}}}):t._e(),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"red","margin-top":"0"},attrs:{slot:"tip"},slot:"tip"},[t._v(" 建议尺寸302px*442px ")])])],1),a("el-form-item",{attrs:{label:"讲师姓名",prop:"teachername"}},[a("el-input",{model:{value:t.form.teachername,callback:function(e){t.$set(t.form,"teachername",e)},expression:"form.teachername"}})],1),a("el-form-item",{attrs:{label:"讲师级别",prop:"teacherlevel"}},[a("el-select",{attrs:{placeholder:"请选择-讲师级别",filterable:"","value-key":"id",clearable:""},on:{clear:function(e){t.form.teacherlevel=null}},model:{value:t.form.teacherlevel,callback:function(e){t.$set(t.form,"teacherlevel",e)},expression:"form.teacherlevel"}},t._l(t.teacherlevelList,(function(t){return a("el-option",{key:t.type,attrs:{value:t.type,label:t.name}})})),1)],1),a("el-form-item",{attrs:{label:"简介",prop:"briefdesc"}},[a("div",{staticClass:"editor-container"},[a("editor-bar",{model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)]),a("el-form-item",{attrs:{label:"介绍",prop:"description"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{type:"textarea",rows:2},model:{value:t.form.briefdesc,callback:function(e){t.$set(t.form,"briefdesc",e)},expression:"form.briefdesc"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",disabled:t.loading},on:{click:function(e){return t.updateData()}}},[t._v("确认")])],1)],1),a("Crop",{ref:"dialogCropVisible",attrs:{"img-url":t.optionImg,"auto-crop-height":442,"auto-crop-width":302,"img-height":t.imgHeight,"img-width":t.imgWidth,"img-file":t.imgFile},on:{imgUrl:t.getUrl}})],1)},s=[],r=i("b775");function n(t){return Object(r["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocteacher/page",method:"get",params:t})}function o(t){return Object(r["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocteacher/save",method:"post",data:t})}function l(t){return Object(r["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocteacher/delete/".concat(t),method:"get"})}function c(t){return Object(r["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocteacher/recommand",method:"get",params:t})}function u(t){return Object(r["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocteacher/unRecommand",method:"get",params:t})}function d(t){return Object(r["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocteacher/switchSort",method:"get",params:t})}var p=i("6724"),m=i("333d"),h=i("037f"),f=i("60b8"),g=i("0aff"),v={name:"Teacher",components:{Pagination:m["a"],EditorBar:h["a"],Crop:g["default"]},directives:{waves:p["a"]},filters:{filterTeacherlevel:function(t){switch(t){case 1:return"初级";case 2:return"中级";case 3:return"高级";case 4:return"资深"}}},mixins:[f["a"]],data:function(){return{teacherlevelList:[{type:1,name:"初级"},{type:2,name:"中级"},{type:3,name:"高级"},{type:4,name:"资深"}],editorOption:{},formLoading:!1,tableKey:0,list:[],total:0,value:!0,listLoading:!0,listQuery:{pageIndex:0,currentPage:1,pageSize:10,teachername:null},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"更新",create:"新增"},form:{icon:"",appview:1},loading:!1,rules:{teachername:[{required:!0,message:"请填写姓名",trigger:"blur"},{max:50,message:"最多可输入50个字符",trigger:"blur"}],icon:{required:!0,message:"请上传头像",trigger:"change"},appview:{required:!0}},baseUrl:"/ovu-base/uploadImg",option:{img:"",info:!0,outputSize:1,outputType:"jpeg",canScale:!0,autoCrop:!0,fixedBox:!0,fixed:!1,full:!1,canMoveBox:!0,original:!1,centerBox:!0,infoTrue:!1},imgWidth:0,imgHeight:0,optionImg:"",imgFile:{}}},mounted:function(){this.getList()},methods:{resetQuery:function(){this.listQuery={teachername:"",pageIndex:0,currentPage:1,pageSize:10}},getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,n(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1}))},resetTemp:function(){this.form={icon:"",appview:1}},handleCreate:function(){var t=this;this.resetTemp(),this.loading=!1,this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["form"].clearValidate()}))},handleUpdate:function(t){var e=this;this.dialogStatus="update",this.loading=!1,this.$nextTick((function(){e.$refs["form"].clearValidate()})),this.form=Object.assign({},t),this.dialogFormVisible=!0},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l(t.id).then((function(t){0==t.code?(e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.handleFilter()):e.$message.error(t.msg)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},sort:function(t,e){var i=this,a={teacherId1:this.list[t].id};a.teacherId2="top"==e?this.list[t-1].id:this.list[t+1].id,this.$confirm("此操作将进行排序, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){d(a).then((function(t){i.$notify({title:"Success",message:"排序成功!",type:"success",duration:2e3}),i.handleFilter()}))})).catch((function(){i.$message({type:"info",message:"已取消排序"})}))},handleAvatarSuccess:function(t,e){this.form.icon=t.urls,this.$set(this.form,"icon",t.urls)},uploadFileMethodAnswer:function(t){var e=this,i="image/jpeg"===t.raw.type||"image/png"===t.raw.type;if(!i)return this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),!1;this.imgFile=t;var a=new Image;a.src=URL.createObjectURL(t.raw);var s=this;a.onload=function(t){this.width-0>302?this.width<=1e3?(s.imgWidth=this.width,s.imgHeight=this.height):(s.imgWidth=1e3,s.imgHeight=1e3/this.width*this.height):(s.imgWidth=302,s.imgHeight=this.height),this.height-0<442&&(s.imgHeight=442)},this.$nextTick((function(){e.optionImg=URL.createObjectURL(t.raw);var i=e.$refs.dialogCropVisible;i.dialog=!0}))},getUrl:function(t){this.form.icon=t},removeImg:function(t){t.stopPropagation(),this.form.icon=""},updateData:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;t.loading=!0,t.dialogFormVisible=!1,o(t.form).then((function(e){0==e.code?(t.$message.success("提交成功"),t.getList()):t.$message.error(e.msg),t.loading=!1}))}))},recommendApp:function(t){var e=this;this.$confirm("此操作将进行APP推荐, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){c({id:t}).then((function(t){e.$notify({title:"Success",message:"推荐成功!",type:"success",duration:2e3}),e.handleFilter()}))})).catch((function(){e.$message({type:"info",message:"已取消推荐"})}))},unrecommendApp:function(t){var e=this;this.$confirm("此操作将下架APP推荐, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){u({id:t}).then((function(t){e.$notify({title:"Success",message:"下架成功!",type:"success",duration:2e3}),e.handleFilter()}))})).catch((function(){e.$message({type:"info",message:"已取消下架"})}))}}},y=v,b=(i("dcbf"),i("9ca4")),x=Object(b["a"])(y,a,s,!1,null,"1daeda00",null);e["default"]=x.exports},"94e5":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"newAddCourse-index"},[i("router-view"),i("p",[t._v("选择类型")]),t._m(0),i("div",{staticClass:"courseTitle"},[i("p",{staticStyle:{float:"left"}},[t._v("课程标题")]),i("el-input",{staticStyle:{width:"50%","margin-left":"40px"},attrs:{placeholder:"最多50个字",clearable:""},model:{value:t.courseTitle,callback:function(e){t.courseTitle=e},expression:"courseTitle"}})],1),i("div",{staticClass:"courseImg"},[i("p",[t._v("课程封面")]),i("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?i("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload"},[a("div",{staticClass:"left"},[a("img",{attrs:{src:i("a1eb"),alt:""}})])])}],r={name:"NewAddCourse",data:function(){return{courseTitle:"",imageUrl:""}},methods:{handleAvatarSuccess:function(t,e){this.imageUrl=URL.createObjectURL(e.raw)},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,i=t.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),i||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&i}}},n=r,o=(i("4c08"),i("9ca4")),l=Object(o["a"])(n,a,s,!1,null,"3b62e5e9",null);e["default"]=l.exports},"96a3":function(t,e,i){"use strict";var a=i("bb24"),s=i.n(a);s.a},"970f":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("div",{staticClass:"operate-panel"},[a("div",{staticClass:"operate-panel_left"},[a("el-input",{staticClass:"filter-item",attrs:{placeholder:"标题"},model:{value:t.listQuery.bannername,callback:function(e){t.$set(t.listQuery,"bannername",e)},expression:"listQuery.bannername"}}),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],1),a("div",{staticClass:"operate-panel_right"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("新增")])],1)]),a("div",{staticClass:"panel-body"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"",height:"100%","default-sort":{prop:"id",order:"descending"}}},[a("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),a("el-table-column",{attrs:{label:"标题",prop:"bannername",align:"left","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"关联课程",prop:"courseName",align:"left"}}),a("el-table-column",{attrs:{label:"图片",prop:"bannerlogo","min-width":"80px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[s.bannerlogo?a("el-image",{staticStyle:{width:"70px",height:"50px"},attrs:{src:t.processImgUrl(s.bannerlogo),"preview-src-list":s.bannerlogo.split(","),fit:"contain"}}):t._e(),s.bannerlogo?t._e():a("img",{staticStyle:{width:"70px",height:"50px"},attrs:{src:i("05cf"),alt:""}})]}}])}),a("el-table-column",{attrs:{label:"App是否可见",prop:"appview",width:"150px",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(1==i.appview?"是":"否")+" ")]}}])}),a("el-table-column",{attrs:{label:"排序",prop:"sort",align:"left",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!==e.$index?a("span",{staticClass:"el-icon-top",staticStyle:{cursor:"pointer"},on:{click:function(i){return t.sort(e.$index,"top")}}}):t._e(),e.$index!==t.list.length-1?a("span",{staticClass:"el-icon-bottom",staticStyle:{cursor:"pointer"},on:{click:function(i){return t.sort(e.$index,"bottom")}}}):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"160px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleUpdate(i)}}},[t._v("编辑")]),a("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDelete(i)}}},[t._v("删除")])]}}])})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[a("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)]),a("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,width:"40%","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"120px",rules:t.rules}},[a("el-form-item",{attrs:{label:"标题",prop:"bannername"}},[a("el-input",{model:{value:t.form.bannername,callback:function(e){t.$set(t.form,"bannername",e)},expression:"form.bannername"}})],1),a("el-form-item",{attrs:{label:"关联课程",prop:"courseid"}},[a("el-select",{attrs:{placeholder:"请选择-关联课程",filterable:"","value-key":"id"},model:{value:t.form.courseid,callback:function(e){t.$set(t.form,"courseid",e)},expression:"form.courseid"}},t._l(t.courseList,(function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.coursename}})})),1)],1),a("el-form-item",{attrs:{label:"logo",prop:"bannerlogo"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.baseUrl,"show-file-list":!1,"auto-upload":!1,"on-change":t.uploadFileMethodAnswer,"on-success":t.handleAvatarSuccess}},[t.form.bannerlogo?a("img",{staticClass:"avatar",attrs:{src:t.processImgUrl(t.form.bannerlogo)}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),t.form.bannerlogo?a("i",{staticClass:"el-icon-close",staticStyle:{position:"absolute","z-index":"8",right:"10px","font-size":"16px"},on:{click:function(e){return t.removeImg(e)}}}):t._e(),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"red","margin-top":"0"},attrs:{slot:"tip"},slot:"tip"},[t._v(" 建议尺寸990px*396px ")])])],1),a("el-form-item",{attrs:{label:"APP是否可见",prop:"appview"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ccc"},model:{value:t.form.appview,callback:function(e){t.$set(t.form,"appview",e)},expression:"form.appview"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",disabled:t.loading},on:{click:function(e){return t.updateData()}}},[t._v("确认")])],1)],1),a("Crop",{ref:"dialogCropVisible",attrs:{"img-url":t.optionImg,"auto-crop-height":396,"auto-crop-width":990,"img-height":t.imgHeight,"img-width":t.imgWidth,"img-file":t.imgFile},on:{imgUrl:t.getUrl}})],1)},s=[],r=i("b775");function n(t){return Object(r["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocbanner/page",method:"get",params:t})}function o(t){return Object(r["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocbanner/save",method:"post",data:t})}function l(t){return Object(r["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocbanner/delete/".concat(t),method:"get"})}function c(t){return Object(r["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/moocbanner/switchSort",method:"get",params:t})}var u=i("555e"),d=i("6724"),p=i("333d"),m=i("60b8"),h=i("0aff"),f={name:"BannerMange",components:{Pagination:p["a"],Crop:h["default"]},directives:{waves:d["a"]},mixins:[m["a"]],data:function(){return{courseList:[],tableKey:0,list:[],total:0,value:!0,listLoading:!0,listQuery:{pageIndex:0,currentPage:1,pageSize:10,bannername:""},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"更新",create:"新增"},form:{bannerlogo:"",appview:1},loading:!1,rules:{bannername:[{required:!0,message:"请填写标题",trigger:"blur"},{max:50,message:"最多可输入50个字符",trigger:"blur"}],bannerlogo:{required:!0,message:"请上传图片",trigger:"change"},appview:{required:!0}},baseUrl:"/ovu-base/uploadImg",imgWidth:0,imgHeight:0,optionImg:"",imgFile:{}}},mounted:function(){this.getList()},methods:{resetQuery:function(){this.listQuery={bannername:"",pageIndex:0,currentPage:1,pageSize:10}},getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,n(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1}))},resetTemp:function(){this.form={bannerlogo:"",appview:1}},handleCreate:function(){var t=this;this.resetTemp(),this.getCourse(),this.dialogStatus="create",this.dialogFormVisible=!0,this.loading=!1,this.$nextTick((function(){t.$refs["form"].clearValidate()}))},getCourse:function(){var t=this;Object(u["o"])({pageIndex:0,currentPage:1,pageSize:1e7}).then((function(e){t.courseList=e.data.data||[]}))},handleUpdate:function(t){var e=this;this.dialogStatus="update",this.loading=!1,this.$nextTick((function(){e.$refs["form"].clearValidate()})),this.form=Object.assign({},t),this.dialogFormVisible=!0,this.getCourse()},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l(t.id).then((function(t){e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.handleFilter()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleAvatarSuccess:function(t,e){this.form.bannerlogo=t.urls,this.$set(this.form,"bannerlogo",t.urls)},uploadFileMethodAnswer:function(t){var e=this,i="image/jpeg"===t.raw.type||"image/png"===t.raw.type;if(!i)return this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),!1;this.imgFile=t;var a=new Image;a.src=URL.createObjectURL(t.raw);var s=this;a.onload=function(t){this.width-0>990?(s.imgWidth=1e3,s.imgHeight=1e3/this.width*this.height):(s.imgWidth=990,s.imgHeight=this.height),s.imgHeight<396&&(s.imgHeight=396)},this.$nextTick((function(){e.optionImg=URL.createObjectURL(t.raw);var i=e.$refs.dialogCropVisible;i.dialog=!0}))},getUrl:function(t){this.form.bannerlogo=t},removeImg:function(t){t.stopPropagation(),this.form.bannerlogo=""},updateData:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;t.loading=!0,t.dialogFormVisible=!1,o(t.form).then((function(e){0==e.code?(t.$message.success("提交成功"),t.getList()):t.$message.error(e.msg),t.loading=!1}))}))},sort:function(t,e){var i=this,a={bannerId1:this.list[t].id};a.bannerId2="top"==e?this.list[t-1].id:this.list[t+1].id,this.$confirm("此操作将进行排序, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){c(a).then((function(t){i.$notify({title:"Success",message:"排序成功!",type:"success",duration:2e3}),i.handleFilter()}))})).catch((function(){i.$message({type:"info",message:"已取消排序"})}))}}},g=f,v=(i("8826"),i("9ca4")),y=Object(v["a"])(g,a,s,!1,null,"540c111a",null);e["default"]=y.exports},"9c3c":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container",staticStyle:{height:"calc(100% - 3px) !important"}},[i("div",{staticClass:"filter-container"},[i("div",{staticStyle:{height:"100%"}},[i("EditTest")],1)])])},s=[],r=(i("9a33"),i("3922")),n=i("6724"),o=i("60b8"),l=i("1166"),c={name:"ExamManage",components:{EditTest:l["default"]},directives:{waves:n["a"]},filters:{filterType:function(t){switch(t){case 1:return"单选题";case 2:return"多选题";case 3:return"判断题";case 5:return"问答题"}}},mixins:[o["a"]],data:function(){return{activeName:"set",ids:"",groupList:[],courseList:[],tableKey:0,list:[],test:{},total:0,analyseList:[],listLoading:!0,listQuery:{pageIndex:0,currentPage:1,pageSize:10,params:"",examineId:"",isSaveMaxScore:"0"},listQueryCopy:{pageIndex:0,currentPage:1,pageSize:10,id:""},form:{},options:[]}},mounted:function(){var t=this;this.listQueryCopy.id=this.$route.query.id-0,this.listQuery.id=this.$route.query.id-0,this.test.id=this.$route.query.id-0,this.getList(),Object(r["f"])(this.listQueryCopy).then((function(e){t.test=e.data.data[0],t.test.date=[new Date(t.test.starttime),new Date(t.test.endtime)],t.test.personIds&&(t.selectStuList=t.test.personIds.split(",")),t.test.testreport&&(t.testreport=JSON.parse(t.test.testreport)),t.$set(t,"test",e.data.data[0])}))},activated:function(){var t=this;this.listQueryCopy.id=this.$route.query.id-0,this.listQuery.id=this.$route.query.id-0,this.test.id=this.$route.query.id-0,this.getList(),Object(r["f"])(this.listQueryCopy).then((function(e){t.test=e.data.data[0],t.test.date=[new Date(t.test.starttime),new Date(t.test.endtime)],t.test.testreport&&(t.testreport=JSON.parse(t.test.testreport)),t.$set(t,"test",e.data.data[0])}))},methods:{resetQuery:function(){this.listQuery={pageIndex:0,currentPage:1,pageSize:10,examineId:"",isSaveMaxScore:"0",params:""}},getList:function(){this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,this.listQuery.examineId=this.test.id},handleClick:function(t,e){}}},u=c,d=(i("af50"),i("9ca4")),p=Object(d["a"])(u,a,s,!1,null,"295ca878",null);e["default"]=p.exports},"9c89":function(t,e,i){"use strict";var a=i("0f8f"),s=i.n(a);s.a},a09e:function(t,e,i){},a1eb:function(t,e,i){t.exports=i.p+"static/img/uploadclick.98601171.png"},a20f:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("div",{staticClass:"operate-panel"},[i("div",{staticClass:"operate-panel_left"},[i("el-select",{staticStyle:{"margin-right":"5px"},attrs:{placeholder:"请选择-考试科目",filterable:"","value-key":"id"},on:{change:function(e){return t.chooseProject(t.listQuery.projectid)}},model:{value:t.listQuery.projectid,callback:function(e){t.$set(t.listQuery,"projectid",e)},expression:"listQuery.projectid"}},t._l(t.projectList,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1),i("el-select",{staticStyle:{"margin-right":"5px"},attrs:{filterable:"","value-key":"examineName",placeholder:"请选择-考试名称"},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}},t._l(t.eduList,(function(t,e){return i("el-option",{key:e,attrs:{value:t.examineName,label:t.examineName}})})),1),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],1),i("div",{staticClass:"operate-panel_right"},[i("el-button",{attrs:{type:"primary"},on:{click:t.targetAdd}},[t._v("新增")]),i("el-button",{attrs:{disabled:!t.ids,type:"primary"},on:{click:t.handleDeleteAll}},[t._v("批量删除")]),i("el-button",{attrs:{disabled:!t.ids,type:"primary"},on:{click:function(e){return t.sendMsg(t.ids)}}},[t._v("发送考试通知")])],1)]),i("div",{staticClass:"panel-body"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"",height:"100%","default-sort":{prop:"id",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{label:"考试科目",prop:"project",align:"left",width:"120px","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"考试名称",prop:"name",align:"left",width:"120px","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"开始时间",prop:"starttime",align:"left",width:"180px"}}),i("el-table-column",{attrs:{label:"结束时间",prop:"endtime",align:"left",width:"180px"}}),i("el-table-column",{attrs:{label:"创建人",prop:"creator",align:"left",width:"180px","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"创建时间",prop:"createtime",align:"left",width:"180px"}}),i("el-table-column",{attrs:{label:"考试年份",prop:"year",align:"left",width:"120px"}}),i("el-table-column",{attrs:{label:"考试批次",align:"left",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(i.year)+"年第"+t._s(i.testbatch)+"批次 ")]}}])}),i("el-table-column",{attrs:{label:"发布",prop:"sort",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ccc"},on:{change:function(e){return t.changePub(a)}},model:{value:a.ispublish,callback:function(e){t.$set(a,"ispublish",e)},expression:"row.ispublish"}})]}}])}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"160px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.sendMsg(a.id)}}},[t._v("通知")]),i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.targetToManage(a)}}},[t._v("编辑")]),i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDelete(a.id)}}},[t._v("删除")])]}}])})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)])])},s=[],r=i("bb99"),n=r["a"],o=(i("699a"),i("9ca4")),l=Object(o["a"])(n,a,s,!1,null,"bf499904",null);e["default"]=l.exports},a2cd:function(t,e,i){"use strict";var a=i("238a");t.exports=function(t,e){return!!t&&a((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},a36b:function(t,e,i){t.exports=i.p+"static/img/404.a57b6f31.png"},a648:function(t,e,i){"use strict";var a=i("b955"),s=i.n(a);s.a},a774:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{title:"选择题库",width:"60%",visible:t.dialog,"append-to-body":"","destroy-on-close":"","before-close":t.cancel,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialog=e},open:t.getData}},[i("div",{staticClass:"filter-container"},[i("div",{staticClass:"operate-panel"},[i("div",{staticClass:"operate-panel_left"},[t._v(" 题目知识点分类： "),i("Tree",{attrs:{"tree-data":t.data,width:200,"default-props":t.defaultProps,"sel-class-tree":t.selClassTree},on:{handleNodeClick:t.handleNodeClick,changeTree:t.changeTree}}),i("el-input",{staticClass:"filter-item",attrs:{placeholder:"题目名称"},model:{value:t.listQuery.question,callback:function(e){t.$set(t.listQuery,"question",e)},expression:"listQuery.question"}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.reset}},[t._v("重置")])],1)]),i("div",{staticClass:"operate-panel_left",staticStyle:{margin:"0px 0px 10px 0"}},[t._v(" 题型 "),i("el-checkbox",{staticStyle:{display:"inline-block","margin-left":"5px"},attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),i("el-checkbox-group",{staticStyle:{display:"inline-block","margin-left":"15px"},on:{change:t.handleCheckedTypesChange},model:{value:t.checkedTypes,callback:function(e){t.checkedTypes=e},expression:"checkedTypes"}},t._l(t.types,(function(e){return i("el-checkbox",{key:e.value,attrs:{label:e.value,value:e.value}},[t._v(t._s(e.label))])})),1)],1),i("div",{staticClass:"panel-body",staticStyle:{height:"500px"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,ref:"subjectTab",staticStyle:{width:"100%"},attrs:{"row-key":t.getRowKey,data:t.list,border:"",fit:"","highlight-current-row":"",height:"100%","default-sort":{prop:"id",order:"descending"}},on:{"selection-change":t.handleSelectionChange,select:t.handleRowClick}},[i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),i("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":!0}}),i("el-table-column",{attrs:{label:"分类",prop:"hierarchyClassificationName",align:"left","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"题型",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(t._f("filterSubtype")(i.type))+" ")]}}])}),i("el-table-column",{attrs:{label:"题目",prop:"question",align:"left","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"创建日期",prop:"createTime",align:"left",width:"180"}}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"160px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDetail(a)}}},[t._v("查看详情")])]}}])})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1),i("div",{staticClass:"panel"},[t._v(" 已选题库 "),i("span",{staticStyle:{color:"red"}},[t._v(" 当前已选中:"+t._s(t.selectSubList.length)+"道题")]),i("div",{staticStyle:{"margin-top":"10px"}},t._l(t.selectSubList,(function(e){return i("div",{key:e.id,staticClass:"subItem"},[t._v(" "+t._s(e.question)+" "),i("span",{staticClass:"el-icon-circle-close del",on:{click:function(i){return t.delSub(e)}}})])})),0)])]),i("div",{staticClass:"dialog-footer text-center",staticStyle:{margin:"15px 0"}},[i("el-button",{on:{click:t.cancel}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.updata}},[t._v("确认")])],1)]),i("Showloadform",{ref:"dialogFormShowVisible",attrs:{item:t.form,types:t.types}})],1)},s=[],r=(i("9a33"),i("e204"),i("ed63"),i("8cf2"),i("6d57"),i("6724")),n=i("333d"),o=i("6df0"),l=i("89c6"),c=i("3f4b"),u={directives:{waves:r["a"]},components:{Pagination:n["a"],Showloadform:o["default"],Tree:l["default"]},filters:{filterSubtype:function(t){switch(t){case 1:return"单选题";case 2:return"多选题";case 3:return"判断题";case 5:return"问答题"}}},props:["selectList"],data:function(){return{selClassTree:{},form:{},paperClassificationName:"",paperClassificationId:"",selectSubList:[],defaultProps:{children:"nodes",label:"text"},tableKey:0,list:[],total:0,loading:!1,data:[],dialog:!1,listQuery:{pageIndex:0,currentPage:1,pageSize:10,question:""},listLoading:!1,checkAll:!1,checkedTypes:[],countList:[0,0,0,0],scoreList:[0,0,0,0],isIndeterminate:!1,scoreData:[],types:[{label:"单选题",value:1},{label:"多选题",value:2},{label:"判断题",value:3},{label:"问答题",value:5}]}},methods:{getRowKey:function(t){return t.id},getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,Object(c["d"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1;var i=t.selectSubList&&t.selectSubList.length&&t.selectSubList.reduce((function(t,e){return t.push(e.id),t}),[]);t.selectList.length&&t.selectList.forEach((function(e){i&&-1==i.indexOf(e.id)&&t.selectSubList.push(e)})),t.selectSubList.length&&t.list.length&&t.list.forEach((function(e){-1!==i.indexOf(e.id)&&t.$refs.subjectTab.toggleRowSelection(e,!0)}))}))},reset:function(){this.selClassTree={},this.checkedTypes=[],this.isIndeterminate=!1,this.checkAll=!1,this.listQuery={pageIndex:0,currentPage:1,pageSize:10,hierarchyClassificationName:"",hierarchyClassificationId:""}},delSub:function(t){this.$refs.subjectTab.toggleRowSelection(t,!1),this.selectSubList.splice(this.selectSubList.indexOf(t),1)},handleSelectionChange:function(t){t&&t.length?this.ids=t.reduce((function(t,e){return t.push(e.id),t}),[]).join(","):this.ids="";var e=this.selectSubList.map((function(t){return t.id})),i=t.filter((function(t){return!e.includes(t.id)}));this.selectSubList=this.selectSubList.concat(i)},handleRowClick:function(t,e){var i=this.selectSubList.findIndex((function(t){return t.id==e.id})),a="";t&&t.length&&(a=t.reduce((function(t,e){return t.push(e.id),t}),[]).join(",")),-1==a.indexOf(e.id)&&-1!==i&&this.selectSubList.splice(i,1)},handleCheckedTypesChange:function(t){this.listQuery.typeList=t.join(",");var e=t.length;this.checkAll=e===this.types.length,this.isIndeterminate=e>0&&e<this.types.length,this.listQuery.typeList=this.checkedTypes.join(","),this.getList()},handleCheckAllChange:function(t){this.checkedTypes=t?this.types&&this.types.length&&this.types.reduce((function(t,e){return t.push(e.value),t}),[]):[],this.isIndeterminate=!1,this.listQuery.typeList=this.checkedTypes.join(","),this.getList()},handleNodeClick:function(t){this.listQuery.hierarchyClassificationName=t.text,this.listQuery.hierarchyClassificationId=t.id,this.$set(this.listQuery,"hierarchyClassificationId",t.id),this.$set(this.listQuery,"hierarchyClassificationName",t.text)},changeTree:function(){this.listQuery.hierarchyClassificationName=void 0,this.listQuery.hierarchyClassificationId=void 0},handleFilter:function(){this.listQuery.currentPage=1,this.getList()},handleDetail:function(t){var e=this;this.form=Object.assign({},t),2==t.type&&(this.form.answerList=this.form.answer.split("$")),5==t.type&&(this.form.keyWordList=JSON.parse(this.form.keyWord)),this.form.type=this.form.type,this.$nextTick((function(){var t=e.$refs["dialogFormShowVisible"];t.dialog=!0}))},cancel:function(){this.dialog=!1},getData:function(){var t=this,e=this.selectList||[];this.$set(this,"selectSubList",e),this.getList(),Object(c["e"])().then((function(e){var i={id:-1,nodes:null,parentId:0,parentName:null,pids:"0",text:"默认分类"};t.data=e.data||[],t.data.unshift(i)}))},updata:function(){0!=this.selectSubList.length?(this.$emit("changSub",this.selectSubList),this.dialog=!1):this.$message.error("请选择题目")}}},d=u,p=(i("8619"),i("9ca4")),m=Object(p["a"])(d,a,s,!1,null,"1988e749",null);e["default"]=m.exports},a77f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAClklEQVRIS61WS47aQBCtNuBgIcB8bQmzZJkcINfIbrazSBY5QrKbI2SbZbJLLjHSHCBZ8TUSnzEgsMPPYMCOXg92GAIMydASQrLL7716XdXVjIioWq3mPM97IwjClSAIL4noBZ6fuxhjhJ/necvNZvOTiL54nve9VCoNWLlczgqC8F6SpGtZllVRFMPnAvtxOwTkOM7aNE3Dtu3Prut+YrVa7W00Gv2Yz+cLkUjkX7EPxq9WKzIMo7NYLG5AcKuq6utYLCZcBJ0IVtF8PncNw7hjjUbD1DRNvpR6XySyaLfbFgjmmqZJzyVwXZdjC8KDEVsC+yIEAB8Ohxw8lUrxfxC0Wq3nE8Dv8XhM9/f3HLhQKFAsFrsMAcBnsxl1u11ar9eUSCQon8+TKIrHCZAuPgyFQieLCjGTyYR6vR4HS6fTlM1mKRx+aKODFkHFYDDgAVByjATg0+kUtc6B4Lsfj3dovICgXq/Pi8UiryJ81Ol0CFn4ivZJfHAodxyHZFnm4L7yvwh2yxQZjEYjMk2T25TJZHjaUIS1bSDuORQCXFXVoDT9mEcZ7PeBX3IgwgJILpfjJPC83+/TcrnktuD5sf45WaY+CWobwLAAQLBlsVgEnvu2HKqGJ/tglwT7ACJYGI/HA8JTZXZWJ8NzWGJZFm02G0omk9zzp0r40VGh6zo/i46lC2CQICN4jiY6ZwUZNJtNTnBK1bnNt0sMO/lZpOs6P65Pbdg5ivdj0CPtdvsXq9frt4qiHBw42INDy++LU8TT6dTt9Xp3rFKpvJMk6YOiKBcbmVDf7/c7tm3fBEM/Go1ep1Kp/xr6yARZYa9Wq9Xasqw/Qx8vd68tjLFXjDHxmD3HbNleWxzP834wxr66rvsN15bfV1j31cTOi3sAAAAASUVORK5CYII="},a79a:function(t,e,i){},abec:function(t,e,i){"use strict";var a=i("0555"),s=i.n(a);s.a},ad11:function(t,e,i){},af00:function(t,e,i){},af50:function(t,e,i){"use strict";var a=i("37a3"),s=i.n(a);s.a},af52:function(t,e,i){},af63:function(t,e,i){"use strict";var a=i("16d9"),s=i.n(a);s.a},b109:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{background:"#f8f8f8","font-size":"16px",height:"calc(100% - 62px)"}},[i("el-form",{staticClass:"app-container"},[i("el-page-header",{attrs:{content:"试卷详情",title:"返回试卷列表"},on:{back:function(e){return t.$router.push("/paper/paper/index")}}}),i("el-row",{attrs:{gutter:10}},[i("el-col",{staticStyle:{"max-height":"100%",overflow:"auto"},attrs:{span:6}},[i("el-card",{staticClass:"box-card"},[i("div",{staticStyle:{"font-size":"18px","font-weight":"800"}},[t._v(" 答题卡 ")]),t.countList[0]>0?i("div",{staticStyle:{"margin-top":"20px"}},[i("div",[t._v(" 单选题（共"+t._s(t.countList[0])+"题，合计"+t._s(t.countList[0]*t.scoreList[0])+"分） ")]),i("div",{staticStyle:{"margin-top":"20px"}},t._l(t.selectSubList,(function(e,a){return 1==e.type?i("a",{key:a,staticClass:"dtk",class:{activated:t.activatedItemId==e.id},attrs:{href:"javascript:void(0);"},on:{click:function(i){return t.checkSub(e,"ty1"+a)}}},[t._v(" "+t._s(a+1)+" ")]):t._e()})),0)]):t._e(),t.countList[1]>0?i("div",{staticStyle:{"margin-top":"20px"}},[i("div",[t._v(" 多选题（共"+t._s(t.countList[1])+"题，合计"+t._s(t.countList[1]*t.scoreList[1])+"分） ")]),i("div",{staticStyle:{"margin-top":"20px"}},t._l(t.selectSubList,(function(e,a){return 2==e.type?i("a",{key:a,staticClass:"dtk",class:{activated:t.activatedItemId==e.id},attrs:{href:"javascript:void(0);"},on:{click:function(i){return t.checkSub(e,"ty2"+a)}}},[t._v(" "+t._s(a+1-t.countList[0])+" ")]):t._e()})),0)]):t._e(),t.countList[2]>0?i("div",{staticStyle:{"margin-top":"20px"}},[i("div",[t._v(" 判断题（共"+t._s(t.countList[2])+"题，合计"+t._s(t.countList[2]*t.scoreList[2])+"分） ")]),i("div",{staticStyle:{"margin-top":"20px"}},t._l(t.selectSubList,(function(e,a){return 3==e.type?i("a",{key:a,staticClass:"dtk",class:{activated:t.activatedItemId==e.id},attrs:{href:"javascript:void(0);"},on:{click:function(i){return t.checkSub(e,"ty3"+a)}}},[t._v(" "+t._s(a+1-t.countList[0]-t.countList[1])+" ")]):t._e()})),0)]):t._e(),t.countList[3]>0?i("div",{staticStyle:{"margin-top":"20px"}},[i("div",[t._v(" 问答题（共"+t._s(t.countList[3])+"题，合计"+t._s(t.countList[3]*t.scoreList[3])+"分） ")]),i("div",{staticStyle:{"margin-top":"20px"}},t._l(t.selectSubList,(function(e,a){return 5==e.type?i("a",{key:a,staticClass:"dtk",class:{activated:t.activatedItemId==e.id},attrs:{href:"javascript:void(0);"},on:{click:function(i){return t.checkSub(e,"ty5"+a)}}},[t._v(" "+t._s(a+1-t.countList[0]-t.countList[1]-t.countList[2])+" ")]):t._e()})),0)]):t._e()])],1),i("el-col",{staticStyle:{height:"calc(100% - 19px)",overflow:"auto","margin-left":"10px"},attrs:{span:18}},[t.countList[0]>0?i("el-card",{staticClass:"box-card "},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 单选题（共"+t._s(t.countList[0])+"题，合计"+t._s(t.countList[0]*t.scoreList[0])+"分） ")]),i("div",{staticClass:"filter-container"},t._l(t.selectSubList,(function(e,a){return 1==e.type?i("div",{key:a,staticStyle:{"margin-top":"10px"},attrs:{id:"ty1"+a}},[i("subject-item",{attrs:{item:e,index:a,hasanswer:t.hasanswer,"count-list":t.countList}})],1):t._e()})),0)]):t._e(),t.countList[1]>0?i("el-card",{staticClass:"box-card mt20"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 多选题（共"+t._s(t.countList[1])+"题，合计"+t._s(t.countList[1]*t.scoreList[1])+"分） ")]),i("div",{staticClass:"filter-container"},t._l(t.selectSubList,(function(e,a){return 2==e.type?i("div",{key:a,staticStyle:{"margin-top":"10px"},attrs:{id:"ty2"+a}},[i("subject-item",{attrs:{item:e,index:a,hasanswer:t.hasanswer,"count-list":t.countList}})],1):t._e()})),0)]):t._e(),t.countList[2]>0?i("el-card",{staticClass:"box-card mt20"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 判断题（共"+t._s(t.countList[2])+"题，合计"+t._s(t.countList[2]*t.scoreList[2])+"分） ")]),i("div",{staticClass:"filter-container"},t._l(t.selectSubList,(function(e,a){return 3==e.type?i("div",{key:a,staticStyle:{"margin-top":"10px"},attrs:{id:"ty3"+a}},[i("subject-item",{attrs:{item:e,index:a,hasanswer:t.hasanswer,"count-list":t.countList}})],1):t._e()})),0)]):t._e(),t.countList[3]>0?i("el-card",{staticClass:"box-card mt20"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 问答题（共"+t._s(t.countList[3])+"题，合计"+t._s(t.countList[3]*t.scoreList[3])+"分） ")]),i("div",{staticClass:"filter-container"},t._l(t.selectSubList,(function(e,a){return 5==e.type?i("div",[i("div",{key:a,staticStyle:{"margin-bottom":"15px","margin-top":"10px"},attrs:{id:"ty5"+a}},[i("subject-item",{attrs:{item:e,index:a,hasanswer:t.hasanswer,"count-list":t.countList}})],1)]):t._e()})),0)]):t._e()],1)],1),i("div",{staticStyle:{"text-align":"right",height:"30px"}},[t._v(" 卷面总计 "+t._s(t.countList[0]*t.scoreList[0]+t.countList[1]*t.scoreList[1]+t.countList[2]*t.scoreList[2]+t.countList[3]*t.scoreList[3])+"分 "),i("span",{staticStyle:{"margin-left":"30px"}},[t._v("及格分：")]),t._v(" "+t._s(t.form.passGrade)+"分 ")])],1)],1)},s=[],r=(i("9a33"),i("6d57"),i("6724")),n=i("8129"),o=i("3d70"),l=i("3f4b"),c={directives:{waves:r["a"]},components:{SubjectItem:n["default"]},filters:{filterSubtype:function(t){switch(t){case 1:return"单选题";case 2:return"多选题";case 3:return"判断题";case 5:return"问答题"}}},data:function(){return{hasanswer:!1,options:[],groupList:[],activatedItemId:"",paperClassificationId:"",defaultProps:{children:"nodes",label:"text"},showInput:!1,selClassTree:{},showTree:!1,tableKey:0,list:[],total:0,loading:!1,form:{},data:[],dialog:!1,listQuery:{pageIndex:0,currentPage:1,pageSize:10,text:""},rules:{text:[{required:!0,message:"试卷名称",trigger:"blur"},{max:32,message:"最多可输入32个字符",trigger:"blur"}],description:[{max:200,message:"最多可输入200个字符",trigger:"blur"}],playway:{required:!0}},listLoading:!1,checkAll:!1,checkedTypes:[],countList:[0,0,0,0],scoreList:[0,0,0,0],isIndeterminate:!0,scoreData:[],passGrade:0,totalScore:0,types:[{label:"单选题",value:1},{label:"多选题",value:2},{label:"判断题",value:3},{label:"问答题",value:5}],selectSubList:[]}},mounted:function(){this.getData()},activated:function(){this.getData()},methods:{generateCode:function(){for(var t=[],e=65;e<91;e++)t.push(String.fromCharCode(e));return t},getRowKey:function(t){return t.id},getGroupList:function(){var t=this;Object(o["e"])().then((function(e){t.groupList=e.data}))},back:function(){this.$router.push({path:"/coursePage/index"})},checkSub:function(t,e){this.activatedItemId=t.id;e="#"+e;this.$el.querySelector(e).scrollIntoView()},getData:function(){var t=this;this.$route.query.id?Object(o["g"])(this.$route.query.id).then((function(e){t.form=e.data,t.selectSubList=t.form.subjectDetail,t.selectSubList.forEach((function(e){e.score=e.paperScore,1==e.type?(t.countList[0]=t.countList[0]+1,t.scoreList[0]=e.score):2==e.type?(t.countList[1]=t.countList[1]+1,t.scoreList[1]=e.score,e.answerList=e.answer.split("$")):3==e.type?(t.countList[2]=t.countList[2]+1,t.scoreList[2]=e.score):(t.countList[3]=t.countList[3]+1,t.scoreList[3]=e.score,e.keyWordList=JSON.parse(e.keyWord))}))})):this.form={},Object(l["e"])().then((function(e){t.data=e.data})),this.getGroupList(),this.options=this.generateCode(),this.$forceUpdate()}}},u=c,d=(i("43d4"),i("9ca4")),p=Object(d["a"])(u,a,s,!1,null,"39c41648",null);e["default"]=p.exports},b2eb:function(t,e,i){},b433:function(t,e,i){},b955:function(t,e,i){},bb24:function(t,e,i){},bb99:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("6d57"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__),_api_mooc_exam__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("3922"),_api_mooc_project__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("0c38"),_directive_waves__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("6724"),_components_Pagination__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("333d"),_mixins_SettingMixin__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("60b8"),_util_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("6d93"),base64=__webpack_require__("31a6").Base64;__webpack_exports__["a"]={components:{Pagination:_components_Pagination__WEBPACK_IMPORTED_MODULE_4__["a"]},directives:{waves:_directive_waves__WEBPACK_IMPORTED_MODULE_3__["a"]},filters:{filterType:function(t){switch(t){case 1:return"公开";case 2:return"私有";case 3:return"邀请"}}},mixins:[_mixins_SettingMixin__WEBPACK_IMPORTED_MODULE_5__["a"]],data:function(){return{srcList:["https://www.baidu.com"],ids:"",groupList:[],courseList:[],tableKey:0,list:[],projectList:[],total:0,value:!0,listLoading:!0,listQuery:{pageIndex:0,currentPage:1,pageSize:10,name:"",projectid:""},examObj:{},query:{pageIndex:0,currentPage:1,pageSize:1e3,type:2},eduList:[],queryPro:{pageIndex:0,currentPage:1,pageSize:1e3,projectid:""}}},mounted:function(){var t=this;this.$route.query.id&&(this.listQuery.projectid=this.$route.query.id-0,this.$forceUpdate()),this.getList(),this.getPro(),_util_js__WEBPACK_IMPORTED_MODULE_6__["default"].$on("getExlist",(function(e){t.getList()}))},activated:function(){var t=this;this.$route.query.id&&(this.listQuery.projectid=this.$route.query.id-0,this.$forceUpdate()),this.getList(),this.getPro(),_util_js__WEBPACK_IMPORTED_MODULE_6__["default"].$on("getExlist",(function(e){t.getList()}))},methods:{resetQuery:function(){this.listQuery={pageIndex:0,currentPage:1,pageSize:10,projectid:null},this.examObj={},this.listQuery.name=null,this.listQuery.testId=null,this.eduList=[]},getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,Object(_api_mooc_exam__WEBPACK_IMPORTED_MODULE_1__["f"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1}))},getPro:function(){var t=this;Object(_api_mooc_project__WEBPACK_IMPORTED_MODULE_2__["c"])(this.query).then((function(e){t.projectList=e.data.data||[];var i={id:-1,name:"默认科目"};t.projectList.unshift(i),t.findEdu(t.listQuery.projectid)}))},resetTemp:function(){this.form={bannerlogo:"",appview:1}},sendMsg:function(t){var e=this;this.$confirm("此操作将发送通知, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(_api_mooc_exam__WEBPACK_IMPORTED_MODULE_1__["g"])(t).then((function(t){0==t.code?e.$notify({title:"Success",message:"操作成功!",type:"success",duration:2e3}):e.$message.error(t.msg)}))})).catch((function(){e.$message({type:"info",message:"已取消通知"})}))},handleDeleteAll:function(){var t=this;this.handleDelete(t.ids)},handleDelete:function handleDelete(id){var _this4=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(_api_mooc_exam__WEBPACK_IMPORTED_MODULE_1__["b"])(id).then((function(response){if(0==response.code)_this4.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),_this4.handleFilter();else{var str="",res=eval("("+response.msg+")");Array.isArray(res)?(str="<div>",res.forEach((function(t){str+='<div style="line-height: 20px;">'+t+"</div>"})),str+="</div>"):str=response.msg,_this4.$message({showClose:!0,dangerouslyUseHTMLString:!0,message:str,duration:0}),_this4.handleFilter()}}))})).catch((function(){_this4.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(t){t&&t.length?this.ids=t.reduce((function(t,e){return t.push(e.id),t}),[]).join(","):this.ids=""},changePub:function(t){var e=this;Object(_api_mooc_exam__WEBPACK_IMPORTED_MODULE_1__["a"])({id:t.id,isPublish:t.ispublish}).then((function(i){0==i.code?(e.$notify({title:"Success",message:"操作成功!",type:"success",duration:2e3}),e.getList()):(e.$message.error(i.msg),0==t.ispublish?t.ispublish=1:t.ispublish=0)}))},findEdu:function(t){var e=this;Object(_api_mooc_exam__WEBPACK_IMPORTED_MODULE_1__["d"])({projectid:t}).then((function(t){e.eduList=t.data||[]}))},chooseProject:function(t){this.examObj={},this.findEdu(t),this.$forceUpdate()},chooseExam:function(t){this.listQuery.name=t.examineName,this.$forceUpdate()},targetAdd:function(){this.$router.push({path:"/exam/addExam"}),localStorage.getItem("examtInfo")&&localStorage.removeItem("examtInfo"),localStorage.getItem("examtid")&&localStorage.removeItem("examtid")},targetToManage:function(t){this.$router.push({path:"/exam/manage",query:{id:t.id}}),localStorage.getItem("examtid")&&localStorage.removeItem("examtid"),localStorage.setItem("examtid",t.id)}}}},bc67:function(t,e,i){"use strict";var a=i("1ad3"),s=i.n(a);s.a},c904:function(t,e,i){"use strict";var a=i("e46b"),s=i("5daa"),r=i("008a"),n=i("238a"),o=[].sort,l=[1,2,3];a(a.P+a.F*(n((function(){l.sort(void 0)}))||!n((function(){l.sort(null)}))||!i("a2cd")(o)),"Array",{sort:function(t){return void 0===t?o.call(r(this)):o.call(r(this),s(t))}})},cb41:function(t,e,i){"use strict";var a=i("6e23"),s=i.n(a);s.a},cc6c:function(t,e,i){t.exports=i.p+"static/img/401.089007e7.gif"},cd85:function(t,e,i){"use strict";var a=i("0bef"),s=i.n(a);s.a},d561:function(t,e,i){},d5c2:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"register-container"},[i("div",{staticClass:"register_bg"}),i("div",{staticClass:"register_form"},[i("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:t.registerForm,rules:t.registerRules,autocomplete:"on","label-position":"left"}},[i("div",{staticClass:"title-container"},[i("h1",[t._v("注册")])]),i("div",{staticClass:"register_form_content"},[i("div",[i("el-form-item",{attrs:{prop:"username"}},[i("span",{staticStyle:{color:"red"}},[t._v("* ")]),i("el-input",{ref:"username",staticStyle:{width:"98%"},attrs:{size:"large",placeholder:"输入手机号码"},model:{value:t.registerForm.username,callback:function(e){t.$set(t.registerForm,"username",e)},expression:"registerForm.username"}},[i("template",{slot:"prepend"},[i("i",{staticClass:"el-icon-user",staticStyle:{fontSize:"20px"}})])],2)],1),i("el-form-item",[i("span",{staticStyle:{color:"red"}},[t._v("* ")]),i("el-input",{staticStyle:{width:"72%"},attrs:{size:"large",placeholder:"短信验证码"},model:{value:t.registerForm.code,callback:function(e){t.$set(t.registerForm,"code",e)},expression:"registerForm.code"}},[i("template",{slot:"prepend"},[i("i",{staticClass:"el-icon-folder-checked",staticStyle:{fontSize:"20px"}})])],2),t.showCode?i("button",{staticClass:"button_regCode",staticStyle:{width:"25%"},on:{click:function(e){return e.preventDefault(),t.getCode(e)}}},[t._v("获取验证码")]):t._e(),t.showCode?t._e():i("button",{staticClass:"button_regCode",staticStyle:{width:"25%"},attrs:{disabled:""}},[t._v(t._s(t.count)+"s")])],1),i("el-tooltip",{attrs:{placement:"right",manual:""},model:{value:t.capsTooltip,callback:function(e){t.capsTooltip=e},expression:"capsTooltip"}},[i("el-form-item",{attrs:{prop:"password"}},[i("span",{staticStyle:{color:"red"}},[t._v("* ")]),i("el-input",{key:t.passwordType,ref:"password",staticStyle:{width:"72%"},attrs:{size:"large",placeholder:"输入密码",maxlength:"16",minlength:"6",type:t.passwordType,"show-password":""},on:{blur:function(e){t.capsTooltip=!1}},nativeOn:{keyup:function(e){return t.checkCapslock(e)}},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password",e)},expression:"registerForm.password"}},[i("template",{slot:"prepend"},[t._v("设置密码")])],2),1==t.pwdLv?i("span",{staticClass:"codeIntensity_1"},[t._v("弱")]):t._e(),2==t.pwdLv?i("span",{staticClass:"codeIntensity_2"},[t._v("中")]):t._e(),3==t.pwdLv?i("span",{staticClass:"codeIntensity_3"},[t._v("强")]):t._e()],1)],1),i("el-form-item",{attrs:{prop:"confirmPassword"}},[i("span",{staticStyle:{color:"red"}},[t._v("* ")]),i("el-input",{key:t.passwordType,staticStyle:{width:"72%"},attrs:{size:"large",placeholder:"确认密码",type:t.passwordType,"show-password":""},on:{blur:function(e){t.capsTooltip=!1}},nativeOn:{keyup:function(e){return t.checkCapslock(e)}},model:{value:t.registerForm.confirmPassword,callback:function(e){t.$set(t.registerForm,"confirmPassword",e)},expression:"registerForm.confirmPassword"}},[i("template",{slot:"prepend"},[t._v("确认密码")])],2)],1),i("button",{staticClass:"button_regCode_register",staticStyle:{width:"100%","margin-bottom":"30px"},on:{click:function(e){return e.preventDefault(),t.save(e)}}},[t._v("立即注册")]),i("span",{staticClass:"hasIdToLogin"},[i("router-link",{attrs:{to:"/login"}},[t._v("已有账号，现在登陆")])],1)],1)])])],1)])},s=[],r=(i("9e76"),i("e0a5")),n={name:"Register",inject:["reload"],data:function(){return{registerForm:{username:"",password:"",code:"",confirmPassword:""},registerRules:{username:{required:!0,trigger:"change",message:"手机号码不能为空"},password:{required:!0,trigger:"change",message:"密码不能为空"},confirmPassword:{required:!0,trigger:"change",message:"密码不能为空"}},passwordType:"password",capsTooltip:!1,loading:!1,checked:!1,active:1,showCode:!0,count:"",timer:null,pwdLv:0}},mounted:function(){""===this.registerForm.username?this.$refs.username.focus():""===this.registerForm.password&&(this.$refs.password.focus(),this.reload())},methods:{checkCapslock:function(){this.pwdLv=0,this.registerForm.password.match(/[a-z]/g)&&this.pwdLv++,this.registerForm.password.match(/[0-9]/g)&&this.pwdLv++,this.registerForm.password.match(/[A-Z]/g)&&this.pwdLv++,this.registerForm.password.length<6&&(this.pwdLv=0),this.pwdLv>3&&(this.pwdLv=3)},registerDone:function(){var t=this;this.registerForm.username?this.registerForm.code?this.registerForm.password&&this.registerForm.confirmPassword?this.registerForm.password===this.registerForm.confirmPassword?this.$nextTick((function(){var e={loginName:t.registerForm.username,password:t.registerForm.password,authCode:t.registerForm.code};Object(r["b"])(e).then((function(e){0==e.code?(t.$message.success("注册成功"),t.$router.push({path:"/index"})):t.$message.error(msg)}))})):this.$message.error("密码输入不一致,请重新输入"):this.$message.error("请确认密码"):this.$message.error("请输入验证码"):this.$message.error("请输入手机号")},getCode:function(){var t=this,e=60;this.registerForm.username?Object(r["c"])({mobile:this.registerForm.username}).then((function(i){0==i.code?(t.count=e,t.showCode=!1,t.timer=setInterval((function(){t.count>1&&t.count<=e?t.count--:(t.showCode=!0,clearInterval(t.timer),t.timer=null)}),1e3),t.$message({message:"短信发送成功，请注意查收！",type:"success"})):t.$message.error(i.msg)})):this.$message.error("请输入手机号")},save:function(){var t=this;this.$refs.registerForm.validate((function(e){if(!e)return!1;t.registerDone()}))}}},o=n,l=(i("3789"),i("9ca4")),c=Object(l["a"])(o,a,s,!1,null,"01b4a376",null);e["default"]=c.exports},d664:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{staticClass:"app-container"},[a("el-page-header",{attrs:{content:"新增课程",title:"返回课程列表"},on:{back:function(e){return t.$router.push("/coursePage/index")}}}),a("el-form",{ref:"form",staticStyle:{"margin-top":"15px"},attrs:{model:t.form,"label-width":"120px",rules:t.rules}},[a("el-form-item",{attrs:{label:"选择类型",prop:"playway"}},[a("div",{staticClass:"playway_img"},[a("img",{attrs:{src:i("a1eb"),alt:""}})]),a("div",{staticClass:"playway_img"},[a("img",{attrs:{src:i("022b"),alt:""}})])]),a("el-form-item",{attrs:{label:"课程标题",prop:"coursename"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"最多可输入50个字符"},model:{value:t.form.coursename,callback:function(e){t.$set(t.form,"coursename",e)},expression:"form.coursename"}})],1),a("el-form-item",{attrs:{label:"课程封面",prop:"coverimg"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.baseUrl,"show-file-list":!1,"auto-upload":!1,"on-change":t.uploadFileMethodAnswer,"on-success":t.handleAvatarSuccess}},[t.form.coverimg?a("img",{staticClass:"avatar",attrs:{src:t.processImgUrl(t.form.coverimg)}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),t.form.coverimg?a("i",{staticClass:"el-icon-close",staticStyle:{position:"absolute","z-index":"8",right:"10px","font-size":"16px"},on:{click:function(e){return t.removeImg(e)}}}):t._e(),a("div",{staticClass:"el-upload__tip",staticStyle:{color:"red","margin-top":"0"},attrs:{slot:"tip"},slot:"tip"},[t._v(" 建议尺寸472px*258px ")])])],1)],1),a("div",{staticClass:"dialog-footer text-center"},[a("el-button",{on:{click:function(e){return t.$router.push("/coursePage/index")}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",disabled:t.loading},on:{click:function(e){return t.updateData()}}},[t._v("创建")])],1)],1),a("Crop",{ref:"dialogCropVisible",attrs:{"img-url":t.optionImg,"auto-crop-height":258,"auto-crop-width":472,"img-height":t.imgHeight,"img-width":t.imgWidth,"img-file":t.imgFile},on:{imgUrl:t.getUrl}})],1)},s=[],r=i("6724"),n=i("555e"),o=(i("60b8"),i("0aff")),l=i("31a6").Base64,c={directives:{waves:r["a"]},components:{Crop:o["default"]},data:function(){return{dialogFormVisible:!1,loading:!1,form:{playway:1,coverimg:""},rules:{coursename:[{required:!0,message:"课程标题",trigger:"blur"},{max:50,message:"最多可输入50个字符",trigger:"blur"}],coverimg:[{required:!0,message:"请上传封面",trigger:"change"}],playway:{required:!0}},baseUrl:"/ovu-base/uploadImg",imgWidth:0,imgHeight:0,optionImg:"",imgFile:{}}},mounted:function(){},methods:{handleAvatarSuccess:function(t,e){this.form.coverimg=t.urls},uploadFileMethodAnswer:function(t){var e=this,i="image/jpeg"===t.raw.type||"image/png"===t.raw.type;if(!i)return this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),!1;this.imgFile=t;var a=new Image;a.src=URL.createObjectURL(t.raw);var s=this;a.onload=function(t){this.width-0>472?this.width<=1e3?(s.imgWidth=this.width,s.imgHeight=this.height):(s.imgWidth=1e3,s.imgHeight=1e3/this.width*this.height):(s.imgWidth=472,s.imgHeight=this.height),this.height-0<258&&(s.imgHeight=258)},this.$nextTick((function(){e.optionImg=URL.createObjectURL(t.raw);var i=e.$refs.dialogCropVisible;i.dialog=!0}))},getUrl:function(t){this.form.coverimg=t},removeImg:function(t){t.stopPropagation(),this.form.coverimg=""},back:function(){this.$router.push({path:"/coursePage/index"})},updateData:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;var i=Object.assign({coverimg:t.form.coverimg},t.form);t.loading=!0,Object(n["h"])(i).then((function(e){if(0==e.code){t.$message.success("提交成功");var i=Object.assign({},e.data);t.$delete(i,"coverimg"),t.$router.push({path:"/courseManage/index",query:{info:l.encode(JSON.stringify(i)),coverimg:e.data.coverimg}})}else t.$message.error(e.msg);t.loading=!1}))}))}}},u=c,d=(i("f41f"),i("9ca4")),p=Object(d["a"])(u,a,s,!1,null,"4676db44",null);e["default"]=p.exports},dcbf:function(t,e,i){"use strict";var a=i("7e73"),s=i.n(a);s.a},de68:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{position:"relative",height:"100%",width:"calc(100% - 30px)",margin:"20px auto"}},[t.showPrint?a("el-button",{staticClass:"print",attrs:{type:"primary"},on:{click:t.print}},[t._v("一键打印")]):t._e(),a("table",{staticClass:"table_ticket",attrs:{id:"printTable",border:"1;",cellpadding:"12;",cellspacing:"0;",align:"center"}},[t._m(0),a("tr",{attrs:{align:"center"}},[a("td",[t._v("姓名")]),a("td",[t._v(t._s(t.data.name))]),a("td",[t._v("学历")]),a("td",{staticStyle:{width:"124px"}},[t._v(t._s(t.data.education))]),a("td",{staticStyle:{width:"120px","text-align":"center"},attrs:{rowspan:"4"}},[t.data.Image?a("el-image",{staticStyle:{height:"156px",width:"103px","object-fit":"contain","margin-top":"3px"},attrs:{src:t.data.Image}}):t._e(),t.data.Image?t._e():a("img",{staticStyle:{height:"156px",width:"103px","object-fit":"contain","margin-top":"3px"},attrs:{src:i("3a29"),alt:""}})],1)]),a("tr",{attrs:{align:"center"}},[a("td",[t._v("身份证号")]),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.data.IdCard))])]),a("tr",{attrs:{align:"center"}},[a("td",[t._v("考号")]),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.data.code))])]),a("tr",{attrs:{align:"center"}},[a("td",[t._v("手机号")]),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.data.phone))])]),a("tr",{attrs:{align:"center"}},[a("td",[t._v("报考地区")]),a("td",{attrs:{colspan:"4"}},[t._v(" "+t._s(t.data.province)+" "+t._s(t.data.city)+" "+t._s(t.data.regionCode)+" ")])]),a("tr",{attrs:{align:"center"}},[a("td",[t._v("考试名称")]),a("td",{attrs:{colspan:"4"}},[t._v(t._s(t.data.examine))])]),a("tr",{attrs:{align:"center"}},[a("td",[t._v("考试时间")]),a("td",{attrs:{colspan:"4"}},[t._v(t._s(t.data.startTime)+" - "+t._s(t.data.endTime))])]),a("tr",{attrs:{align:"center"}},[a("td",[t._v("考试地点")]),a("td",{attrs:{colspan:"4"}},[t._v(t._s(t.data.site))])]),t.data.mattersNeedAttention?a("tr",[a("td",{staticStyle:{padding:"5px 10px"},attrs:{colspan:"5"}},[a("div",{domProps:{innerHTML:t._s(t.data.mattersNeedAttention)}})])]):t._e()]),t.showPrint?a("div",{staticStyle:{width:"522px",margin:"20px auto","line-height":"16px","font-size":"14px"}},[t._v(' *注：请单击准考证上方"一键打印"按钮进入打印页面设置窗口进行准考证打印，若您使用的浏览器不适配该功能，请你使用您已开启的浏览器的打印功能进行准考证打印。 ')]):t._e()],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"table_title",attrs:{colspan:"5"}},[a("div",{staticStyle:{position:"relative",height:"100%"}},[a("img",{staticStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"20px"},attrs:{src:i("fa65")}}),a("img",{staticStyle:{position:"absolute",left:"5px",top:"5px"},attrs:{src:i("437a")}}),a("img",{staticStyle:{position:"absolute",right:"5px",top:"5px"},attrs:{src:i("0a43")}})])])])}],r=i("5de5"),n=r["a"],o=(i("0d30"),i("9ca4")),l=Object(o["a"])(n,a,s,!1,null,"66618b96",null);e["default"]=l.exports},e0a5:function(t,e,i){"use strict";i.d(e,"c",(function(){return s})),i.d(e,"b",(function(){return r})),i.d(e,"d",(function(){return n})),i.d(e,"a",(function(){return o}));var a=i("b775");function s(t){return Object(a["a"])({url:"/ovu-ums/whiteList/app/common/sendAuthCode",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/ovu-ums/whiteList/app/common/register",method:"post",params:t})}function n(t){return Object(a["a"])({url:"/ovu-ums/whiteList/user/pwd/sendCode",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/ovu-ums/whiteList/user/pwd/forgetPassword",method:"post",data:t})}},e195:function(t,e,i){},e272:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("div",{staticClass:"operate-panel"},[i("div",{staticClass:"operate-panel_left"},[i("el-select",{staticStyle:{"margin-right":"5px"},attrs:{placeholder:"请选择-测评项目",filterable:"","value-key":"id"},model:{value:t.listQuery.projectid,callback:function(e){t.$set(t.listQuery,"projectid",e)},expression:"listQuery.projectid"}},t._l(t.projectList,(function(t){return i("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1),i("el-select",{staticStyle:{"margin-right":"5px"},attrs:{placeholder:"请选择-测评类型"},model:{value:t.listQuery.type,callback:function(e){t.$set(t.listQuery,"type",e)},expression:"listQuery.type"}},t._l(t.typeList,(function(t){return i("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1),i("el-input",{staticClass:"filter-item",attrs:{placeholder:"测评名称"},model:{value:t.listQuery.text,callback:function(e){t.$set(t.listQuery,"text",e)},expression:"listQuery.text"}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],1),i("div",{staticClass:"operate-panel_right"},[i("el-button",{attrs:{type:"primary"},on:{click:t.targetAdd}},[t._v("新增")])],1)]),i("div",{staticClass:"panel-body"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"",height:"100%","default-sort":{prop:"id",order:"descending"}},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),i("el-table-column",{attrs:{label:"测评项目",prop:"project",align:"left"}}),i("el-table-column",{attrs:{label:"测评名称",prop:"text",align:"left","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"人数",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(1==i.type?"不限":i.personList.length)+" ")]}}])}),i("el-table-column",{attrs:{label:"状态",align:"left",prop:"state"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(i.state)+" ")]}}])}),i("el-table-column",{attrs:{label:"类型",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(t._f("filterType")(i.type))+" ")]}}])}),i("el-table-column",{attrs:{label:"邀请码",prop:"invitecode",align:"left"}}),i("el-table-column",{attrs:{label:"创建人",prop:"creator",align:"left",width:"180px","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"创建日期",prop:"createTime",align:"left",width:"180px"}}),i("el-table-column",{attrs:{label:"发布",prop:"sort",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ccc"},on:{change:function(e){return t.changePub(a)}},model:{value:a.ispublish,callback:function(e){t.$set(a,"ispublish",e)},expression:"row.ispublish"}})]}}])}),i("el-table-column",{attrs:{label:"二维码",prop:"sort",align:"left",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[a.qrcode?i("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:a.qrcode,"preview-src-list":t.srcList},on:{click:function(e){t.srcList[0]=a.qrcode}}}):t._e()]}}])}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"160px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.targetToManage(a)}}},[t._v("管理")]),i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDelete(a)}}},[t._v("删除")])]}}])})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)])])},s=[],r=(i("6d57"),i("7528")),n=i("0c38"),o=i("6724"),l=i("333d"),c=i("60b8"),u=i("6d93"),d={components:{Pagination:l["a"]},directives:{waves:o["a"]},filters:{filterType:function(t){switch(t){case 1:return"公开";case 2:return"私有";case 3:return"邀请"}}},mixins:[c["a"]],data:function(){return{srcList:["https://www.baidu.com"],ids:"",groupList:[],typeList:[{label:"公开",value:"1"},{label:"私有",value:"2"},{label:"邀请",value:"3"}],courseList:[],tableKey:0,list:[],projectList:[],total:0,value:!0,listLoading:!0,listQuery:{pageIndex:0,currentPage:1,pageSize:10,text:"",type:"",projectid:""},query:{pageIndex:0,currentPage:1,pageSize:1e3,type:1}}},mounted:function(){var t=this;this.$route.query.id&&(this.listQuery.projectid=this.$route.query.id-0,this.$forceUpdate()),this.getList(),this.getPro(),u["default"].$on("getlist",(function(e){t.getList()}))},activated:function(){var t=this;this.$route.query.id&&(this.listQuery.projectid=this.$route.query.id-0,this.$forceUpdate()),this.getList(),this.getPro(),u["default"].$on("getlist",(function(e){t.getList()}))},methods:{resetQuery:function(){this.listQuery={pageIndex:0,currentPage:1,pageSize:10,text:"",type:"",projectid:""}},getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,Object(r["d"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1,t.list.length&&t.list.forEach((function(t){}))}))},getPro:function(){var t=this;Object(n["c"])(this.query).then((function(e){t.projectList=e.data.data||[];var i={id:-1,name:"默认项目"};t.projectList.unshift(i)}))},resetTemp:function(){this.form={bannerlogo:"",appview:1}},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["b"])(t.id).then((function(t){0==t.code?(e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.handleFilter()):e.$message.error(t.msg)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handleSelectionChange:function(t){t&&t.length?this.ids=t.reduce((function(t,e){return t.push(e.id),t}),[]).join(","):this.ids=""},changePub:function(t){var e=this;Object(r["a"])({id:t.id,ispublish:t.ispublish}).then((function(i){0==i.code?(e.$notify({title:"Success",message:"操作成功!",type:"success",duration:2e3}),e.getList()):(e.$message.error(i.msg),0==t.ispublish?t.ispublish=1:t.ispublish=0)}))},targetAdd:function(){this.$router.push({path:"/test/addTest"}),localStorage.getItem("testInfo")&&localStorage.removeItem("testInfo"),localStorage.getItem("id")&&localStorage.removeItem("id")},targetToManage:function(t){this.$router.push({path:"/test/manage",query:{id:t.id}}),localStorage.getItem("id")&&localStorage.removeItem("id"),localStorage.setItem("id",t.id)}}},p=d,m=i("9ca4"),h=Object(m["a"])(p,a,s,!1,null,"47a61e43",null);e["default"]=h.exports},e3ef9:function(t,e,i){t.exports=i.p+"static/img/demo-circle.cd8a6606.png"},e452:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"operate-panel"},[i("div",{staticClass:"operate-panel_left"},[i("el-input",{staticClass:"filter-item",staticStyle:{"margin-right":"5px"},attrs:{placeholder:"名称"},model:{value:t.listQuery.materialname,callback:function(e){t.$set(t.listQuery,"materialname",e)},expression:"listQuery.materialname"}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.resetQuery}},[t._v("重置")])],1),i("div",{staticClass:"operate-panel_right"},[i("el-button",{attrs:{type:"primary"},on:{click:t.handleCreate}},[t._v("新增")])],1)]),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%",height:"calc(100% - 128px)"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":"","default-sort":{prop:"id",order:"descending"}}},[i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),i("el-table-column",{attrs:{label:"名称",prop:"materialname",align:"left","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"上传人",prop:"creatorName",align:"left"}}),i("el-table-column",{attrs:{label:"上传时间",prop:"createtime",align:"left",sortable:"","show-overflow-tooltip":"","min-width":"150px"}}),i("el-table-column",{attrs:{label:"下载次数",prop:"downloadTimes",align:"left",sortable:""}}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"120px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDelete(a)}}},[t._v("删除")])]}}])})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1)],1),t.dialogFormVisible?i("el-dialog",{attrs:{title:t.textMap[t.dialogStatus],visible:t.dialogFormVisible,width:"407px","append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:t.baseUrl,accept:"image/*,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf","on-success":t.handleAvatarSuccess,"on-remove":t.handleRemove,"on-progress":t.handFilePro,"file-list":t.fileList}},[i("i",{staticClass:"el-icon-upload"}),i("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),i("em",[t._v("点击上传")])]),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传image/*,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf文件")]),t.erroMessage?i("div",{staticClass:".el-upload__tip el-form-item__error",attrs:{slot:"tip"},slot:"tip"},[t._v(" 请上传文件 ")]):t._e()]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.cancel}},[t._v("取消")]),i("el-button",{attrs:{type:"primary",disabled:t.loading||t.imgLoading},on:{click:function(e){return t.updateData()}}},[t._v("确认")])],1)],1):t._e()],1)},s=[],r=(i("cc57"),i("6d57"),i("b449"),i("6648")),n=i("6724"),o=i("555e"),l=i("333d"),c=i("60b8"),u={components:{Pagination:l["a"]},directives:{waves:n["a"]},mixins:[c["a"]],props:["courseid"],data:function(){return{tableKey:0,list:[],total:0,listLoading:!0,imgLoading:!1,loading:!1,listQuery:{materialname:"",pageIndex:0,currentPage:1,pageSize:10},dialogFormVisible:!1,fileList:[],dialogStatus:"",textMap:{update:"更新",create:"新增"},baseUrl:"/ovu-zuul/ovu-mooc/api/v1/qiniu/uploadImg",erroMessage:!1}},created:function(){this.getList()},methods:{resetQuery:function(){this.listQuery={materialname:"",pageIndex:0,currentPage:1,pageSize:10,courseid:this.courseid}},search:function(){this.listQuery.currentPage=1,this.getList()},getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,this.listQuery.courseid=this.courseid,Object(o["p"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1}))},resetTemp:function(){this.imgLoading=!1,this.fileList=[]},handleCreate:function(){this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["d"])(t.id).then((function(t){e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.getList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},handFilePro:function(){this.imgLoading=!0},handleAvatarSuccess:function(t,e){this.imgLoading=!1,this.fileList.push(e),this.erroMessage=!1},handleRemove:function(t,e){this.fileList=e},updateData:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.fileList.length){t.next=3;break}return this.erroMessage=!0,t.abrupt("return");case 3:return this.loading=!0,e=[],this.fileList.forEach((function(t){e.push({materialname:t.name,materialurl:t.url,courseid:i.courseid})})),t.prev=6,t.next=9,Object(o["i"])(e).then((function(t){i.$message.success("提交成功"),i.dialogFormVisible=!1,i.getList()}));case 9:return t.prev=9,this.loading=!1,t.finish(9);case 12:case"end":return t.stop()}}),t,this,[[6,,9,12]])})));function e(){return t.apply(this,arguments)}return e}(),cancel:function(){this.dialogFormVisible=!1,this.resetTemp()}}},d=u,p=(i("cd85"),i("9ca4")),m=Object(p["a"])(d,a,s,!1,null,"f2cb9582",null);e["default"]=m.exports},e531:function(t,e,i){},e64b:function(t,e,i){},ef3c:function(t,e,i){"use strict";i.r(e);i("f548");var a,s,r={created:function(){var t=this.$route,e=t.params;t.query,e.path;this.$router.replace({path:"/index"})},render:function(t){return t()}},n=r,o=i("9ca4"),l=Object(o["a"])(n,a,s,!1,null,null,null);e["default"]=l.exports},f13f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAACuElEQVRIS61Wy27aUBCdaxKDeQTzKHZStlm2H9Df6K7bLNpFP6Hd5RO67bLdtT8RqR/QriAJRIpJDAXZ5WUw4Fudq1xyRUwCLUiWkO17zsycMzNmRETn5+fPOOevNU17o2naCyJK4v6mP8YY4eKcTxeLxS8i+sI5/358fPyb1Wq1sqZp7w3DODFN09Z1fW9TYPmeQkBhGM49z3ODIPgcRdEndnFx8TaVSn2sVCrP9/f3t8WOfX82m5Hruq3JZHIKgjPbtl9lMhltJ+h3IKPRKHJd9wdrNBpetVo1dxW9DBJZOI7jg2BcrVaNVQLOOUQjTXs6sSiKhMi4VgiCWAIAj0YjGg6HVCqV6LHswjCkXq9H+XyeDMNYkiCD6+vreAJE1Ol0yPM8ymQydHh4GEsCkJubGxqPx1Qul0UwMuNHCZAmXri9vaXBYEAHBweCZG/v3sHz+VyAI0vTNKlSqYjnyB6lepJAkriuK0Cy2SxZlkW6rtN0OhUZglwFx5mtCHAAkcpMAIYySHDU3bZtSiQSS3G3JsBJCNntdoXwAFssFqJsxWJxrQE2KpHaeChLq9USZHDL0dHRo+7aigDg7XZb1B4aTCYTSqfTS03iJsDGBKoGKAk0gPAQOJfLPXDXVhpIq8JFEBRWRNOhTBC63+8Ld6l9ohI4jrO+kyU4hC0UCgJcdYvsA9kncBPIHxA0m00xi9QmgksQoe/7y8jV5+q8QbkQBMqHblY7WWRwdXUlCFa9HASBOIjo48BVEowUlDCZvF+EyFDMomazKcb1Ksj/TlPo5DjOH3Z5eXlmWdbahQMidTXK/6v3Ze3l8+XCqdfr7wzD+GBZ1s5W5p3LWkEQnC6XfiqVOikUCv+09BE1JijG/Gw2m/u+f7/0Vz9bGGMvGWO6WoJNdvXdZ0vIOf/JGPsaRdE3fLb8BQatKuRlWl+CAAAAAElFTkSuQmCC"},f1b9:function(t,e,i){"use strict";var a=i("af00"),s=i.n(a);s.a},f41f:function(t,e,i){"use strict";var a=i("e531"),s=i.n(a);s.a},f50c:function(t,e,i){},f60c:function(t,e,i){"use strict";i.d(e,"d",(function(){return s})),i.d(e,"c",(function(){return r})),i.d(e,"f",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"e",(function(){return l})),i.d(e,"g",(function(){return c})),i.d(e,"a",(function(){return u}));i("e10e"),i("6d57");var a=i("b775");function s(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationstudent/page",method:"get",params:t})}function r(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationstudent/edit",method:"post",data:t})}function n(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationstudent/get/".concat(t),method:"get"})}function o(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationstudent/delete/".concat(t),method:"get"})}function l(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationstudent/queryCity?code=".concat(t),method:"get"})}function c(t){return Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationstudent/previewExamCode/".concat(t),method:"get"})}function u(t){var e=new FormData;return Object.keys(t).forEach((function(i){e.append(i,t[i])})),Object(a["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/educationstudent/batchSendMsg",method:"post",data:e})}},fa65:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJcAAAAbCAYAAABx7R3aAAAExklEQVRoge1bzXUTMRCe8NyAuXHEKUEqwZTglJCc+DsRKsCc4HGLS8AlxCVIJWQ5cmNLME8wCnpiZvSz2t04L98lsX5GWunTzGgknR2PR5gaSmsFAFui2c/WmIP/obTeAMAlUW4HAC5vGaXvrTG7Fp+jtL5k+rizxlw3auMD04a1xmgsswaADw2au7LGdA3kZGMxZWMBegBYE+nu4w/Bbzeoiih3hZOyIuQ2IRciJi8waX+AhNwQWQdrzOc40aUprSlyKaX10hrT4zdSY1WKFY7vZJiFXG4FKa17YqJislDE6rB+R5SPf4tQWrvyN0wZjkRrpfVtlLbHRbEl6vW4GDgcGPI4ov5HyFPCXJoLcNBZcqEWoGAxjVqFrFZhUKMVVgSJO9SyVPspc7Rn+rBBcrnvlcww1W5HaHALE2MWnwv+kueWGlRrzJmUj4PUM5MMkVkFaXLRn4m1UA2ohQLon0lay/fjF1P/POUnKa3viHFwZvhVg+8ahMWPjy8GC3n56WdNNW7ClTXGMiYRhHSPmJCSryFpBcX5TxGB15z/mEOsoB+caWyyeShFC16kzOIZ/h1DvXFqWqEvVGriyjvw12Em/RrBOe+8c479pHZyTm6J5uB8q9HHYACS3JDI5Sp/wf/fj0AwllzCoO6DlbwlJr+LJ3Xk7fct09frknYx/BKb83swYRFn+i6Ke9wGWdzgyOUrvw3SmhLMmT6lNZW1Ekxf7ycNd5uU3KxJFeJYKWww/gbCIthGIYZrKv6G8T7W57PGPA9+xm3NpdWyuUGRi6rs/2+twahwQouYTi5qJiinTq7c5QM3fTGKuBGTi6qcFDIAlooLWWPOldZUG0v0c4CblCD/D6aOSj9iFHMjJJdUWRRSiwqfYcM42R6OWHfBb0esc6ogmql7U4WkNIIP1Tyg6XwtpfU54z8OwRrDG2FbzwfIq+KGJ5er/BUA3mQ01IxgsZbxmEnbcM45eXTTCsFpRWu0MrfV3FgUViaFVHTYg9IUB2Eb3wUxKyqI2ke70KxJU1rfCEdHa8ZEZ8MHhk8Qg7gRaq5StBiw0tV18IFJJER8RNSXRqZx18gdNZ0q3AJrFaao5sYCNY9n2+vMyt8A4N0QrYXbcAqTmUQ0yznhiDHM1pjoG7kWg7jhNZcXcsxQgYOJheC01pT+1vcM7fkgzulmRDU3wt3iETNAENKKWCD4OJKWCAOYpMxol9T5S3cMvOlYCg79jtt45OCRhEKquBHHuSQhLYkFArmkySgNYIrlg2j/pVD2e0abLJTWr8LbtSeMYm48I77VC/mWqjwQD8EsPqEMRdzgzhZDlsIIxAJOcyXMyC6xW3RmkAyaJhBfr66BdOBeJ/CfRn1IG4psbki3IkIhY1y5ocg1i9ZK3UrIgXC5cQhu8BRh8lukCWRxI3Wfa55rqk84BSS5sai8RdoCNZprhc+xgKm/DPI9bMqhxt3g0LO96h1lhlzK3PqxkPJCJMchRAtezPJAQ9jap3wL7kqxx5IIiu5SJg/P91Kyp4R/IufONH8x7UoBYCovOQ6tMdfrn1pyjQYXKGUeO0yJHh8G3x+UMxcqTwJzPoqlHh6EK6vVw4QSZ/hiBO2V075zBy6sMe4ad4xW2mbaTQEA/AYAWNvMyDNJBAAAAABJRU5ErkJggg=="},fa93:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAADuUlEQVRIS7WWb2hVdRjHP8895/45d3fRP0HcwqFba8tN165IURSNIKE3EhH0IiSpRRglk5aghs2ctKyWRisaEmJYYPQihHrhiy0WLZo21z+pHGoyK3Ldu91z/5xznjjnbm1rm2uVPzhvDt/f8z2/5/v9/p4jAOmGpUsIG/erykModSJE/feLXarkEE6J6mFc94PSEyO/Sqpx2fUioc0Im0CXKmIutvB0vKAOyAhKt6p3QNLJsmYV2QGU/ZfCc+z9WTzdLalkWS9wGyKh/5VA1QP6JJUsv4Rw9azinoe6DmKYELoMt49zHMScA6eMSnpteUbBmkHgOGg+h5SUoulRiMWLBf62tFAAH5coRe0MEo6AYfyFErBnE/hflLUJ37sBc/0Gcvt24p0dRqKxqc2qqI9LpzBq6oi1PE/+UBfOF73FE0+QzEmg+TwSjRLb8wbhu9fjnv4a++mNuD98i5QkkEgMzYzh44yqGqzOQxgrbiT/0fvk2rehmfFgv7/mP0FmjFBFJdYr72BUr8I52Y+9ZSPe+WEkFkczaYyKqmLxm9fgfN6DvX0zevFC8aQTms1NAIFofm9DN1QQ29uFWZfE/eYr7NZHcfoGMJvuwNrxEkbdLTif9ZDd80xAjhlGFtRgUiLXxUuNEiqvIL7/MMaqBpyeT8gd6CD2XAdG7eril7dsQlOjSDQCoSmB52/RNKf4TtLxMYyqWmLb2jFuvQvSKShJUDh+jPyrbbg/fockrkLC4Vkum7dFU0gJ7Oed/53wPU3E3zyCXHMd3tkzjDc/iDc4gCy5NhAedJEEvhXtTPAYDeuwdnUSqqpBRy4gy8rxhk5i73wSd/DLgHTRJ1DXDXzuC229fBCzPkn+4w/JdbYT3/s6xuq1RXc99TD620XEsv65Bn5Ci72vwXrxLYyaepz+T8nu2oI7OIjRmCTW9lrRXd+fwm55BO+n0xBPzEj8/DmwM4Qqb8LadxBjZTVO33Hs1mY83+clCXT0EqHllcS73gvI3aEB7NbH8M4NI5Ho5XMwmWSroxvz9iac/l6ybVvxzp0B0wzuGx8T5GT5CqyOtzFq11A4dpTs7q1oJrNQkt2ggLnuTsz7HiC3/wX0lxEkEp7ZY1+j8TShldVEn3iWwpFunKETxaBNT/Kc17W/2XURKx4UIRyZkdBJPwaJdwpIPIHmsjOK+xhV/ph/4Pgk/j3vB2jBeVCYmAfTkjw5cNKNZY9rSLZfiZHpBSPzSg/9OX5b6kWI/Jv5rEoeYVBE36XgHvV/W/4EM8Dxs311uxEAAAAASUVORK5CYII="},fe8d:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:"测评详情",width:"60%",visible:t.dialog,"append-to-body":"","close-on-click-modal":!1},on:{"update:visible":function(e){t.dialog=e}}},[i("el-card",{staticClass:"card_item",attrs:{shadow:"hover"}},[i("h4",[t._v(t._s(t.item.personName))]),i("div"),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{span:8}},[i("div",[t._v("测评名称："+t._s(t.item.text))])]),i("el-col",{attrs:{span:8}},[i("div",[t._v("完成时间:"+t._s(t.item.submitTime))])]),i("el-col",{attrs:{span:8}},[i("div",[t._v("用时/分钟："+t._s(t.item.time))])])],1)],1),i("el-card",{staticClass:"box-card card_item inline_block",staticStyle:{width:"200px"},attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("得分")])]),i("div",{staticStyle:{"margin-bottom":"15px"}},[i("span",[i("strong",{staticStyle:{color:"#FCA54D","margin-right":"5px","font-size":"25px"}},[t._v(" "+t._s(null!==t.item.subjectiveScore?t.item.subjectiveScore:"--"))]),t._v("分")]),t._v(" "),i("span",{staticStyle:{"font-size":"25px",margin:"0 10px"}},[t._v("/")]),t._v(" "),i("strong",{staticStyle:{"margin-right":"5px","font-size":"25px"}},[t._v(t._s(null!==t.item.objectiveScore?t.item.objectiveScore:"--"))]),t._v("分 ")]),i("div",[i("span",{staticStyle:{"margin-right":"15px"}},[t._v("主观题 "+t._s(null!==t.item.subjectiveNum?t.item.subjectiveNum:"--")+" ")]),t._v(" "),i("span",[t._v("客观题 "+t._s(null!==t.item.objectiveNum?t.item.objectiveNum:"--")+" ")])]),i("div")]),i("el-card",{staticClass:"box-card card_item inline_block",staticStyle:{width:"calc(100% - 220px)","max-height":"500px",overflow:"auto"},attrs:{shadow:"hover"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("答题情况")])]),i("div",{staticStyle:{height:"280px"}},[i("el-table",{key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.item.infoList,border:"",fit:"","highlight-current-row":"",height:"100%","default-sort":{prop:"id",order:"descending"}}},[i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),i("el-table-column",{attrs:{label:"题型",prop:"type",align:"left"}}),i("el-table-column",{attrs:{label:"正确题数/题数",align:"left","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(i.correctCount)+" / "+t._s(i.errorCount-0+(i.correctCount-0))+" ")]}}])}),i("el-table-column",{attrs:{label:"得分",prop:"score",align:"left"}})],1)],1)])],1)],1)},s=[],r=i("200d"),n={props:["item"],data:function(){var t;return t={list:[],dialog:!1,loading:!1,tableKey:0},Object(r["a"])(t,"list",[]),Object(r["a"])(t,"total",0),Object(r["a"])(t,"listLoading",!0),Object(r["a"])(t,"listQuery",{pageIndex:0,currentPage:1,pageSize:10}),t},created:function(){},methods:{}},o=n,l=(i("730e"),i("9ca4")),c=Object(l["a"])(o,a,s,!1,null,"1a3b7afa",null);e["default"]=c.exports}}]);