(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-676edc3d"],{3789:function(e,t,s){"use strict";var r=s("6a99"),o=s.n(r);o.a},"6a99":function(e,t,s){},d5c2:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"register-container"},[s("div",{staticClass:"register_bg"}),s("div",{staticClass:"register_form"},[s("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules,autocomplete:"on","label-position":"left"}},[s("div",{staticClass:"title-container"},[s("h1",[e._v("注册")])]),s("div",{staticClass:"register_form_content"},[s("div",[s("el-form-item",{attrs:{prop:"username"}},[s("span",{staticStyle:{color:"red"}},[e._v("* ")]),s("el-input",{ref:"username",staticStyle:{width:"98%"},attrs:{size:"large",placeholder:"输入手机号码"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}},[s("template",{slot:"prepend"},[s("i",{staticClass:"el-icon-user",staticStyle:{fontSize:"20px"}})])],2)],1),s("el-form-item",[s("span",{staticStyle:{color:"red"}},[e._v("* ")]),s("el-input",{staticStyle:{width:"72%"},attrs:{size:"large",placeholder:"短信验证码"},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}},[s("template",{slot:"prepend"},[s("i",{staticClass:"el-icon-folder-checked",staticStyle:{fontSize:"20px"}})])],2),e.showCode?s("button",{staticClass:"button_regCode",staticStyle:{width:"25%"},on:{click:function(t){return t.preventDefault(),e.getCode(t)}}},[e._v("获取验证码")]):e._e(),e.showCode?e._e():s("button",{staticClass:"button_regCode",staticStyle:{width:"25%"},attrs:{disabled:""}},[e._v(e._s(e.count)+"s")])],1),s("el-tooltip",{attrs:{placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[s("el-form-item",{attrs:{prop:"password"}},[s("span",{staticStyle:{color:"red"}},[e._v("* ")]),s("el-input",{key:e.passwordType,ref:"password",staticStyle:{width:"72%"},attrs:{size:"large",placeholder:"输入密码",maxlength:"16",minlength:"6",type:e.passwordType,"show-password":""},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:function(t){return e.checkCapslock(t)}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}},[s("template",{slot:"prepend"},[e._v("设置密码")])],2),1==e.pwdLv?s("span",{staticClass:"codeIntensity_1"},[e._v("弱")]):e._e(),2==e.pwdLv?s("span",{staticClass:"codeIntensity_2"},[e._v("中")]):e._e(),3==e.pwdLv?s("span",{staticClass:"codeIntensity_3"},[e._v("强")]):e._e()],1)],1),s("el-form-item",{attrs:{prop:"confirmPassword"}},[s("span",{staticStyle:{color:"red"}},[e._v("* ")]),s("el-input",{key:e.passwordType,staticStyle:{width:"72%"},attrs:{size:"large",placeholder:"确认密码",type:e.passwordType,"show-password":""},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:function(t){return e.checkCapslock(t)}},model:{value:e.registerForm.confirmPassword,callback:function(t){e.$set(e.registerForm,"confirmPassword",t)},expression:"registerForm.confirmPassword"}},[s("template",{slot:"prepend"},[e._v("确认密码")])],2)],1),s("button",{staticClass:"button_regCode_register",staticStyle:{width:"100%","margin-bottom":"30px"},on:{click:function(t){return t.preventDefault(),e.save(t)}}},[e._v("立即注册")]),s("span",{staticClass:"hasIdToLogin"},[s("router-link",{attrs:{to:"/login"}},[e._v("已有账号，现在登陆")])],1)],1)])])],1)])},o=[],i=(s("9e76"),s("e0a5")),a={name:"Register",inject:["reload"],data:function(){return{registerForm:{username:"",password:"",code:"",confirmPassword:""},registerRules:{username:{required:!0,trigger:"change",message:"手机号码不能为空"},password:{required:!0,trigger:"change",message:"密码不能为空"},confirmPassword:{required:!0,trigger:"change",message:"密码不能为空"}},passwordType:"password",capsTooltip:!1,loading:!1,checked:!1,active:1,showCode:!0,count:"",timer:null,pwdLv:0}},mounted:function(){""===this.registerForm.username?this.$refs.username.focus():""===this.registerForm.password&&(this.$refs.password.focus(),this.reload())},methods:{checkCapslock:function(){this.pwdLv=0,this.registerForm.password.match(/[a-z]/g)&&this.pwdLv++,this.registerForm.password.match(/[0-9]/g)&&this.pwdLv++,this.registerForm.password.match(/[A-Z]/g)&&this.pwdLv++,this.registerForm.password.length<6&&(this.pwdLv=0),this.pwdLv>3&&(this.pwdLv=3)},registerDone:function(){var e=this;this.registerForm.username?this.registerForm.code?this.registerForm.password&&this.registerForm.confirmPassword?this.registerForm.password===this.registerForm.confirmPassword?this.$nextTick((function(){var t={loginName:e.registerForm.username,password:e.registerForm.password,authCode:e.registerForm.code};Object(i["b"])(t).then((function(t){0==t.code?(e.$message.success("注册成功"),e.$router.push({path:"/index"})):e.$message.error(msg)}))})):this.$message.error("密码输入不一致,请重新输入"):this.$message.error("请确认密码"):this.$message.error("请输入验证码"):this.$message.error("请输入手机号")},getCode:function(){var e=this,t=60;this.registerForm.username?Object(i["c"])({mobile:this.registerForm.username}).then((function(s){0==s.code?(e.count=t,e.showCode=!1,e.timer=setInterval((function(){e.count>1&&e.count<=t?e.count--:(e.showCode=!0,clearInterval(e.timer),e.timer=null)}),1e3),e.$message({message:"短信发送成功，请注意查收！",type:"success"})):e.$message.error(s.msg)})):this.$message.error("请输入手机号")},save:function(){var e=this;this.$refs.registerForm.validate((function(t){if(!t)return!1;e.registerDone()}))}}},n=a,c=(s("3789"),s("9ca4")),l=Object(c["a"])(n,r,o,!1,null,"01b4a376",null);t["default"]=l.exports},e0a5:function(e,t,s){"use strict";s.d(t,"c",(function(){return o})),s.d(t,"b",(function(){return i})),s.d(t,"d",(function(){return a})),s.d(t,"a",(function(){return n}));var r=s("b775");function o(e){return Object(r["a"])({url:"/ovu-ums/whiteList/app/common/sendAuthCode",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/ovu-ums/whiteList/app/common/register",method:"post",params:e})}function a(e){return Object(r["a"])({url:"/ovu-ums/whiteList/user/pwd/sendCode",method:"post",data:e})}function n(e){return Object(r["a"])({url:"/ovu-ums/whiteList/user/pwd/forgetPassword",method:"post",data:e})}}}]);