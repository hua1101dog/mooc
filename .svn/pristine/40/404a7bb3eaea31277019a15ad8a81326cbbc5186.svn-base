(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-735e9382"],{"180d":function(t,e,i){"use strict";var s=i("ad11"),a=i.n(s);a.a},"1b6e":function(t,e,i){"use strict";var s=i("64ed"),a=i.n(s);a.a},3248:function(t,e,i){},"333d":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[i("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},a=[],n=(i("163d"),i("09f4")),o={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&Object(n["a"])(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&Object(n["a"])(0,800)}}},r=o,l=(i("a648"),i("9ca4")),c=Object(l["a"])(r,s,a,!1,null,"d8e2954c",null);e["a"]=c.exports},"3d70":function(t,e,i){"use strict";i.d(e,"f",(function(){return a})),i.d(e,"e",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"h",(function(){return r})),i.d(e,"c",(function(){return l})),i.d(e,"d",(function(){return c})),i.d(e,"g",(function(){return u})),i.d(e,"a",(function(){return d}));var s=i("b775");function a(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paper/list",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paperClassification/list",method:"get",params:t})}function o(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paperClassification/delete?id=".concat(t),method:"get"})}function r(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paperClassification/edit",method:"post",data:t})}function l(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paper/delete?ids=".concat(t),method:"get"})}function c(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paper/edit",method:"post",data:t})}function u(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paper/detail?paperId=".concat(t),method:"get"})}function d(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/paper/publish",method:"post",data:t})}},"3f4b":function(t,e,i){"use strict";i.d(e,"e",(function(){return a})),i.d(e,"d",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"g",(function(){return r})),i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return c})),i.d(e,"f",(function(){return u}));var s=i("b775");function a(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/hierarchy/list",method:"get",params:t})}function n(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/subject/list",method:"get",params:t})}function o(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/hierarchy/edit",method:"post",data:t})}function r(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/hierarchy/delete?id=".concat(t),method:"get"})}function l(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/subject/delete?ids=".concat(t),method:"get"})}function c(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/subject/edit",method:"post",data:t})}function u(t){return Object(s["a"])({url:"/ovu-zuul/ovu-mooc/api/v1/newknowledge/subject/move",method:"get",params:t})}},"57c3":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-form",{staticClass:"app-container"},[i("el-page-header",{attrs:{content:(t.form.id?"编辑":"新增")+"试卷",title:"返回试卷列表"},on:{back:function(e){return t.$router.push("/paper/paper/index")}}}),i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"form",staticStyle:{"margin-top":"15px"},attrs:{model:t.form,"label-width":"120px",rules:t.rules}},[i("el-card",{staticClass:"box-card",staticStyle:{margin:"0 15px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"el-card-header-title"},[t._v("试卷信息")])]),i("div",[i("el-form-item",{attrs:{label:"试卷名称",prop:"text"}},[i("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"最多可输入32个字符"},model:{value:t.form.text,callback:function(e){t.$set(t.form,"text",e)},expression:"form.text"}})],1),i("el-form-item",{attrs:{label:"试卷分组",required:""}},[t._l(t.groupList,(function(e){return i("el-tag",{key:e.id,staticClass:"group_item",class:{tag_active:t.paperClassificationId==e.id},attrs:{closable:-1!==e.id},on:{close:function(i){return t.delGroup(e)},click:function(i){return t.getGroup(e)}}},[t._v(t._s(e.text))])})),i("div",{staticClass:"inline_block"},[i("el-input",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticStyle:{width:"160px"},attrs:{placeholder:"请输入分组名称"},on:{input:function(e){return t.$forceUpdate()}},nativeOn:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.saveGroup(e):null}},model:{value:t.form.paperClassificationNameCopy,callback:function(e){t.$set(t.form,"paperClassificationNameCopy",e)},expression:"form.paperClassificationNameCopy"}})],1),i("span",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"el-icon-check saveGroup",on:{click:t.saveGroup}}),i("span",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],staticClass:"el-icon-refresh-left saveGroup",on:{click:t.uoGroup}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"margin-left":"50px"},attrs:{type:"primary"},on:{click:t.addGroup}},[t._v("+自定义分组")])],2),t.erroMessage?i("div",{staticStyle:{color:"#ff4949","font-size":"12px","line-height":"1","margin-left":"120px","margin-top":"-13px","margin-bottom":"5px"}},[t._v(" 请选择试卷分组 ")]):t._e(),i("el-form-item",{attrs:{label:"试卷描述",prop:"description"}},[i("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"最多可输入200个字符",type:"textarea"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)]),i("el-card",{staticClass:"box-card",staticStyle:{margin:"15px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticStyle:{color:"#ff4949","margin-right":"4px"}},[t._v("*")]),i("span",{staticClass:"el-card-header-title "},[t._v("选择题库")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticStyle:{"margin-left":"50px"},attrs:{type:"primary"},on:{click:t.addSubject}},[t._v("+添加题库")])],1),t.selectSubList.length?i("div",[i("span",{staticStyle:{"font-size":"12px",color:"red"}},[t._v("*拖拽题目，可进行排序")]),i("div",{staticClass:"filter-container"},[i("div",{staticClass:"panel",staticStyle:{padding:"15px",border:"0"}},[t.countList[0]>0?i("el-card",{staticClass:"box-card "},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 单选题（共"+t._s(t.countList[0])+"题，合计"+t._s(t.countList[0]*t.scoreList[0])+"分） ")]),i("draggable",{attrs:{list:t.selectSubList},on:{update:t.datadragEnd}},t._l(t.selectSubList,(function(e,s){return 1==e.type?i("div",{key:s,staticStyle:{cursor:"move","margin-bottom":"15px"}},[i("div",{staticClass:"question_title"},[i("span",[t._v("Q"+t._s(s+1)+".["+t._s(t._f("filterSubtype")(e.type))+"] "+t._s(e.question)+" ("+t._s(e.score)+"分)")]),i("el-link",{staticStyle:{padding:"0 3px","vertical-align":"top","margin-left":"10px"},attrs:{type:"primary",underline:!1},on:{click:function(i){return t.delSub(e)}}},[t._v("删除")])],1),5!==e.type?i("div",{staticStyle:{margin:"10px 0"}},[3!==e.type?i("div",{staticClass:"inline_block"},[t._v(" 选项 ")]):t._e(),3!==e.type?i("div",{staticClass:"inline_block",staticStyle:{"vertical-align":"text-top","margin-left":"10px"}},t._l(e.optionDetail,(function(e,s){return i("div",{key:s,staticClass:"question_option"},[t._v(" "+t._s(t.options[s])+". "),i("span",{staticClass:"question_option_content"},[t._v(t._s(e.optionContent))])])})),0):t._e(),i("div",{staticStyle:{margin:"10px 0"}},[1==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]):t._e(),2==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answerList.join(",")))])]):t._e(),3==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s("A"==e.answer?"对":"错"))])]):t._e()])]):i("div",{staticStyle:{margin:"10px 0"}},[i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]),t._l(e.keyWordList,(function(e,s){return i("div",{key:s,staticStyle:{"margin-top":"10px"}},[i("span",[t._v("关键词 "+t._s(e.synonym)+" ")]),t._v(" "),i("span",[t._v("权重 "+t._s(e.weight)+"%")])])}))],2),i("el-divider")],1):t._e()})),0)],1):t._e(),t.countList[1]>0?i("el-card",{staticClass:"box-card mt20"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 多选题（共"+t._s(t.countList[1])+"题，合计"+t._s(t.countList[1]*t.scoreList[1])+"分） ")]),i("draggable",{attrs:{list:t.selectSubList},on:{update:t.datadragEnd}},t._l(t.selectSubList,(function(e,s){return 2==e.type?i("div",{key:s,staticStyle:{cursor:"move","margin-bottom":"15px"}},[i("div",{staticClass:"question_title"},[i("span",[t._v("Q"+t._s(s+1-t.countList[0])+".["+t._s(t._f("filterSubtype")(e.type))+"] "+t._s(e.question)+" ("+t._s(e.score)+"分)")]),i("el-link",{staticStyle:{padding:"0 3px","vertical-align":"top","margin-left":"10px"},attrs:{type:"primary",underline:!1},on:{click:function(i){return t.delSub(e)}}},[t._v("删除")])],1),5!==e.type?i("div",{staticStyle:{margin:"10px 0"}},[3!==e.type?i("div",{staticClass:"inline_block"},[t._v(" 选项 ")]):t._e(),3!==e.type?i("div",{staticClass:"inline_block",staticStyle:{"vertical-align":"text-top","margin-left":"10px"}},t._l(e.optionDetail,(function(e,s){return i("div",{key:s,staticClass:"question_option"},[t._v(" "+t._s(t.options[s])+". "),i("span",{staticClass:"question_option_content"},[t._v(t._s(e.optionContent))])])})),0):t._e(),i("div",{staticStyle:{margin:"10px 0"}},[1==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]):t._e(),2==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answerList.join(",")))])]):t._e(),3==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s("A"==e.answer?"对":"错"))])]):t._e()])]):i("div",{staticStyle:{margin:"10px 0"}},[i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]),t._l(e.keyWordList,(function(e,s){return i("div",{key:s,staticStyle:{"margin-top":"10px"}},[i("span",[t._v("关键词 "+t._s(e.synonym)+" ")]),t._v(" "),i("span",[t._v("权重 "+t._s(e.weight)+"%")])])}))],2),i("el-divider")],1):t._e()})),0)],1):t._e(),t.countList[2]>0?i("el-card",{staticClass:"box-card mt20"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 判断题（共"+t._s(t.countList[2])+"题，合计"+t._s(t.countList[2]*t.scoreList[2])+"分） ")]),i("draggable",{attrs:{list:t.selectSubList},on:{update:t.datadragEnd}},t._l(t.selectSubList,(function(e,s){return 3==e.type?i("div",{key:s,staticStyle:{cursor:"move","margin-bottom":"15px"}},[i("div",{staticClass:"question_title"},[i("span",[t._v("Q"+t._s(s+1-t.countList[0]-t.countList[1])+".["+t._s(t._f("filterSubtype")(e.type))+"] "+t._s(e.question)+" ("+t._s(e.score)+"分)")]),i("el-link",{staticStyle:{padding:"0 3px","vertical-align":"top","margin-left":"10px"},attrs:{type:"primary",underline:!1},on:{click:function(i){return t.delSub(e)}}},[t._v("删除")])],1),5!==e.type?i("div",{staticStyle:{margin:"10px 0"}},[3!==e.type?i("div",{staticClass:"inline_block"},[t._v(" 选项 ")]):t._e(),3!==e.type?i("div",{staticClass:"inline_block",staticStyle:{"vertical-align":"text-top","margin-left":"10px"}},t._l(e.optionDetail,(function(e,s){return i("div",{key:s,staticClass:"question_option"},[t._v(" "+t._s(t.options[s])+". "),i("span",{staticClass:"question_option_content"},[t._v(t._s(e.optionContent))])])})),0):t._e(),i("div",{staticStyle:{margin:"10px 0"}},[1==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]):t._e(),2==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answerList.join(",")))])]):t._e(),3==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s("A"==e.answer?"对":"错"))])]):t._e()])]):i("div",{staticStyle:{margin:"10px 0"}},[i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]),t._l(e.keyWordList,(function(e,s){return i("div",{key:s,staticStyle:{"margin-top":"10px"}},[i("span",[t._v("关键词 "+t._s(e.synonym)+" ")]),t._v(" "),i("span",[t._v("权重 "+t._s(e.weight)+"%")])])}))],2),i("el-divider")],1):t._e()})),0)],1):t._e(),t.countList[3]>0?i("el-card",{staticClass:"box-card mt20"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" 问答题（共"+t._s(t.countList[3])+"题，合计"+t._s(t.countList[3]*t.scoreList[3])+"分） ")]),i("draggable",{attrs:{list:t.selectSubList},on:{update:t.datadragEnd}},t._l(t.selectSubList,(function(e,s){return 5==e.type?i("div",{key:s,staticStyle:{cursor:"move","margin-bottom":"15px"}},[i("div",{staticClass:"question_title"},[i("span",[t._v("Q"+t._s(s+1-t.countList[0]-t.countList[1]-t.countList[2])+".["+t._s(t._f("filterSubtype")(e.type))+"] "+t._s(e.question)+" ("+t._s(e.score)+"分)")]),i("el-link",{staticStyle:{padding:"0 3px","vertical-align":"top","margin-left":"10px"},attrs:{type:"primary",underline:!1},on:{click:function(i){return t.delSub(e)}}},[t._v("删除")])],1),5!==e.type?i("div",{staticStyle:{margin:"10px 0"}},[3!==e.type?i("div",{staticClass:"inline_block"},[t._v(" 选项 ")]):t._e(),3!==e.type?i("div",{staticClass:"inline_block",staticStyle:{"vertical-align":"text-top","margin-left":"10px"}},t._l(e.optionDetail,(function(e,s){return i("div",{key:s,staticClass:"question_option"},[t._v(" "+t._s(t.options[s])+". "),i("span",{staticClass:"question_option_content"},[t._v(t._s(e.optionContent))])])})),0):t._e(),i("div",{staticStyle:{margin:"10px 0"}},[1==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]):t._e(),2==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answerList.join(",")))])]):t._e(),3==e.type?i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s("A"==e.answer?"对":"错"))])]):t._e()])]):i("div",{staticStyle:{margin:"10px 0"}},[i("div",[t._v(" 答案 "),i("span",{staticStyle:{color:"red","margin-left":"5px"}},[t._v(t._s(e.answer))])]),t._l(e.keyWordList,(function(e,s){return i("div",{key:s,staticStyle:{"margin-top":"10px"}},[i("span",[t._v("关键词 "+t._s(e.synonym)+" ")]),t._v(" "),i("span",[t._v("权重 "+t._s(e.weight)+"%")])])}))],2),i("el-divider")],1):t._e()})),0)],1):t._e()],1),i("div",{staticClass:"panel"},[t._v(" 已选题库 "),i("span",{staticStyle:{color:"red"}},[t._v(" 当前已选中:"+t._s(t.selectSubList.length)+"道题")]),i("div",{staticStyle:{"margin-top":"10px"}},t._l(t.selectSubList,(function(e){return i("div",{key:e.id,staticClass:"subItem"},[t._v(" "+t._s(e.question)+" "),i("span",{staticClass:"el-icon-circle-close del",on:{click:function(i){return t.delSub(e)}}})])})),0)])])]):t._e()]),i("el-card",{staticClass:"box-card",staticStyle:{margin:"0 15px"}},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{staticClass:"el-card-header-title"},[t._v("设置分值")])]),i("div",[i("table",{staticClass:"table",staticStyle:{"margin-top":"10px"}},[i("thead",[i("tr",[i("th",[t._v("题目类型")]),i("th",[t._v("单选题")]),i("th",[t._v("多选题")]),i("th",[t._v("判断题")]),i("th",[t._v("问答题")])])]),i("tbody",[i("tr",[i("td",[t._v("数量")]),i("td",[t._v(t._s(t.countList[0])+"个")]),i("td",[t._v(t._s(t.countList[1])+"个")]),i("td",[t._v(t._s(t.countList[2])+"个")]),i("td",[t._v(t._s(t.countList[3])+"个")])]),i("tr",[i("td",[t._v("数量分值")]),i("td",[i("el-input-number",{staticClass:"input_score",attrs:{min:0,disabled:0==t.countList[0],controls:!1},on:{input:function(e){return t.calculate(t.scoreList[0],1)}},model:{value:t.scoreList[0],callback:function(e){t.$set(t.scoreList,0,t._n(e))},expression:"scoreList[0]"}}),t._v("分/题 ")],1),i("td",[i("el-input-number",{staticClass:"input_score",attrs:{min:0,disabled:0==t.countList[1],controls:!1},on:{input:function(e){return t.calculate(t.scoreList[1],2)}},model:{value:t.scoreList[1],callback:function(e){t.$set(t.scoreList,1,t._n(e))},expression:"scoreList[1]"}}),t._v("分/题 ")],1),i("td",[i("el-input-number",{staticClass:"input_score",attrs:{min:0,disabled:0==t.countList[2],controls:!1},on:{input:function(e){return t.calculate(t.scoreList[2],3)}},model:{value:t.scoreList[2],callback:function(e){t.$set(t.scoreList,2,t._n(e))},expression:"scoreList[2]"}}),t._v("分/题 ")],1),i("td",[i("el-input-number",{staticClass:"input_score",attrs:{min:0,disabled:0==t.countList[3],controls:!1},on:{input:function(e){return t.calculate(t.scoreList[3],5)}},model:{value:t.scoreList[3],callback:function(e){t.$set(t.scoreList,3,t._n(e))},expression:"scoreList[3]"}}),t._v("分/题 ")],1)]),i("tr",[i("td",[t._v("统计")]),i("td",{attrs:{colspan:"5"}},[i("div",{staticStyle:{"text-align":"right"}},[t._v(" 卷面总计 "+t._s(t.countList[0]*t.scoreList[0]+t.countList[1]*t.scoreList[1]+t.countList[2]*t.scoreList[2]+t.countList[3]*t.scoreList[3])+"分 "),i("span",{staticStyle:{"margin-left":"30px"}},[t._v("及格分：")]),i("el-input-number",{staticClass:"input_score",attrs:{min:0,controls:!1},model:{value:t.form.passGrade,callback:function(e){t.$set(t.form,"passGrade",t._n(e))},expression:"form.passGrade"}}),t._v("分 ")],1)])])])])])])],1),i("div",{staticClass:"dialog-footer text-center",staticStyle:{margin:"15px 0"}},[i("el-button",{on:{click:function(e){return t.$router.push("/paper/paper/index")}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.updata}},[t._v("创建")])],1)],1),i("addSubform",{ref:"dialogAddVisible",attrs:{"select-list":t.selectSubList},on:{changSub:t.handleSelectionChange22}})],1)},a=[],n=(i("c904"),i("9a33"),i("6d57"),i("6724")),o=i("8ecb"),r=i.n(o),l=i("a774"),c=i("3d70"),u=i("3f4b"),d=i("6d93"),p={directives:{waves:n["a"]},components:{draggable:r.a,AddSubform:l["default"]},filters:{filterSubtype:function(t){switch(t){case 1:return"单选题";case 2:return"多选题";case 3:return"判断题";case 5:return"问答题"}}},data:function(){return{options:[],groupList:[],paperClassificationId:"",defaultProps:{children:"nodes",label:"text"},showInput:!1,selClassTree:{},showTree:!1,tableKey:0,list:[],total:0,loading:!1,form:{},data:[],dialog:!1,erroMessage:!1,listQuery:{pageIndex:0,currentPage:1,pageSize:10,text:""},rules:{text:[{required:!0,message:"试卷名称",trigger:"blur"},{max:32,message:"最多可输入32个字符",trigger:"blur"}],description:[{max:200,message:"最多可输入200个字符",trigger:"blur"}]},listLoading:!1,checkAll:!1,checkedTypes:[],countList:[0,0,0,0],scoreList:[0,0,0,0],isIndeterminate:!0,scoreData:[],passGrade:0,totalScore:0,types:[{label:"单选题",value:1},{label:"多选题",value:2},{label:"判断题",value:3},{label:"问答题",value:5}],selectSubList:[]}},mounted:function(){var t=this;this.$route.query.id?(Object(c["g"])(this.$route.query.id).then((function(e){t.form=e.data,t.paperClassificationId=t.form.paperClassificationId,t.form.paperClassificationNameCopy=t.form.paperClassificationName,t.selectSubList=t.form.subjectDetail,t.selectSubList.forEach((function(e){e.score=e.paperScore,1==e.type?(t.countList[0]=t.countList[0]+1,t.scoreList[0]=e.score):2==e.type?(t.countList[1]=t.countList[1]+1,t.scoreList[1]=e.score,e.answerList=e.answer.split("$")):3==e.type?(t.countList[2]=t.countList[2]+1,t.scoreList[2]=e.score):(t.countList[3]=t.countList[3]+1,t.scoreList[3]=e.score,e.keyWordList=JSON.parse(e.keyWord))}))})),this.$route.meta.title="编辑试卷",this.$set(this.$route.meta,"title","编辑试卷")):(this.form={},this.$route.meta.title="新增试卷",this.$set(this.$route.meta,"title","新增试卷")),Object(u["e"])().then((function(e){t.data=e.data})),this.getGroupList(),this.options=this.generateCode(),this.$forceUpdate()},activated:function(){var t=this;this.$route.query.id?(Object(c["g"])(this.$route.query.id).then((function(e){t.form=e.data,t.paperClassificationId=t.form.paperClassificationId,t.form.paperClassificationNameCopy=t.form.paperClassificationName,t.selectSubList=t.form.subjectDetail,t.selectSubList.forEach((function(e){e.score=e.paperScore,1==e.type?(t.countList[0]=t.countList[0]+1,t.scoreList[0]=e.score):2==e.type?(t.countList[1]=t.countList[1]+1,t.scoreList[1]=e.score,e.answerList=e.answer.split("$")):3==e.type?(t.countList[2]=t.countList[2]+1,t.scoreList[2]=e.score):(t.countList[3]=t.countList[3]+1,t.scoreList[3]=e.score,e.keyWordList=JSON.parse(e.keyWord))}))})),this.$route.meta.title="编辑试卷",this.$set(this.$route.meta,"title","编辑试卷")):(this.form={},this.$route.meta.title="新增试卷",this.$set(this.$route.meta,"title","新增试卷")),Object(u["e"])().then((function(e){t.data=e.data})),this.getGroupList(),this.options=this.generateCode(),this.$forceUpdate()},methods:{generateCode:function(){for(var t=[],e=65;e<91;e++)t.push(String.fromCharCode(e));return t},getRowKey:function(t){return t.id},getGroupList:function(t){var e=this;Object(c["e"])().then((function(i){var s={id:-1,text:"默认分组"};e.groupList=i.data||[],e.groupList.unshift(s),e.$route.query.id||(e.paperClassificationId=-1,e.form.paperClassificationNameCopy="默认分组"),t&&(e.paperClassificationId=e.groupList[e.groupList.length-1].id,e.form.paperClassificationNameCopy=e.groupList[e.groupList.length-1].text)}))},back:function(){this.$router.push({path:"/coursePage/index"})},addSubject:function(){var t=this;this.$nextTick((function(){var e=t.$refs["dialogAddVisible"];e.dialog=!0}))},handleSelectionChange22:function(t){var e=this;this.selectSubList=t,this.countList[0]=0,this.countList[1]=0,this.countList[2]=0,this.countList[3]=0,this.selectSubList.forEach((function(t){1==t.type?(e.countList[0]=e.countList[0]+1,t.score=e.scoreList[0]||0):2==t.type?(e.countList[1]=e.countList[1]+1,t.score=e.scoreList[1]||0,t.answerList=t.answer.split("$")):3==t.type?(e.countList[2]=e.countList[2]+1,t.score=e.scoreList[2]||0):(e.countList[3]=e.countList[3]+1,t.score=e.scoreList[3]||0,t.keyWordList=JSON.parse(t.keyWord))})),this.selectSubList=this.selectSubList.sort((function(t,e){return t.type-e.type}))},datadragEnd:function(t){},calculate:function(t,e){this.selectSubList.forEach((function(i){i.type==e&&(i.score=t)})),this.$forceUpdate()},delSub:function(t){var e=this;this.selectSubList.splice(this.selectSubList.indexOf(t),1),this.countList[0]=0,this.countList[1]=0,this.countList[2]=0,this.countList[3]=0,this.selectSubList.forEach((function(t){1==t.type?(e.countList[0]=e.countList[0]+1,t.score=e.scoreList[0]||0):2==t.type?(e.countList[1]=e.countList[1]+1,t.score=e.scoreList[1]||0,t.answerList=t.answer.split("$")):3==t.type?(e.countList[2]=e.countList[2]+1,t.score=e.scoreList[2]||0):(e.countList[3]=e.countList[3]+1,t.score=e.scoreList[3]||0,t.keyWordList=JSON.parse(t.keyWord))}))},addGroup:function(){this.form.paperClassificationNameCopy="",this.showInput=!0,this.paperClassificationId=""},delGroup:function(t){var e=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["b"])(t.id).then((function(t){0==t.code?(e.$notify({title:"Success",message:"删除成功!",type:"success",duration:2e3}),e.getGroupList()):e.$message.error(t.msg)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},getGroup:function(t){this.form.paperClassificationNameCopy=t.text,this.paperClassificationId=t.id,-1!==t.id&&(this.showInput=!0),this.$forceUpdate(),this.$refs.form.validateField("paperClassificationNameCopy")},saveGroup:function(){var t=this;if(this.form.paperClassificationNameCopy){this.showInput=!1;var e={parentId:"0",text:this.form.paperClassificationNameCopy,id:this.paperClassificationId||""};Object(c["h"])(e).then((function(e){0==e.code?(t.$message.success("操作成功"),t.getGroupList(!0)):t.$message.error(e.msg)}))}else this.$message.error("请填写分组名称")},uoGroup:function(){this.showInput=!1,this.form.paperClassificationNameCopy=""},updata:function(){var t=this;this.paperClassificationId?this.erroMessage=!1:this.erroMessage=!0,0!=this.selectSubList.length?0===this.countList[0]||0!=this.scoreList[0]?0===this.countList[1]||0!=this.scoreList[1]?0===this.countList[2]||0!=this.scoreList[2]?0===this.countList[3]||0!=this.scoreList[3]?this.form.passGrade?(this.form.totalGrade=this.countList[0]*this.scoreList[0]+this.countList[1]*this.scoreList[1]+this.countList[2]*this.scoreList[2]+this.countList[3]*this.scoreList[3],0!=this.form.totalGrade?this.form.passGrade>this.form.totalGrade?this.$message.error("及格分不得大于总分"):this.$refs["form"].validate((function(e){if(!e||t.erroMessage)return!1;t.form.paperClassificationId=t.paperClassificationId,t.form.type=1,t.form.isPublish=0,t.form.count=t.countList&&t.countList.length&&t.countList.reduce((function(t,e){return t+e}),0);var i=t.selectSubList&&t.selectSubList.length&&t.selectSubList.reduce((function(t,e){return t.push(e.score),t}),[]);t.form.score=i.join(","),t.form.questionList=[],t.selectSubList.forEach((function(e){1==e.type?e.score=t.scoreList[0]:2==e.type?e.score=t.scoreList[1]:3==e.type?e.score=t.scoreList[2]:e.score=t.scoreList[3],t.form.questionList.push({id:e.id,score:e.score})})),t.loading=!0,Object(c["d"])(t.form).then((function(e){0==e.code?(t.$message.success("提交成功"),t.$router.push("/paper/paper/index"),d["default"].$emit("getlist")):(t.$message.error(e.msg),t.$router.push("/paper/paper/index")),t.loading=!1}))})):this.$message.error("总分不得等于0")):this.$message.error("请输入及格分"):this.$message.error("请设置问答题分数"):this.$message.error("请设置判断题分数"):this.$message.error("请设置多选题分数"):this.$message.error("请设置单选题分数"):this.$message.error("请选择题目")}}},f=p,h=(i("cb41"),i("9ca4")),m=Object(h["a"])(f,s,a,!1,null,"2f02b3e0",null);e["default"]=m.exports},"64ed":function(t,e,i){},6724:function(t,e,i){"use strict";i("8d41");var s="@@wavesContext";function a(t,e){function i(i){var s=Object.assign({},e.value),a=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},s),n=a.ele;if(n){n.style.position="relative",n.style.overflow="hidden";var o=n.getBoundingClientRect(),r=n.querySelector(".waves-ripple");switch(r?r.className="waves-ripple":(r=document.createElement("span"),r.className="waves-ripple",r.style.height=r.style.width=Math.max(o.width,o.height)+"px",n.appendChild(r)),a.type){case"center":r.style.top=o.height/2-r.offsetHeight/2+"px",r.style.left=o.width/2-r.offsetWidth/2+"px";break;default:r.style.top=(i.pageY-o.top-r.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",r.style.left=(i.pageX-o.left-r.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return r.style.backgroundColor=a.color,r.className="waves-ripple z-active",!1}}return t[s]?t[s].removeHandle=i:t[s]={removeHandle:i},i}var n={bind:function(t,e){t.addEventListener("click",a(t,e),!1)},update:function(t,e){t.removeEventListener("click",t[s].removeHandle,!1),t.addEventListener("click",a(t,e),!1)},unbind:function(t){t.removeEventListener("click",t[s].removeHandle,!1),t[s]=null,delete t[s]}},o=function(t){t.directive("waves",n)};window.Vue&&(window.waves=n,Vue.use(o)),n.install=o;e["a"]=n},"6d93":function(t,e,i){"use strict";i.r(e);var s=i("6e6d");e["default"]=new s["default"]},"6df0":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{attrs:{title:"详情",width:"40%",visible:t.dialog,"append-to-body":"","close-on-click-modal":!1,"destroy-on-close":""},on:{"update:visible":function(e){t.dialog=e}}},[i("el-form",{ref:"form",attrs:{model:t.item,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"题型",prop:"type"}},[i("el-select",{attrs:{disabled:""},model:{value:t.item.type,callback:function(e){t.$set(t.item,"type",e)},expression:"item.type"}},t._l(t.types,(function(t){return i("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1),i("el-form-item",{attrs:{label:"知识体系分类"}},[i("div",{staticClass:"pro-sty"},[i("el-input",{attrs:{"read-only":""},model:{value:t.item.hierarchyClassificationName,callback:function(e){t.$set(t.item,"hierarchyClassificationName",e)},expression:"item.hierarchyClassificationName"}})],1)]),i("el-form-item",{attrs:{label:"题干",prop:"question"}},[i("el-input",{attrs:{"read-only":""},model:{value:t.item.question,callback:function(e){t.$set(t.item,"question",e)},expression:"item.question"}})],1),i("div",{staticClass:"subjectPanel",staticStyle:{"margin-left":"120px"}},[1==t.item.type?i("div",t._l(t.item.optionDetail,(function(e,s){return i("div",{key:s,staticClass:"subjectPanel_item"},[i("el-radio",{attrs:{label:t.options[s],value:t.options[s],disabled:""},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}}),i("el-input",{class:{showErroMsg:e.showErroMsg},attrs:{readonly:""},model:{value:e.optionContent,callback:function(i){t.$set(e,"optionContent",i)},expression:"option.optionContent"}})],1)})),0):t._e(),2==t.item.type?i("div",[i("div",{staticClass:"subjectPanel_item"},[i("el-checkbox-group",{model:{value:t.item.answerList,callback:function(e){t.$set(t.item,"answerList",e)},expression:"item.answerList"}},t._l(t.item.optionDetail,(function(e,s){return i("el-checkbox",{key:s,staticClass:"type2",attrs:{label:t.options[s],value:t.options[s],disabled:""}},[i("span",{class:{active:-1!=t.item.answerList.join(",").indexOf(t.options[s])}},[t._v(t._s(t.options[s])+" ")]),i("el-input",{attrs:{required:"",readonly:""},model:{value:e.optionContent,callback:function(i){t.$set(e,"optionContent",i)},expression:"option.optionContent"}})],1)})),1),i("div")],1)]):t._e(),3==t.item.type?i("div",[i("div",[i("el-radio",{staticClass:"subjectPanel_item",staticStyle:{width:"calc(100% - 200px)"},attrs:{label:t.options[0],disabled:""},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}},[i("span",{class:{active:"A"==t.item.answer}},[t._v("对")])])],1),i("div",{staticClass:"subjectPanel_item"},[i("el-radio",{staticStyle:{width:"calc(100% - 200px)"},attrs:{label:t.options[1],disabled:""},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}},[i("span",{class:{active:"B"==t.item.answer}},[t._v("错")])])],1)]):t._e()]),5==t.item.type?i("el-form-item",{attrs:{label:"答案",prop:"answer"}},[i("el-input",{attrs:{type:"textarea",readonly:""},model:{value:t.item.answer,callback:function(e){t.$set(t.item,"answer",e)},expression:"item.answer"}})],1):t._e(),i("el-form-item",{attrs:{label:"解析"}},[i("el-input",{attrs:{type:"textarea",readonly:""},model:{value:t.item.analysis,callback:function(e){t.$set(t.item,"analysis",e)},expression:"item.analysis"}})],1),5==t.item.type?i("div",t._l(t.item.keyWordList,(function(e,s){return i("el-form-item",{key:s,attrs:{label:"关键词"+(s+1)}},[i("el-input",{staticClass:"keywords",attrs:{readonly:""},model:{value:e.synonym,callback:function(i){t.$set(e,"synonym",i)},expression:"k.synonym"}}),i("el-input-number",{staticClass:"weight",attrs:{controls:!1,readonly:""},model:{value:e.weight,callback:function(i){t.$set(e,"weight",i)},expression:"k.weight"}}),i("span",{staticStyle:{"margin-left":"-10px","margin-right":"15px"}},[t._v("%")])],1)})),1):t._e(),"5"!=t.item.type?i("el-form-item",{attrs:{label:"正确答案"}},["3"!=t.item.type?i("label",[t._v(t._s(t.item.answerList?t.item.answerList.join(","):t.item.answer))]):i("label",[t._v(t._s("A"==t.item.answer?"对":"错"))])]):t._e()],1)],1)],1)},a=[],n={props:["item","types"],data:function(){return{answer:"",options:[],dialog:!1}},created:function(){this.options=this.generateCode()},methods:{generateCode:function(){for(var t=[],e=65;e<91;e++)t.push(String.fromCharCode(e));return t}}},o=n,r=(i("180d"),i("9ca4")),l=Object(r["a"])(o,s,a,!1,null,"78551029",null);e["default"]=l.exports},"6e23":function(t,e,i){},8619:function(t,e,i){"use strict";var s=i("3248"),a=i.n(s);a.a},"89c6":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pro-sty",style:{width:t.width+"px"}},[i("el-input",{attrs:{placeholder:"请选择-知识体系分类",clearable:"","read-only":""},on:{change:t.changeTree},nativeOn:{click:function(e){return t.deptogglePanel(e,"classTree",t.selClassTree)}},model:{value:t.selClassTree.text,callback:function(e){t.$set(t.selClassTree,"text",e)},expression:"selClassTree.text"}}),t.showTree?i("div",{ref:"suoShuMenTree",staticClass:"treeDiv"},[i("el-tree",{ref:"classTree",staticClass:"suoshubumen",attrs:{data:t.treeData,props:t.defaultProps,"node-key":"id","highlight-current":"","expand-on-click-node":!1},on:{"node-click":t.handleNodeClick}})],1):t._e()],1)},a=[],n=i("6724"),o={directives:{waves:n["a"]},props:["treeData","width","defaultProps","selClassTree"],data:function(){return{showTree:!1}},methods:{handleNodeClick:function(t){this.showTree=!1,this.selClassTree.id=t.id,this.selClassTree.text=t.text,this.$emit("handleNodeClick",t)},changeTree:function(){this.$emit("changeTree")},deptogglePanel:function(t,e,i){t||(t=window.event),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.showTree?this.dephide(e,i):this.depshow(e,i)},depshow:function(t,e){var i=this;this.showTree=!0,this.$nextTick((function(){i.$refs[t].setCurrentKey(e.id)})),document.addEventListener("click",this.dephidePanel,!1)},dephide:function(){this.showTree=!1,document.addEventListener("click",this.dephidePanel,!1)},dephidePanel:function(t){this.$refs.suoShuMenTree&&!this.$refs.suoShuMenTree.contains(t.target)&&this.dephide()}}},r=o,l=(i("1b6e"),i("9ca4")),c=Object(l["a"])(r,s,a,!1,null,"f17e46a0",null);e["default"]=c.exports},"8d41":function(t,e,i){},a2cd:function(t,e,i){"use strict";var s=i("238a");t.exports=function(t,e){return!!t&&s((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},a648:function(t,e,i){"use strict";var s=i("b955"),a=i.n(s);a.a},a774:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{title:"选择题库",width:"60%",visible:t.dialog,"append-to-body":"","destroy-on-close":"","before-close":t.cancel,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialog=e},open:t.getData}},[i("div",{staticClass:"filter-container"},[i("div",{staticClass:"operate-panel"},[i("div",{staticClass:"operate-panel_left"},[t._v(" 题目知识点分类： "),i("Tree",{attrs:{"tree-data":t.data,width:200,"default-props":t.defaultProps,"sel-class-tree":t.selClassTree},on:{handleNodeClick:t.handleNodeClick,changeTree:t.changeTree}}),i("el-input",{staticClass:"filter-item",attrs:{placeholder:"题目名称"},model:{value:t.listQuery.question,callback:function(e){t.$set(t.listQuery,"question",e)},expression:"listQuery.question"}}),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v("查询")]),i("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"default"},on:{click:t.reset}},[t._v("重置")])],1)]),i("div",{staticClass:"operate-panel_left",staticStyle:{margin:"0px 0px 10px 0"}},[t._v(" 题型 "),i("el-checkbox",{staticStyle:{display:"inline-block","margin-left":"5px"},attrs:{indeterminate:t.isIndeterminate},on:{change:t.handleCheckAllChange},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")]),i("el-checkbox-group",{staticStyle:{display:"inline-block","margin-left":"15px"},on:{change:t.handleCheckedTypesChange},model:{value:t.checkedTypes,callback:function(e){t.checkedTypes=e},expression:"checkedTypes"}},t._l(t.types,(function(e){return i("el-checkbox",{key:e.value,attrs:{label:e.value,value:e.value}},[t._v(t._s(e.label))])})),1)],1),i("div",{staticClass:"panel-body",staticStyle:{height:"500px"}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,ref:"subjectTab",staticStyle:{width:"100%"},attrs:{"row-key":t.getRowKey,data:t.list,border:"",fit:"","highlight-current-row":"",height:"100%","default-sort":{prop:"id",order:"descending"}},on:{"selection-change":t.handleSelectionChange,select:t.handleRowClick}},[i("el-table-column",{attrs:{label:"NO",type:"index",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s((t.listQuery.currentPage-1)*t.listQuery.pageSize+e.$index+1)+" ")])]}}])}),i("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":!0}}),i("el-table-column",{attrs:{label:"分类",prop:"hierarchyClassificationName",align:"left","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"题型",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t._v(" "+t._s(t._f("filterSubtype")(i.type))+" ")]}}])}),i("el-table-column",{attrs:{label:"题目",prop:"question",align:"left","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"创建日期",prop:"createTime",align:"left",width:"180"}}),i("el-table-column",{attrs:{label:"操作",align:"center",width:"160px",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[i("el-link",{staticStyle:{padding:"0 3px"},attrs:{type:"primary",underline:!1},on:{click:function(e){return t.handleDetail(s)}}},[t._v("查看详情")])]}}])})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"panel-page"},[i("pagination",{attrs:{total:t.total,page:t.listQuery.currentPage,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"currentPage",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getList}})],1),i("div",{staticClass:"panel"},[t._v(" 已选题库 "),i("span",{staticStyle:{color:"red"}},[t._v(" 当前已选中:"+t._s(t.selectSubList.length)+"道题")]),i("div",{staticStyle:{"margin-top":"10px"}},t._l(t.selectSubList,(function(e){return i("div",{key:e.id,staticClass:"subItem"},[t._v(" "+t._s(e.question)+" "),i("span",{staticClass:"el-icon-circle-close del",on:{click:function(i){return t.delSub(e)}}})])})),0)])]),i("div",{staticClass:"dialog-footer text-center",staticStyle:{margin:"15px 0"}},[i("el-button",{on:{click:t.cancel}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.updata}},[t._v("确认")])],1)]),i("Showloadform",{ref:"dialogFormShowVisible",attrs:{item:t.form,types:t.types}})],1)},a=[],n=(i("9a33"),i("e204"),i("ed63"),i("8cf2"),i("6d57"),i("6724")),o=i("333d"),r=i("6df0"),l=i("89c6"),c=i("3f4b"),u={directives:{waves:n["a"]},components:{Pagination:o["a"],Showloadform:r["default"],Tree:l["default"]},filters:{filterSubtype:function(t){switch(t){case 1:return"单选题";case 2:return"多选题";case 3:return"判断题";case 5:return"问答题"}}},props:["selectList"],data:function(){return{selClassTree:{},form:{},paperClassificationName:"",paperClassificationId:"",selectSubList:[],defaultProps:{children:"nodes",label:"text"},tableKey:0,list:[],total:0,loading:!1,data:[],dialog:!1,listQuery:{pageIndex:0,currentPage:1,pageSize:10,question:""},listLoading:!1,checkAll:!1,checkedTypes:[],countList:[0,0,0,0],scoreList:[0,0,0,0],isIndeterminate:!1,scoreData:[],types:[{label:"单选题",value:1},{label:"多选题",value:2},{label:"判断题",value:3},{label:"问答题",value:5}]}},methods:{getRowKey:function(t){return t.id},getList:function(){var t=this;this.listLoading=!0,this.listQuery.pageIndex=this.listQuery.currentPage-1,Object(c["d"])(this.listQuery).then((function(e){t.list=e.data.data,t.total=e.data.totalCount,t.listLoading=!1;var i=t.selectSubList&&t.selectSubList.length&&t.selectSubList.reduce((function(t,e){return t.push(e.id),t}),[]);t.selectList.length&&t.selectList.forEach((function(e){i&&-1==i.indexOf(e.id)&&t.selectSubList.push(e)})),t.selectSubList.length&&t.list.length&&t.list.forEach((function(e){-1!==i.indexOf(e.id)&&t.$refs.subjectTab.toggleRowSelection(e,!0)}))}))},reset:function(){this.selClassTree={},this.checkedTypes=[],this.isIndeterminate=!1,this.checkAll=!1,this.listQuery={pageIndex:0,currentPage:1,pageSize:10,hierarchyClassificationName:"",hierarchyClassificationId:""}},delSub:function(t){this.$refs.subjectTab.toggleRowSelection(t,!1),this.selectSubList.splice(this.selectSubList.indexOf(t),1)},handleSelectionChange:function(t){t&&t.length?this.ids=t.reduce((function(t,e){return t.push(e.id),t}),[]).join(","):this.ids="";var e=this.selectSubList.map((function(t){return t.id})),i=t.filter((function(t){return!e.includes(t.id)}));this.selectSubList=this.selectSubList.concat(i)},handleRowClick:function(t,e){var i=this.selectSubList.findIndex((function(t){return t.id==e.id})),s="";t&&t.length&&(s=t.reduce((function(t,e){return t.push(e.id),t}),[]).join(",")),-1==s.indexOf(e.id)&&-1!==i&&this.selectSubList.splice(i,1)},handleCheckedTypesChange:function(t){this.listQuery.typeList=t.join(",");var e=t.length;this.checkAll=e===this.types.length,this.isIndeterminate=e>0&&e<this.types.length,this.listQuery.typeList=this.checkedTypes.join(","),this.getList()},handleCheckAllChange:function(t){this.checkedTypes=t?this.types&&this.types.length&&this.types.reduce((function(t,e){return t.push(e.value),t}),[]):[],this.isIndeterminate=!1,this.listQuery.typeList=this.checkedTypes.join(","),this.getList()},handleNodeClick:function(t){this.listQuery.hierarchyClassificationName=t.text,this.listQuery.hierarchyClassificationId=t.id,this.$set(this.listQuery,"hierarchyClassificationId",t.id),this.$set(this.listQuery,"hierarchyClassificationName",t.text)},changeTree:function(){this.listQuery.hierarchyClassificationName=void 0,this.listQuery.hierarchyClassificationId=void 0},handleFilter:function(){this.listQuery.currentPage=1,this.getList()},handleDetail:function(t){var e=this;this.form=Object.assign({},t),2==t.type&&(this.form.answerList=this.form.answer.split("$")),5==t.type&&(this.form.keyWordList=JSON.parse(this.form.keyWord)),this.form.type=this.form.type,this.$nextTick((function(){var t=e.$refs["dialogFormShowVisible"];t.dialog=!0}))},cancel:function(){this.dialog=!1},getData:function(){var t=this,e=this.selectList||[];this.$set(this,"selectSubList",e),this.getList(),Object(c["e"])().then((function(e){var i={id:-1,nodes:null,parentId:0,parentName:null,pids:"0",text:"默认分类"};t.data=e.data||[],t.data.unshift(i)}))},updata:function(){0!=this.selectSubList.length?(this.$emit("changSub",this.selectSubList),this.dialog=!1):this.$message.error("请选择题目")}}},d=u,p=(i("8619"),i("9ca4")),f=Object(p["a"])(d,s,a,!1,null,"1988e749",null);e["default"]=f.exports},ad11:function(t,e,i){},b955:function(t,e,i){},c904:function(t,e,i){"use strict";var s=i("e46b"),a=i("5daa"),n=i("008a"),o=i("238a"),r=[].sort,l=[1,2,3];s(s.P+s.F*(o((function(){l.sort(void 0)}))||!o((function(){l.sort(null)}))||!i("a2cd")(r)),"Array",{sort:function(t){return void 0===t?r.call(n(this)):r.call(n(this),a(t))}})},cb41:function(t,e,i){"use strict";var s=i("6e23"),a=i.n(s);a.a}}]);